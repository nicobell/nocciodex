(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function an(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const X={},Vt=[],We=()=>{},wa=()=>!1,lr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ln=t=>t.startsWith("onUpdate:"),be=Object.assign,cn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Sa=Object.prototype.hasOwnProperty,G=(t,e)=>Sa.call(t,e),L=Array.isArray,qt=t=>js(t)==="[object Map]",Yt=t=>js(t)==="[object Set]",Ln=t=>js(t)==="[object Date]",F=t=>typeof t=="function",de=t=>typeof t=="string",Je=t=>typeof t=="symbol",ne=t=>t!==null&&typeof t=="object",Ni=t=>(ne(t)||F(t))&&F(t.then)&&F(t.catch),Fi=Object.prototype.toString,js=t=>Fi.call(t),ka=t=>js(t).slice(8,-1),Bi=t=>js(t)==="[object Object]",un=t=>de(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_s=an(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},xa=/-(\w)/g,pt=cr(t=>t.replace(xa,(e,s)=>s?s.toUpperCase():"")),Ta=/\B([A-Z])/g,It=cr(t=>t.replace(Ta,"-$1").toLowerCase()),Hi=cr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Er=cr(t=>t?`on${Hi(t)}`:""),ht=(t,e)=>!Object.is(t,e),zs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Vi=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Xs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Un;const ur=()=>Un||(Un=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dn(t){if(L(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=de(r)?Pa(r):dn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(de(t)||ne(t))return t}const Ea=/;(?![^(]*\))/g,Oa=/:([^]+)/,Ca=/\/\*[^]*?\*\//g;function Pa(t){const e={};return t.replace(Ca,"").split(Ea).forEach(s=>{if(s){const r=s.split(Oa);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function oe(t){let e="";if(de(t))e=t;else if(L(t))for(let s=0;s<t.length;s++){const r=oe(t[s]);r&&(e+=r+" ")}else if(ne(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Aa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$a=an(Aa);function qi(t){return!!t||t===""}function ja(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=$t(t[r],e[r]);return s}function $t(t,e){if(t===e)return!0;let s=Ln(t),r=Ln(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=Je(t),r=Je(e),s||r)return t===e;if(s=L(t),r=L(e),s||r)return s&&r?ja(t,e):!1;if(s=ne(t),r=ne(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!$t(t[o],e[o]))return!1}}return String(t)===String(e)}function hn(t,e){return t.findIndex(s=>$t(s,e))}const Ki=t=>!!(t&&t.__v_isRef===!0),st=t=>de(t)?t:t==null?"":L(t)||ne(t)&&(t.toString===Fi||!F(t.toString))?Ki(t)?st(t.value):JSON.stringify(t,Wi,2):String(t),Wi=(t,e)=>Ki(e)?Wi(t,e.value):qt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[Or(r,i)+" =>"]=n,s),{})}:Yt(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Or(s))}:Je(e)?Or(e):ne(e)&&!L(e)&&!Bi(e)?String(e):e,Or=(t,e="")=>{var s;return Je(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let me;class Ji{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=me,!e&&me&&(this.index=(me.scopes||(me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=me;try{return me=this,e()}finally{me=s}}}on(){me=this}off(){me=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function zi(t){return new Ji(t)}function Gi(){return me}function Ra(t,e=!1){me&&me.cleanups.push(t)}let se;const Cr=new WeakSet;class Qi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,me&&me.active&&me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Cr.has(this)&&(Cr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Dn(this),Zi(this);const e=se,s=Ue;se=this,Ue=!0;try{return this.fn()}finally{eo(this),se=e,Ue=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)gn(e);this.deps=this.depsTail=void 0,Dn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Cr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Br(this)&&this.run()}get dirty(){return Br(this)}}let Yi=0,vs,ms;function Xi(t,e=!1){if(t.flags|=8,e){t.next=ms,ms=t;return}t.next=vs,vs=t}function fn(){Yi++}function pn(){if(--Yi>0)return;if(ms){let e=ms;for(ms=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;vs;){let e=vs;for(vs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Zi(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function eo(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),gn(r),Ia(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function Br(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(to(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function to(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Es))return;t.globalVersion=Es;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Br(t)){t.flags&=-3;return}const s=se,r=Ue;se=t,Ue=!0;try{Zi(t);const n=t.fn(t._value);(e.version===0||ht(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{se=s,Ue=r,eo(t),t.flags&=-3}}function gn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)gn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ia(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ue=!0;const so=[];function _t(){so.push(Ue),Ue=!1}function vt(){const t=so.pop();Ue=t===void 0?!0:t}function Dn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=se;se=void 0;try{e()}finally{se=s}}}let Es=0;class La{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _n{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!se||!Ue||se===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==se)s=this.activeLink=new La(se,this),se.deps?(s.prevDep=se.depsTail,se.depsTail.nextDep=s,se.depsTail=s):se.deps=se.depsTail=s,ro(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=se.depsTail,s.nextDep=void 0,se.depsTail.nextDep=s,se.depsTail=s,se.deps===s&&(se.deps=r)}return s}trigger(e){this.version++,Es++,this.notify(e)}notify(e){fn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{pn()}}}function ro(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)ro(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Zs=new WeakMap,Ot=Symbol(""),Hr=Symbol(""),Os=Symbol("");function pe(t,e,s){if(Ue&&se){let r=Zs.get(t);r||Zs.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new _n),n.map=r,n.key=s),n.track()}}function Xe(t,e,s,r,n,i){const o=Zs.get(t);if(!o){Es++;return}const a=l=>{l&&l.trigger()};if(fn(),e==="clear")o.forEach(a);else{const l=L(t),u=l&&un(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,p)=>{(p==="length"||p===Os||!Je(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Os)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Ot)),qt(t)&&a(o.get(Hr)));break;case"delete":l||(a(o.get(Ot)),qt(t)&&a(o.get(Hr)));break;case"set":qt(t)&&a(o.get(Ot));break}}pn()}function Ua(t,e){const s=Zs.get(t);return s&&s.get(e)}function Dt(t){const e=z(t);return e===t?e:(pe(e,"iterate",Os),je(t)?e:e.map(ge))}function dr(t){return pe(t=z(t),"iterate",Os),t}const Da={__proto__:null,[Symbol.iterator](){return Pr(this,Symbol.iterator,ge)},concat(...t){return Dt(this).concat(...t.map(e=>L(e)?Dt(e):e))},entries(){return Pr(this,"entries",t=>(t[1]=ge(t[1]),t))},every(t,e){return Ge(this,"every",t,e,void 0,arguments)},filter(t,e){return Ge(this,"filter",t,e,s=>s.map(ge),arguments)},find(t,e){return Ge(this,"find",t,e,ge,arguments)},findIndex(t,e){return Ge(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ge(this,"findLast",t,e,ge,arguments)},findLastIndex(t,e){return Ge(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ge(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ar(this,"includes",t)},indexOf(...t){return Ar(this,"indexOf",t)},join(t){return Dt(this).join(t)},lastIndexOf(...t){return Ar(this,"lastIndexOf",t)},map(t,e){return Ge(this,"map",t,e,void 0,arguments)},pop(){return ns(this,"pop")},push(...t){return ns(this,"push",t)},reduce(t,...e){return Mn(this,"reduce",t,e)},reduceRight(t,...e){return Mn(this,"reduceRight",t,e)},shift(){return ns(this,"shift")},some(t,e){return Ge(this,"some",t,e,void 0,arguments)},splice(...t){return ns(this,"splice",t)},toReversed(){return Dt(this).toReversed()},toSorted(t){return Dt(this).toSorted(t)},toSpliced(...t){return Dt(this).toSpliced(...t)},unshift(...t){return ns(this,"unshift",t)},values(){return Pr(this,"values",ge)}};function Pr(t,e,s){const r=dr(t),n=r[e]();return r!==t&&!je(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ma=Array.prototype;function Ge(t,e,s,r,n,i){const o=dr(t),a=o!==t&&!je(t),l=o[e];if(l!==Ma[e]){const d=l.apply(t,i);return a?ge(d):d}let u=s;o!==t&&(a?u=function(d,p){return s.call(this,ge(d),p,t)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Mn(t,e,s,r){const n=dr(t);let i=s;return n!==t&&(je(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,ge(a),l,t)}),n[e](i,...r)}function Ar(t,e,s){const r=z(t);pe(r,"iterate",Os);const n=r[e](...s);return(n===-1||n===!1)&&yn(s[0])?(s[0]=z(s[0]),r[e](...s)):n}function ns(t,e,s=[]){_t(),fn();const r=z(t)[e].apply(t,s);return pn(),vt(),r}const Na=an("__proto__,__v_isRef,__isVue"),no=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Je));function Fa(t){Je(t)||(t=String(t));const e=z(this);return pe(e,"has",t),e.hasOwnProperty(t)}class io{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Qa:co:i?lo:ao).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=L(e);if(!n){let l;if(o&&(l=Da[s]))return l;if(s==="hasOwnProperty")return Fa}const a=Reflect.get(e,s,ae(e)?e:r);return(Je(s)?no.has(s):Na(s))||(n||pe(e,"get",s),i)?a:ae(a)?o&&un(s)?a:a.value:ne(a)?n?uo(a):hr(a):a}}class oo extends io{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=jt(i);if(!je(r)&&!jt(r)&&(i=z(i),r=z(r)),!L(e)&&ae(i)&&!ae(r))return l?!1:(i.value=r,!0)}const o=L(e)&&un(s)?Number(s)<e.length:G(e,s),a=Reflect.set(e,s,r,ae(e)?e:n);return e===z(n)&&(o?ht(r,i)&&Xe(e,"set",s,r):Xe(e,"add",s,r)),a}deleteProperty(e,s){const r=G(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Xe(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!Je(s)||!no.has(s))&&pe(e,"has",s),r}ownKeys(e){return pe(e,"iterate",L(e)?"length":Ot),Reflect.ownKeys(e)}}class Ba extends io{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ha=new oo,Va=new Ba,qa=new oo(!0);const Vr=t=>t,Fs=t=>Reflect.getPrototypeOf(t);function Ka(t,e,s){return function(...r){const n=this.__v_raw,i=z(n),o=qt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?Vr:e?qr:ge;return!e&&pe(i,"iterate",l?Hr:Ot),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Bs(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Wa(t,e){const s={get(n){const i=this.__v_raw,o=z(i),a=z(n);t||(ht(n,a)&&pe(o,"get",n),pe(o,"get",a));const{has:l}=Fs(o),u=e?Vr:t?qr:ge;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&pe(z(n),"iterate",Ot),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=z(i),a=z(n);return t||(ht(n,a)&&pe(o,"has",n),pe(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=z(a),u=e?Vr:t?qr:ge;return!t&&pe(l,"iterate",Ot),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return be(s,t?{add:Bs("add"),set:Bs("set"),delete:Bs("delete"),clear:Bs("clear")}:{add(n){!e&&!je(n)&&!jt(n)&&(n=z(n));const i=z(this);return Fs(i).has.call(i,n)||(i.add(n),Xe(i,"add",n,n)),this},set(n,i){!e&&!je(i)&&!jt(i)&&(i=z(i));const o=z(this),{has:a,get:l}=Fs(o);let u=a.call(o,n);u||(n=z(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?ht(i,c)&&Xe(o,"set",n,i):Xe(o,"add",n,i),this},delete(n){const i=z(this),{has:o,get:a}=Fs(i);let l=o.call(i,n);l||(n=z(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Xe(i,"delete",n,void 0),u},clear(){const n=z(this),i=n.size!==0,o=n.clear();return i&&Xe(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ka(n,t,e)}),s}function vn(t,e){const s=Wa(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(G(s,n)&&n in r?s:r,n,i)}const Ja={get:vn(!1,!1)},za={get:vn(!1,!0)},Ga={get:vn(!0,!1)};const ao=new WeakMap,lo=new WeakMap,co=new WeakMap,Qa=new WeakMap;function Ya(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xa(t){return t.__v_skip||!Object.isExtensible(t)?0:Ya(ka(t))}function hr(t){return jt(t)?t:mn(t,!1,Ha,Ja,ao)}function Za(t){return mn(t,!1,qa,za,lo)}function uo(t){return mn(t,!0,Va,Ga,co)}function mn(t,e,s,r,n){if(!ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=Xa(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function ft(t){return jt(t)?ft(t.__v_raw):!!(t&&t.__v_isReactive)}function jt(t){return!!(t&&t.__v_isReadonly)}function je(t){return!!(t&&t.__v_isShallow)}function yn(t){return t?!!t.__v_raw:!1}function z(t){const e=t&&t.__v_raw;return e?z(e):t}function bn(t){return!G(t,"__v_skip")&&Object.isExtensible(t)&&Vi(t,"__v_skip",!0),t}const ge=t=>ne(t)?hr(t):t,qr=t=>ne(t)?uo(t):t;function ae(t){return t?t.__v_isRef===!0:!1}function W(t){return el(t,!1)}function el(t,e){return ae(t)?t:new tl(t,e)}class tl{constructor(e,s){this.dep=new _n,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:z(e),this._value=s?e:ge(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||je(e)||jt(e);e=r?e:z(e),ht(e,s)&&(this._rawValue=e,this._value=r?e:ge(e),this.dep.trigger())}}function Gs(t){return ae(t)?t.value:t}const sl={get:(t,e,s)=>e==="__v_raw"?t:Gs(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ae(n)&&!ae(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function ho(t){return ft(t)?t:new Proxy(t,sl)}function rl(t){const e=L(t)?new Array(t.length):{};for(const s in t)e[s]=il(t,s);return e}class nl{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Ua(z(this._object),this._key)}}function il(t,e,s){const r=t[e];return ae(r)?r:new nl(t,e,s)}class ol{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new _n(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Es-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&se!==this)return Xi(this,!0),!0}get value(){const e=this.dep.track();return to(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function al(t,e,s=!1){let r,n;return F(t)?r=t:(r=t.get,n=t.set),new ol(r,n,s)}const Hs={},er=new WeakMap;let xt;function ll(t,e=!1,s=xt){if(s){let r=er.get(s);r||er.set(s,r=[]),r.push(t)}}function cl(t,e,s=X){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>n?x:je(x)||n===!1||n===0?Ze(x,1):Ze(x);let c,d,p,g,b=!1,O=!1;if(ae(t)?(d=()=>t.value,b=je(t)):ft(t)?(d=()=>u(t),b=!0):L(t)?(O=!0,b=t.some(x=>ft(x)||je(x)),d=()=>t.map(x=>{if(ae(x))return x.value;if(ft(x))return u(x);if(F(x))return l?l(x,2):x()})):F(t)?e?d=l?()=>l(t,2):t:d=()=>{if(p){_t();try{p()}finally{vt()}}const x=xt;xt=c;try{return l?l(t,3,[g]):t(g)}finally{xt=x}}:d=We,e&&n){const x=d,R=n===!0?1/0:n;d=()=>Ze(x(),R)}const $=Gi(),A=()=>{c.stop(),$&&$.active&&cn($.effects,c)};if(i&&e){const x=e;e=(...R)=>{x(...R),A()}}let m=O?new Array(t.length).fill(Hs):Hs;const v=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const R=c.run();if(n||b||(O?R.some((D,H)=>ht(D,m[H])):ht(R,m))){p&&p();const D=xt;xt=c;try{const H=[R,m===Hs?void 0:O&&m[0]===Hs?[]:m,g];l?l(e,3,H):e(...H),m=R}finally{xt=D}}}else c.run()};return a&&a(v),c=new Qi(d),c.scheduler=o?()=>o(v,!1):v,g=x=>ll(x,!1,c),p=c.onStop=()=>{const x=er.get(c);if(x){if(l)l(x,4);else for(const R of x)R();er.delete(c)}},e?r?v(!0):m=c.run():o?o(v.bind(null,!0),!0):c.run(),A.pause=c.pause.bind(c),A.resume=c.resume.bind(c),A.stop=A,A}function Ze(t,e=1/0,s){if(e<=0||!ne(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ae(t))Ze(t.value,e,s);else if(L(t))for(let r=0;r<t.length;r++)Ze(t[r],e,s);else if(Yt(t)||qt(t))t.forEach(r=>{Ze(r,e,s)});else if(Bi(t)){for(const r in t)Ze(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Ze(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Rs(t,e,s,r){try{return r?t(...r):t()}catch(n){fr(n,e,s)}}function ze(t,e,s,r){if(F(t)){const n=Rs(t,e,s,r);return n&&Ni(n)&&n.catch(i=>{fr(i,e,s)}),n}if(L(t)){const n=[];for(let i=0;i<t.length;i++)n.push(ze(t[i],e,s,r));return n}}function fr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||X;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,l,u)===!1)return}a=a.parent}if(i){_t(),Rs(i,null,10,[t,l,u]),vt();return}}ul(t,s,n,r,o)}function ul(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ye=[];let qe=-1;const Kt=[];let lt=null,Ht=0;const fo=Promise.resolve();let tr=null;function wn(t){const e=tr||fo;return t?e.then(this?t.bind(this):t):e}function dl(t){let e=qe+1,s=ye.length;for(;e<s;){const r=e+s>>>1,n=ye[r],i=Cs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function Sn(t){if(!(t.flags&1)){const e=Cs(t),s=ye[ye.length-1];!s||!(t.flags&2)&&e>=Cs(s)?ye.push(t):ye.splice(dl(e),0,t),t.flags|=1,po()}}function po(){tr||(tr=fo.then(_o))}function hl(t){L(t)?Kt.push(...t):lt&&t.id===-1?lt.splice(Ht+1,0,t):t.flags&1||(Kt.push(t),t.flags|=1),po()}function Nn(t,e,s=qe+1){for(;s<ye.length;s++){const r=ye[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ye.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function go(t){if(Kt.length){const e=[...new Set(Kt)].sort((s,r)=>Cs(s)-Cs(r));if(Kt.length=0,lt){lt.push(...e);return}for(lt=e,Ht=0;Ht<lt.length;Ht++){const s=lt[Ht];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}lt=null,Ht=0}}const Cs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function _o(t){try{for(qe=0;qe<ye.length;qe++){const e=ye[qe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Rs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;qe<ye.length;qe++){const e=ye[qe];e&&(e.flags&=-2)}qe=-1,ye.length=0,go(),tr=null,(ye.length||Kt.length)&&_o()}}let Pe=null,vo=null;function sr(t){const e=Pe;return Pe=t,vo=t&&t.type.__scopeId||null,e}function fl(t,e=Pe,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&zn(-1);const i=sr(e);let o;try{o=t(...n)}finally{sr(i),r._d&&zn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ke(t,e){if(Pe===null)return t;const s=yr(Pe),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=X]=e[n];i&&(F(i)&&(i={mounted:i,updated:i}),i.deep&&Ze(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function bt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(_t(),ze(l,s,8,[t.el,a,t,e]),vt())}}const pl=Symbol("_vte"),gl=t=>t.__isTeleport;function kn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,kn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function mo(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function rr(t,e,s,r,n=!1){if(L(t)){t.forEach((b,O)=>rr(b,e&&(L(e)?e[O]:e),s,r,n));return}if(ys(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&rr(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?yr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===X?a.refs={}:a.refs,d=a.setupState,p=z(d),g=d===X?()=>!1:b=>G(p,b);if(u!=null&&u!==l&&(de(u)?(c[u]=null,g(u)&&(d[u]=null)):ae(u)&&(u.value=null)),F(l))Rs(l,a,12,[o,c]);else{const b=de(l),O=ae(l);if(b||O){const $=()=>{if(t.f){const A=b?g(l)?d[l]:c[l]:l.value;n?L(A)&&cn(A,i):L(A)?A.includes(i)||A.push(i):b?(c[l]=[i],g(l)&&(d[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else b?(c[l]=o,g(l)&&(d[l]=o)):O&&(l.value=o,t.k&&(c[t.k]=o))};o?($.id=-1,Ee($,s)):$()}}}ur().requestIdleCallback;ur().cancelIdleCallback;const ys=t=>!!t.type.__asyncLoader,yo=t=>t.type.__isKeepAlive;function _l(t,e){bo(t,"a",e)}function vl(t,e){bo(t,"da",e)}function bo(t,e,s=_e){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(pr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)yo(n.parent.vnode)&&ml(r,e,s,n),n=n.parent}}function ml(t,e,s,r){const n=pr(e,t,r,!0);So(()=>{cn(r[e],n)},s)}function pr(t,e,s=_e,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{_t();const a=Is(s),l=ze(e,s,t,o);return a(),vt(),l});return r?n.unshift(i):n.push(i),i}}const rt=t=>(e,s=_e)=>{(!As||t==="sp")&&pr(t,(...r)=>e(...r),s)},yl=rt("bm"),wo=rt("m"),bl=rt("bu"),wl=rt("u"),Sl=rt("bum"),So=rt("um"),kl=rt("sp"),xl=rt("rtg"),Tl=rt("rtc");function El(t,e=_e){pr("ec",t,e)}const Ol=Symbol.for("v-ndc");function gr(t,e,s,r){let n;const i=s,o=L(t);if(o||de(t)){const a=o&&ft(t);let l=!1;a&&(l=!je(t),t=dr(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?ge(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ne(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Kr=t=>t?Ko(t)?yr(t):Kr(t.parent):null,bs=be(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Kr(t.parent),$root:t=>Kr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>xo(t),$forceUpdate:t=>t.f||(t.f=()=>{Sn(t.update)}),$nextTick:t=>t.n||(t.n=wn.bind(t.proxy)),$watch:t=>Ql.bind(t)}),$r=(t,e)=>t!==X&&!t.__isScriptSetup&&G(t,e),Cl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if($r(r,e))return o[e]=1,r[e];if(n!==X&&G(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&G(u,e))return o[e]=3,i[e];if(s!==X&&G(s,e))return o[e]=4,s[e];Wr&&(o[e]=0)}}const c=bs[e];let d,p;if(c)return e==="$attrs"&&pe(t.attrs,"get",""),c(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==X&&G(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,G(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return $r(n,e)?(n[e]=s,!0):r!==X&&G(r,e)?(r[e]=s,!0):G(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==X&&G(t,o)||$r(e,o)||(a=i[0])&&G(a,o)||G(r,o)||G(bs,o)||G(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:G(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Fn(t){return L(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Wr=!0;function Pl(t){const e=xo(t),s=t.proxy,r=t.ctx;Wr=!1,e.beforeCreate&&Bn(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:g,updated:b,activated:O,deactivated:$,beforeDestroy:A,beforeUnmount:m,destroyed:v,unmounted:x,render:R,renderTracked:D,renderTriggered:H,errorCaptured:N,serverPrefetch:V,expose:le,inheritAttrs:$e,components:De,directives:nt,filters:es}=e;if(u&&Al(u,r,null),o)for(const q in o){const Z=o[q];F(Z)&&(r[q]=Z.bind(s))}if(n){const q=n.call(s,s);ne(q)&&(t.data=hr(q))}if(Wr=!0,i)for(const q in i){const Z=i[q],mt=F(Z)?Z.bind(s,s):F(Z.get)?Z.get.bind(s,s):We,Ms=!F(Z)&&F(Z.set)?Z.set.bind(s):We,yt=ce({get:mt,set:Ms});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>yt.value,set:Me=>yt.value=Me})}if(a)for(const q in a)ko(a[q],r,s,q);if(l){const q=F(l)?l.call(s):l;Reflect.ownKeys(q).forEach(Z=>{Ul(Z,q[Z])})}c&&Bn(c,t,"c");function ie(q,Z){L(Z)?Z.forEach(mt=>q(mt.bind(s))):Z&&q(Z.bind(s))}if(ie(yl,d),ie(wo,p),ie(bl,g),ie(wl,b),ie(_l,O),ie(vl,$),ie(El,N),ie(Tl,D),ie(xl,H),ie(Sl,m),ie(So,x),ie(kl,V),L(le))if(le.length){const q=t.exposed||(t.exposed={});le.forEach(Z=>{Object.defineProperty(q,Z,{get:()=>s[Z],set:mt=>s[Z]=mt})})}else t.exposed||(t.exposed={});R&&t.render===We&&(t.render=R),$e!=null&&(t.inheritAttrs=$e),De&&(t.components=De),nt&&(t.directives=nt),V&&mo(t)}function Al(t,e,s=We){L(t)&&(t=Jr(t));for(const r in t){const n=t[r];let i;ne(n)?"default"in n?i=ws(n.from||r,n.default,!0):i=ws(n.from||r):i=ws(n),ae(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Bn(t,e,s){ze(L(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ko(t,e,s,r){let n=r.includes(".")?Mo(s,r):()=>s[r];if(de(t)){const i=e[t];F(i)&&Pt(n,i)}else if(F(t))Pt(n,t.bind(s));else if(ne(t))if(L(t))t.forEach(i=>ko(i,e,s,r));else{const i=F(t.handler)?t.handler.bind(s):e[t.handler];F(i)&&Pt(n,i,t)}}function xo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>nr(l,u,o,!0)),nr(l,e,o)),ne(e)&&i.set(e,l),l}function nr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&nr(t,i,s,!0),n&&n.forEach(o=>nr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=$l[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const $l={data:Hn,props:Vn,emits:Vn,methods:ps,computed:ps,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:ps,directives:ps,watch:Rl,provide:Hn,inject:jl};function Hn(t,e){return e?t?function(){return be(F(t)?t.call(this,this):t,F(e)?e.call(this,this):e)}:e:t}function jl(t,e){return ps(Jr(t),Jr(e))}function Jr(t){if(L(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ve(t,e){return t?[...new Set([].concat(t,e))]:e}function ps(t,e){return t?be(Object.create(null),t,e):e}function Vn(t,e){return t?L(t)&&L(e)?[...new Set([...t,...e])]:be(Object.create(null),Fn(t),Fn(e??{})):e}function Rl(t,e){if(!t)return e;if(!e)return t;const s=be(Object.create(null),t);for(const r in e)s[r]=ve(t[r],e[r]);return s}function To(){return{app:null,config:{isNativeTag:wa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Il=0;function Ll(t,e){return function(r,n=null){F(r)||(r=be({},r)),n!=null&&!ne(n)&&(n=null);const i=To(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Il++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:_c,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&F(c.install)?(o.add(c),c.install(u,...d)):F(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,p){if(!l){const g=u._ceVNode||ue(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,yr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ze(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=Ct;Ct=u;try{return c()}finally{Ct=d}}};return u}}let Ct=null;function Ul(t,e){if(_e){let s=_e.provides;const r=_e.parent&&_e.parent.provides;r===s&&(s=_e.provides=Object.create(r)),s[t]=e}}function ws(t,e,s=!1){const r=_e||Pe;if(r||Ct){const n=Ct?Ct._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&F(e)?e.call(r&&r.proxy):e}}function Dl(){return!!(_e||Pe||Ct)}const Eo={},Oo=()=>Object.create(Eo),Co=t=>Object.getPrototypeOf(t)===Eo;function Ml(t,e,s,r=!1){const n={},i=Oo();t.propsDefaults=Object.create(null),Po(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Za(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Nl(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=z(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(_r(t.emitsOptions,p))continue;const g=e[p];if(l)if(G(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const b=pt(p);n[b]=zr(l,a,b,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Po(t,e,n,i)&&(u=!0);let c;for(const d in a)(!e||!G(e,d)&&((c=It(d))===d||!G(e,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=zr(l,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!G(e,d))&&(delete i[d],u=!0)}u&&Xe(t.attrs,"set","")}function Po(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(_s(l))continue;const u=e[l];let c;n&&G(n,c=pt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:_r(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=z(s),u=a||X;for(let c=0;c<i.length;c++){const d=i[c];s[d]=zr(n,l,d,u[d],t,!G(u,d))}}return o}function zr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=G(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&F(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Is(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===It(s))&&(r=!0))}return r}const Fl=new WeakMap;function Ao(t,e,s=!1){const r=s?Fl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!F(t)){const c=d=>{l=!0;const[p,g]=Ao(d,e,!0);be(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return ne(t)&&r.set(t,Vt),Vt;if(L(i))for(let c=0;c<i.length;c++){const d=pt(i[c]);qn(d)&&(o[d]=X)}else if(i)for(const c in i){const d=pt(c);if(qn(d)){const p=i[c],g=o[d]=L(p)||F(p)?{type:p}:be({},p),b=g.type;let O=!1,$=!0;if(L(b))for(let A=0;A<b.length;++A){const m=b[A],v=F(m)&&m.name;if(v==="Boolean"){O=!0;break}else v==="String"&&($=!1)}else O=F(b)&&b.name==="Boolean";g[0]=O,g[1]=$,(O||G(g,"default"))&&a.push(d)}}const u=[o,a];return ne(t)&&r.set(t,u),u}function qn(t){return t[0]!=="$"&&!_s(t)}const $o=t=>t[0]==="_"||t==="$stable",xn=t=>L(t)?t.map(Ke):[Ke(t)],Bl=(t,e,s)=>{if(e._n)return e;const r=fl((...n)=>xn(e(...n)),s);return r._c=!1,r},jo=(t,e,s)=>{const r=t._ctx;for(const n in t){if($o(n))continue;const i=t[n];if(F(i))e[n]=Bl(n,i,r);else if(i!=null){const o=xn(i);e[n]=()=>o}}},Ro=(t,e)=>{const s=xn(e);t.slots.default=()=>s},Io=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Hl=(t,e,s)=>{const r=t.slots=Oo();if(t.vnode.shapeFlag&32){const n=e._;n?(Io(r,e,s),s&&Vi(r,"_",n,!0)):jo(e,r)}else e&&Ro(t,e)},Vl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=X;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Io(n,e,s):(i=!e.$stable,jo(e,n)),o=e}else e&&(Ro(t,e),o={default:1});if(i)for(const a in n)!$o(a)&&o[a]==null&&delete n[a]},Ee=rc;function ql(t){return Kl(t)}function Kl(t,e){const s=ur();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:g=We,insertStaticContent:b}=t,O=(h,f,_,S=null,y=null,w=null,P=void 0,E=null,T=!!f.dynamicChildren)=>{if(h===f)return;h&&!is(h,f)&&(S=Ns(h),Me(h,y,w,!0),h=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:k,ref:U,shapeFlag:j}=f;switch(k){case vr:$(h,f,_,S);break;case Rt:A(h,f,_,S);break;case Rr:h==null&&m(f,_,S,P);break;case Ce:De(h,f,_,S,y,w,P,E,T);break;default:j&1?R(h,f,_,S,y,w,P,E,T):j&6?nt(h,f,_,S,y,w,P,E,T):(j&64||j&128)&&k.process(h,f,_,S,y,w,P,E,T,ss)}U!=null&&y&&rr(U,h&&h.ref,w,f||h,!f)},$=(h,f,_,S)=>{if(h==null)r(f.el=a(f.children),_,S);else{const y=f.el=h.el;f.children!==h.children&&u(y,f.children)}},A=(h,f,_,S)=>{h==null?r(f.el=l(f.children||""),_,S):f.el=h.el},m=(h,f,_,S)=>{[h.el,h.anchor]=b(h.children,f,_,S,h.el,h.anchor)},v=({el:h,anchor:f},_,S)=>{let y;for(;h&&h!==f;)y=p(h),r(h,_,S),h=y;r(f,_,S)},x=({el:h,anchor:f})=>{let _;for(;h&&h!==f;)_=p(h),n(h),h=_;n(f)},R=(h,f,_,S,y,w,P,E,T)=>{f.type==="svg"?P="svg":f.type==="math"&&(P="mathml"),h==null?D(f,_,S,y,w,P,E,T):V(h,f,y,w,P,E,T)},D=(h,f,_,S,y,w,P,E)=>{let T,k;const{props:U,shapeFlag:j,transition:I,dirs:M}=h;if(T=h.el=o(h.type,w,U&&U.is,U),j&8?c(T,h.children):j&16&&N(h.children,T,null,S,y,jr(h,w),P,E),M&&bt(h,null,S,"created"),H(T,h,h.scopeId,P,S),U){for(const ee in U)ee!=="value"&&!_s(ee)&&i(T,ee,null,U[ee],w,S);"value"in U&&i(T,"value",null,U.value,w),(k=U.onVnodeBeforeMount)&&He(k,S,h)}M&&bt(h,null,S,"beforeMount");const J=Wl(y,I);J&&I.beforeEnter(T),r(T,f,_),((k=U&&U.onVnodeMounted)||J||M)&&Ee(()=>{k&&He(k,S,h),J&&I.enter(T),M&&bt(h,null,S,"mounted")},y)},H=(h,f,_,S,y)=>{if(_&&g(h,_),S)for(let w=0;w<S.length;w++)g(h,S[w]);if(y){let w=y.subTree;if(f===w||Fo(w.type)&&(w.ssContent===f||w.ssFallback===f)){const P=y.vnode;H(h,P,P.scopeId,P.slotScopeIds,y.parent)}}},N=(h,f,_,S,y,w,P,E,T=0)=>{for(let k=T;k<h.length;k++){const U=h[k]=E?ct(h[k]):Ke(h[k]);O(null,U,f,_,S,y,w,P,E)}},V=(h,f,_,S,y,w,P)=>{const E=f.el=h.el;let{patchFlag:T,dynamicChildren:k,dirs:U}=f;T|=h.patchFlag&16;const j=h.props||X,I=f.props||X;let M;if(_&&wt(_,!1),(M=I.onVnodeBeforeUpdate)&&He(M,_,f,h),U&&bt(f,h,_,"beforeUpdate"),_&&wt(_,!0),(j.innerHTML&&I.innerHTML==null||j.textContent&&I.textContent==null)&&c(E,""),k?le(h.dynamicChildren,k,E,_,S,jr(f,y),w):P||Z(h,f,E,null,_,S,jr(f,y),w,!1),T>0){if(T&16)$e(E,j,I,_,y);else if(T&2&&j.class!==I.class&&i(E,"class",null,I.class,y),T&4&&i(E,"style",j.style,I.style,y),T&8){const J=f.dynamicProps;for(let ee=0;ee<J.length;ee++){const Q=J[ee],xe=j[Q],we=I[Q];(we!==xe||Q==="value")&&i(E,Q,xe,we,y,_)}}T&1&&h.children!==f.children&&c(E,f.children)}else!P&&k==null&&$e(E,j,I,_,y);((M=I.onVnodeUpdated)||U)&&Ee(()=>{M&&He(M,_,f,h),U&&bt(f,h,_,"updated")},S)},le=(h,f,_,S,y,w,P)=>{for(let E=0;E<f.length;E++){const T=h[E],k=f[E],U=T.el&&(T.type===Ce||!is(T,k)||T.shapeFlag&70)?d(T.el):_;O(T,k,U,null,S,y,w,P,!0)}},$e=(h,f,_,S,y)=>{if(f!==_){if(f!==X)for(const w in f)!_s(w)&&!(w in _)&&i(h,w,f[w],null,y,S);for(const w in _){if(_s(w))continue;const P=_[w],E=f[w];P!==E&&w!=="value"&&i(h,w,E,P,y,S)}"value"in _&&i(h,"value",f.value,_.value,y)}},De=(h,f,_,S,y,w,P,E,T)=>{const k=f.el=h?h.el:a(""),U=f.anchor=h?h.anchor:a("");let{patchFlag:j,dynamicChildren:I,slotScopeIds:M}=f;M&&(E=E?E.concat(M):M),h==null?(r(k,_,S),r(U,_,S),N(f.children||[],_,U,y,w,P,E,T)):j>0&&j&64&&I&&h.dynamicChildren?(le(h.dynamicChildren,I,_,y,w,P,E),(f.key!=null||y&&f===y.subTree)&&Lo(h,f,!0)):Z(h,f,_,U,y,w,P,E,T)},nt=(h,f,_,S,y,w,P,E,T)=>{f.slotScopeIds=E,h==null?f.shapeFlag&512?y.ctx.activate(f,_,S,P,T):es(f,_,S,y,w,P,T):Ds(h,f,T)},es=(h,f,_,S,y,w,P)=>{const E=h.component=uc(h,S,y);if(yo(h)&&(E.ctx.renderer=ss),dc(E,!1,P),E.asyncDep){if(y&&y.registerDep(E,ie,P),!h.el){const T=E.subTree=ue(Rt);A(null,T,f,_)}}else ie(E,h,f,_,y,w,P)},Ds=(h,f,_)=>{const S=f.component=h.component;if(tc(h,f,_))if(S.asyncDep&&!S.asyncResolved){q(S,f,_);return}else S.next=f,S.update();else f.el=h.el,S.vnode=f},ie=(h,f,_,S,y,w,P)=>{const E=()=>{if(h.isMounted){let{next:j,bu:I,u:M,parent:J,vnode:ee}=h;{const Fe=Uo(h);if(Fe){j&&(j.el=ee.el,q(h,j,P)),Fe.asyncDep.then(()=>{h.isUnmounted||E()});return}}let Q=j,xe;wt(h,!1),j?(j.el=ee.el,q(h,j,P)):j=ee,I&&zs(I),(xe=j.props&&j.props.onVnodeBeforeUpdate)&&He(xe,J,j,ee),wt(h,!0);const we=Wn(h),Ne=h.subTree;h.subTree=we,O(Ne,we,d(Ne.el),Ns(Ne),h,y,w),j.el=we.el,Q===null&&sc(h,we.el),M&&Ee(M,y),(xe=j.props&&j.props.onVnodeUpdated)&&Ee(()=>He(xe,J,j,ee),y)}else{let j;const{el:I,props:M}=f,{bm:J,m:ee,parent:Q,root:xe,type:we}=h,Ne=ys(f);wt(h,!1),J&&zs(J),!Ne&&(j=M&&M.onVnodeBeforeMount)&&He(j,Q,f),wt(h,!0);{xe.ce&&xe.ce._injectChildStyle(we);const Fe=h.subTree=Wn(h);O(null,Fe,_,S,h,y,w),f.el=Fe.el}if(ee&&Ee(ee,y),!Ne&&(j=M&&M.onVnodeMounted)){const Fe=f;Ee(()=>He(j,Q,Fe),y)}(f.shapeFlag&256||Q&&ys(Q.vnode)&&Q.vnode.shapeFlag&256)&&h.a&&Ee(h.a,y),h.isMounted=!0,f=_=S=null}};h.scope.on();const T=h.effect=new Qi(E);h.scope.off();const k=h.update=T.run.bind(T),U=h.job=T.runIfDirty.bind(T);U.i=h,U.id=h.uid,T.scheduler=()=>Sn(U),wt(h,!0),k()},q=(h,f,_)=>{f.component=h;const S=h.vnode.props;h.vnode=f,h.next=null,Nl(h,f.props,S,_),Vl(h,f.children,_),_t(),Nn(h),vt()},Z=(h,f,_,S,y,w,P,E,T=!1)=>{const k=h&&h.children,U=h?h.shapeFlag:0,j=f.children,{patchFlag:I,shapeFlag:M}=f;if(I>0){if(I&128){Ms(k,j,_,S,y,w,P,E,T);return}else if(I&256){mt(k,j,_,S,y,w,P,E,T);return}}M&8?(U&16&&ts(k,y,w),j!==k&&c(_,j)):U&16?M&16?Ms(k,j,_,S,y,w,P,E,T):ts(k,y,w,!0):(U&8&&c(_,""),M&16&&N(j,_,S,y,w,P,E,T))},mt=(h,f,_,S,y,w,P,E,T)=>{h=h||Vt,f=f||Vt;const k=h.length,U=f.length,j=Math.min(k,U);let I;for(I=0;I<j;I++){const M=f[I]=T?ct(f[I]):Ke(f[I]);O(h[I],M,_,null,y,w,P,E,T)}k>U?ts(h,y,w,!0,!1,j):N(f,_,S,y,w,P,E,T,j)},Ms=(h,f,_,S,y,w,P,E,T)=>{let k=0;const U=f.length;let j=h.length-1,I=U-1;for(;k<=j&&k<=I;){const M=h[k],J=f[k]=T?ct(f[k]):Ke(f[k]);if(is(M,J))O(M,J,_,null,y,w,P,E,T);else break;k++}for(;k<=j&&k<=I;){const M=h[j],J=f[I]=T?ct(f[I]):Ke(f[I]);if(is(M,J))O(M,J,_,null,y,w,P,E,T);else break;j--,I--}if(k>j){if(k<=I){const M=I+1,J=M<U?f[M].el:S;for(;k<=I;)O(null,f[k]=T?ct(f[k]):Ke(f[k]),_,J,y,w,P,E,T),k++}}else if(k>I)for(;k<=j;)Me(h[k],y,w,!0),k++;else{const M=k,J=k,ee=new Map;for(k=J;k<=I;k++){const Te=f[k]=T?ct(f[k]):Ke(f[k]);Te.key!=null&&ee.set(Te.key,k)}let Q,xe=0;const we=I-J+1;let Ne=!1,Fe=0;const rs=new Array(we);for(k=0;k<we;k++)rs[k]=0;for(k=M;k<=j;k++){const Te=h[k];if(xe>=we){Me(Te,y,w,!0);continue}let Be;if(Te.key!=null)Be=ee.get(Te.key);else for(Q=J;Q<=I;Q++)if(rs[Q-J]===0&&is(Te,f[Q])){Be=Q;break}Be===void 0?Me(Te,y,w,!0):(rs[Be-J]=k+1,Be>=Fe?Fe=Be:Ne=!0,O(Te,f[Be],_,null,y,w,P,E,T),xe++)}const Rn=Ne?Jl(rs):Vt;for(Q=Rn.length-1,k=we-1;k>=0;k--){const Te=J+k,Be=f[Te],In=Te+1<U?f[Te+1].el:S;rs[k]===0?O(null,Be,_,In,y,w,P,E,T):Ne&&(Q<0||k!==Rn[Q]?yt(Be,_,In,2):Q--)}}},yt=(h,f,_,S,y=null)=>{const{el:w,type:P,transition:E,children:T,shapeFlag:k}=h;if(k&6){yt(h.component.subTree,f,_,S);return}if(k&128){h.suspense.move(f,_,S);return}if(k&64){P.move(h,f,_,ss);return}if(P===Ce){r(w,f,_);for(let j=0;j<T.length;j++)yt(T[j],f,_,S);r(h.anchor,f,_);return}if(P===Rr){v(h,f,_);return}if(S!==2&&k&1&&E)if(S===0)E.beforeEnter(w),r(w,f,_),Ee(()=>E.enter(w),y);else{const{leave:j,delayLeave:I,afterLeave:M}=E,J=()=>r(w,f,_),ee=()=>{j(w,()=>{J(),M&&M()})};I?I(w,J,ee):ee()}else r(w,f,_)},Me=(h,f,_,S=!1,y=!1)=>{const{type:w,props:P,ref:E,children:T,dynamicChildren:k,shapeFlag:U,patchFlag:j,dirs:I,cacheIndex:M}=h;if(j===-2&&(y=!1),E!=null&&rr(E,null,_,h,!0),M!=null&&(f.renderCache[M]=void 0),U&256){f.ctx.deactivate(h);return}const J=U&1&&I,ee=!ys(h);let Q;if(ee&&(Q=P&&P.onVnodeBeforeUnmount)&&He(Q,f,h),U&6)ba(h.component,_,S);else{if(U&128){h.suspense.unmount(_,S);return}J&&bt(h,null,f,"beforeUnmount"),U&64?h.type.remove(h,f,_,ss,S):k&&!k.hasOnce&&(w!==Ce||j>0&&j&64)?ts(k,f,_,!1,!0):(w===Ce&&j&384||!y&&U&16)&&ts(T,f,_),S&&$n(h)}(ee&&(Q=P&&P.onVnodeUnmounted)||J)&&Ee(()=>{Q&&He(Q,f,h),J&&bt(h,null,f,"unmounted")},_)},$n=h=>{const{type:f,el:_,anchor:S,transition:y}=h;if(f===Ce){ya(_,S);return}if(f===Rr){x(h);return}const w=()=>{n(_),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(h.shapeFlag&1&&y&&!y.persisted){const{leave:P,delayLeave:E}=y,T=()=>P(_,w);E?E(h.el,w,T):T()}else w()},ya=(h,f)=>{let _;for(;h!==f;)_=p(h),n(h),h=_;n(f)},ba=(h,f,_)=>{const{bum:S,scope:y,job:w,subTree:P,um:E,m:T,a:k}=h;Kn(T),Kn(k),S&&zs(S),y.stop(),w&&(w.flags|=8,Me(P,h,f,_)),E&&Ee(E,f),Ee(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ts=(h,f,_,S=!1,y=!1,w=0)=>{for(let P=w;P<h.length;P++)Me(h[P],f,_,S,y)},Ns=h=>{if(h.shapeFlag&6)return Ns(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),_=f&&f[pl];return _?p(_):f};let Tr=!1;const jn=(h,f,_)=>{h==null?f._vnode&&Me(f._vnode,null,null,!0):O(f._vnode||null,h,f,null,null,null,_),f._vnode=h,Tr||(Tr=!0,Nn(),go(),Tr=!1)},ss={p:O,um:Me,m:yt,r:$n,mt:es,mc:N,pc:Z,pbc:le,n:Ns,o:t};return{render:jn,hydrate:void 0,createApp:Ll(jn)}}function jr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function wt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Wl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Lo(t,e,s=!1){const r=t.children,n=e.children;if(L(r)&&L(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=ct(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Lo(o,a)),a.type===vr&&(a.el=o.el)}}function Jl(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Uo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Uo(e)}function Kn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const zl=Symbol.for("v-scx"),Gl=()=>ws(zl);function Pt(t,e,s){return Do(t,e,s)}function Do(t,e,s=X){const{immediate:r,deep:n,flush:i,once:o}=s,a=be({},s),l=e&&r||!e&&i!=="post";let u;if(As){if(i==="sync"){const g=Gl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=We,g.resume=We,g.pause=We,g}}const c=_e;a.call=(g,b,O)=>ze(g,c,b,O);let d=!1;i==="post"?a.scheduler=g=>{Ee(g,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,b)=>{b?g():Sn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=cl(t,e,a);return As&&(u?u.push(p):l&&p()),p}function Ql(t,e,s){const r=this.proxy,n=de(t)?t.includes(".")?Mo(r,t):()=>r[t]:t.bind(r,r);let i;F(e)?i=e:(i=e.handler,s=e);const o=Is(this),a=Do(n,i.bind(r),s);return o(),a}function Mo(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Yl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${pt(e)}Modifiers`]||t[`${It(e)}Modifiers`];function Xl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||X;let n=s;const i=e.startsWith("update:"),o=i&&Yl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>de(c)?c.trim():c)),o.number&&(n=s.map(Xs)));let a,l=r[a=Er(e)]||r[a=Er(pt(e))];!l&&i&&(l=r[a=Er(It(e))]),l&&ze(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ze(u,t,6,n)}}function No(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!F(t)){const l=u=>{const c=No(u,e,!0);c&&(a=!0,be(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ne(t)&&r.set(t,null),null):(L(i)?i.forEach(l=>o[l]=null):be(o,i),ne(t)&&r.set(t,o),o)}function _r(t,e){return!t||!lr(e)?!1:(e=e.slice(2).replace(/Once$/,""),G(t,e[0].toLowerCase()+e.slice(1))||G(t,It(e))||G(t,e))}function Wn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:g,ctx:b,inheritAttrs:O}=t,$=sr(t);let A,m;try{if(s.shapeFlag&4){const x=n||r,R=x;A=Ke(u.call(R,x,c,d,g,p,b)),m=a}else{const x=e;A=Ke(x.length>1?x(d,{attrs:a,slots:o,emit:l}):x(d,null)),m=e.props?a:Zl(a)}}catch(x){Ss.length=0,fr(x,t,1),A=ue(Rt)}let v=A;if(m&&O!==!1){const x=Object.keys(m),{shapeFlag:R}=v;x.length&&R&7&&(i&&x.some(ln)&&(m=ec(m,i)),v=Jt(v,m,!1,!0))}return s.dirs&&(v=Jt(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(s.dirs):s.dirs),s.transition&&kn(v,s.transition),A=v,sr($),A}const Zl=t=>{let e;for(const s in t)(s==="class"||s==="style"||lr(s))&&((e||(e={}))[s]=t[s]);return e},ec=(t,e)=>{const s={};for(const r in t)(!ln(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function tc(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Jn(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==r[p]&&!_r(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Jn(r,o,u):!0:!!o;return!1}function Jn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!_r(s,i))return!0}return!1}function sc({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Fo=t=>t.__isSuspense;function rc(t,e){e&&e.pendingBranch?L(t)?e.effects.push(...t):e.effects.push(t):hl(t)}const Ce=Symbol.for("v-fgt"),vr=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Rr=Symbol.for("v-stc"),Ss=[];let Ae=null;function Y(t=!1){Ss.push(Ae=t?null:[])}function nc(){Ss.pop(),Ae=Ss[Ss.length-1]||null}let Ps=1;function zn(t,e=!1){Ps+=t,t<0&&Ae&&e&&(Ae.hasOnce=!0)}function Bo(t){return t.dynamicChildren=Ps>0?Ae||Vt:null,nc(),Ps>0&&Ae&&Ae.push(t),t}function re(t,e,s,r,n,i){return Bo(C(t,e,s,r,n,i,!0))}function Ho(t,e,s,r,n){return Bo(ue(t,e,s,r,n,!0))}function Vo(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return t.type===e.type&&t.key===e.key}const qo=({key:t})=>t??null,Qs=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?de(t)||ae(t)||F(t)?{i:Pe,r:t,k:e,f:!!s}:t:null);function C(t,e=null,s=null,r=0,n=null,i=t===Ce?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&qo(e),ref:e&&Qs(e),scopeId:vo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Pe};return a?(Tn(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=de(s)?8:16),Ps>0&&!o&&Ae&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ae.push(l),l}const ue=ic;function ic(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Ol)&&(t=Rt),Vo(t)){const a=Jt(t,e,!0);return s&&Tn(a,s),Ps>0&&!i&&Ae&&(a.shapeFlag&6?Ae[Ae.indexOf(t)]=a:Ae.push(a)),a.patchFlag=-2,a}if(gc(t)&&(t=t.__vccOpts),e){e=oc(e);let{class:a,style:l}=e;a&&!de(a)&&(e.class=oe(a)),ne(l)&&(yn(l)&&!L(l)&&(l=be({},l)),e.style=dn(l))}const o=de(t)?1:Fo(t)?128:gl(t)?64:ne(t)?4:F(t)?2:0;return C(t,e,s,r,n,o,i,!0)}function oc(t){return t?yn(t)||Co(t)?be({},t):t:null}function Jt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?ac(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&qo(u),ref:e&&e.ref?s&&i?L(i)?i.concat(Qs(e)):[i,Qs(e)]:Qs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ce?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jt(t.ssContent),ssFallback:t.ssFallback&&Jt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&kn(c,l.clone(c)),c}function mr(t=" ",e=0){return ue(vr,null,t,e)}function Le(t="",e=!1){return e?(Y(),Ho(Rt,null,t)):ue(Rt,null,t)}function Ke(t){return t==null||typeof t=="boolean"?ue(Rt):L(t)?ue(Ce,null,t.slice()):Vo(t)?ct(t):ue(vr,null,String(t))}function ct(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Jt(t)}function Tn(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(L(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),Tn(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Co(e)?e._ctx=Pe:n===3&&Pe&&(Pe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else F(e)?(e={default:e,_ctx:Pe},s=32):(e=String(e),r&64?(s=16,e=[mr(e)]):s=8);t.children=e,t.shapeFlag|=s}function ac(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=oe([e.class,r.class]));else if(n==="style")e.style=dn([e.style,r.style]);else if(lr(n)){const i=e[n],o=r[n];o&&i!==o&&!(L(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function He(t,e,s,r=null){ze(t,e,7,[s,r])}const lc=To();let cc=0;function uc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||lc,i={uid:cc++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ji(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ao(r,n),emitsOptions:No(r,n),emit:null,emitted:null,propsDefaults:X,inheritAttrs:r.inheritAttrs,ctx:X,data:X,props:X,attrs:X,slots:X,refs:X,setupState:X,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Xl.bind(null,i),t.ce&&t.ce(i),i}let _e=null,ir,Gr;{const t=ur(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};ir=e("__VUE_INSTANCE_SETTERS__",s=>_e=s),Gr=e("__VUE_SSR_SETTERS__",s=>As=s)}const Is=t=>{const e=_e;return ir(t),t.scope.on(),()=>{t.scope.off(),ir(e)}},Gn=()=>{_e&&_e.scope.off(),ir(null)};function Ko(t){return t.vnode.shapeFlag&4}let As=!1;function dc(t,e=!1,s=!1){e&&Gr(e);const{props:r,children:n}=t.vnode,i=Ko(t);Ml(t,r,i,e),Hl(t,n,s);const o=i?hc(t,e):void 0;return e&&Gr(!1),o}function hc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cl);const{setup:r}=s;if(r){_t();const n=t.setupContext=r.length>1?pc(t):null,i=Is(t),o=Rs(r,t,0,[t.props,n]),a=Ni(o);if(vt(),i(),(a||t.sp)&&!ys(t)&&mo(t),a){if(o.then(Gn,Gn),e)return o.then(l=>{Qn(t,l)}).catch(l=>{fr(l,t,0)});t.asyncDep=o}else Qn(t,o)}else Wo(t)}function Qn(t,e,s){F(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ne(e)&&(t.setupState=ho(e)),Wo(t)}function Wo(t,e,s){const r=t.type;t.render||(t.render=r.render||We);{const n=Is(t);_t();try{Pl(t)}finally{vt(),n()}}}const fc={get(t,e){return pe(t,"get",""),t[e]}};function pc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,fc),slots:t.slots,emit:t.emit,expose:e}}function yr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ho(bn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in bs)return bs[s](t)},has(e,s){return s in e||s in bs}})):t.proxy}function gc(t){return F(t)&&"__vccOpts"in t}const ce=(t,e)=>al(t,e,As),_c="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qr;const Yn=typeof window<"u"&&window.trustedTypes;if(Yn)try{Qr=Yn.createPolicy("vue",{createHTML:t=>t})}catch{}const Jo=Qr?t=>Qr.createHTML(t):t=>t,vc="http://www.w3.org/2000/svg",mc="http://www.w3.org/1998/Math/MathML",Qe=typeof document<"u"?document:null,Xn=Qe&&Qe.createElement("template"),yc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Qe.createElementNS(vc,t):e==="mathml"?Qe.createElementNS(mc,t):s?Qe.createElement(t,{is:s}):Qe.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Qe.createTextNode(t),createComment:t=>Qe.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qe.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Xn.innerHTML=Jo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Xn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},bc=Symbol("_vtc");function wc(t,e,s){const r=t[bc];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Zn=Symbol("_vod"),Sc=Symbol("_vsh"),kc=Symbol(""),xc=/(^|;)\s*display\s*:/;function Tc(t,e,s){const r=t.style,n=de(s);let i=!1;if(s&&!n){if(e)if(de(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Ys(r,a,"")}else for(const o in e)s[o]==null&&Ys(r,o,"");for(const o in s)o==="display"&&(i=!0),Ys(r,o,s[o])}else if(n){if(e!==s){const o=r[kc];o&&(s+=";"+o),r.cssText=s,i=xc.test(s)}}else e&&t.removeAttribute("style");Zn in t&&(t[Zn]=i?r.display:"",t[Sc]&&(r.display="none"))}const ei=/\s*!important$/;function Ys(t,e,s){if(L(s))s.forEach(r=>Ys(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Ec(t,e);ei.test(s)?t.setProperty(It(r),s.replace(ei,""),"important"):t[r]=s}}const ti=["Webkit","Moz","ms"],Ir={};function Ec(t,e){const s=Ir[e];if(s)return s;let r=pt(e);if(r!=="filter"&&r in t)return Ir[e]=r;r=Hi(r);for(let n=0;n<ti.length;n++){const i=ti[n]+r;if(i in t)return Ir[e]=i}return e}const si="http://www.w3.org/1999/xlink";function ri(t,e,s,r,n,i=$a(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(si,e.slice(6,e.length)):t.setAttributeNS(si,e,s):s==null||i&&!qi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Je(s)?String(s):s)}function ni(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Jo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=qi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function et(t,e,s,r){t.addEventListener(e,s,r)}function Oc(t,e,s,r){t.removeEventListener(e,s,r)}const ii=Symbol("_vei");function Cc(t,e,s,r,n=null){const i=t[ii]||(t[ii]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Pc(e);if(r){const u=i[e]=jc(r,n);et(t,a,u,l)}else o&&(Oc(t,a,o,l),i[e]=void 0)}}const oi=/(?:Once|Passive|Capture)$/;function Pc(t){let e;if(oi.test(t)){e={};let r;for(;r=t.match(oi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):It(t.slice(2)),e]}let Lr=0;const Ac=Promise.resolve(),$c=()=>Lr||(Ac.then(()=>Lr=0),Lr=Date.now());function jc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ze(Rc(r,s.value),e,5,[r])};return s.value=t,s.attached=$c(),s}function Rc(t,e){if(L(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ai=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ic=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?wc(t,r,o):e==="style"?Tc(t,s,r):lr(e)?ln(e)||Cc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Lc(t,e,r,o))?(ni(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ri(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!de(r))?ni(t,pt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),ri(t,e,r,o))};function Lc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ai(e)&&F(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ai(e)&&de(s)?!1:e in t}const gt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return L(e)?s=>zs(e,s):e};function Uc(t){t.target.composing=!0}function li(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Re=Symbol("_assign"),At={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Re]=gt(n);const i=r||n.props&&n.props.type==="number";et(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Xs(a)),t[Re](a)}),s&&et(t,"change",()=>{t.value=t.value.trim()}),e||(et(t,"compositionstart",Uc),et(t,"compositionend",li),et(t,"change",li))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Re]=gt(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Xs(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},or={deep:!0,created(t,e,s){t[Re]=gt(s),et(t,"change",()=>{const r=t._modelValue,n=zt(t),i=t.checked,o=t[Re];if(L(r)){const a=hn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Yt(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(zo(t,i))})},mounted:ci,beforeUpdate(t,e,s){t[Re]=gt(s),ci(t,e,s)}};function ci(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(L(e))n=hn(e,r.props.value)>-1;else if(Yt(e))n=e.has(r.props.value);else{if(e===s)return;n=$t(e,zo(t,!0))}t.checked!==n&&(t.checked=n)}const ui={created(t,{value:e},s){t.checked=$t(e,s.props.value),t[Re]=gt(s),et(t,"change",()=>{t[Re](zt(t))})},beforeUpdate(t,{value:e,oldValue:s},r){t[Re]=gt(r),e!==s&&(t.checked=$t(e,r.props.value))}},Dc={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Yt(e);et(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Xs(zt(o)):zt(o));t[Re](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,wn(()=>{t._assigning=!1})}),t[Re]=gt(r)},mounted(t,{value:e}){di(t,e)},beforeUpdate(t,e,s){t[Re]=gt(s)},updated(t,{value:e}){t._assigning||di(t,e)}};function di(t,e){const s=t.multiple,r=L(e);if(!(s&&!r&&!Yt(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=zt(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=hn(e,a)>-1}else o.selected=e.has(a);else if($t(zt(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function zt(t){return"_value"in t?t._value:t.value}function zo(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Mc=["ctrl","shift","alt","meta"],Nc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Mc.some(s=>t[`${s}Key`]&&!e.includes(s))},Go=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Nc[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Fc=be({patchProp:Ic},yc);let hi;function Bc(){return hi||(hi=ql(Fc))}const Hc=(...t)=>{const e=Bc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=qc(r);if(!n)return;const i=e._component;!F(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Vc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Vc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function qc(t){return de(t)?document.querySelector(t):t}var Kc=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Qo;const br=t=>Qo=t,Yo=Symbol();function Yr(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ks;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ks||(ks={}));function Wc(){const t=zi(!0),e=t.run(()=>W({}));let s=[],r=[];const n=bn({install(i){br(n),n._a=i,i.provide(Yo,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Kc?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Xo=()=>{};function fi(t,e,s,r=Xo){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&Gi()&&Ra(n),n}function Mt(t,...e){t.slice().forEach(s=>{s(...e)})}const Jc=t=>t(),pi=Symbol(),Ur=Symbol();function Xr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Yr(n)&&Yr(r)&&t.hasOwnProperty(s)&&!ae(r)&&!ft(r)?t[s]=Xr(n,r):t[s]=r}return t}const zc=Symbol();function Gc(t){return!Yr(t)||!t.hasOwnProperty(zc)}const{assign:it}=Object;function Qc(t){return!!(ae(t)&&t.effect)}function Yc(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=rl(s.state.value[t]);return it(c,i,Object.keys(o||{}).reduce((d,p)=>(d[p]=bn(ce(()=>{br(s);const g=s._s.get(t);return o[p].call(g,g)})),d),{}))}return l=Zo(t,u,e,s,r,!0),l}function Zo(t,e,s={},r,n,i){let o;const a=it({actions:{}},s),l={deep:!0};let u,c,d=[],p=[],g;const b=r.state.value[t];!i&&!b&&(r.state.value[t]={}),W({});let O;function $(N){let V;u=c=!1,typeof N=="function"?(N(r.state.value[t]),V={type:ks.patchFunction,storeId:t,events:g}):(Xr(r.state.value[t],N),V={type:ks.patchObject,payload:N,storeId:t,events:g});const le=O=Symbol();wn().then(()=>{O===le&&(u=!0)}),c=!0,Mt(d,V,r.state.value[t])}const A=i?function(){const{state:V}=s,le=V?V():{};this.$patch($e=>{it($e,le)})}:Xo;function m(){o.stop(),d=[],p=[],r._s.delete(t)}const v=(N,V="")=>{if(pi in N)return N[Ur]=V,N;const le=function(){br(r);const $e=Array.from(arguments),De=[],nt=[];function es(q){De.push(q)}function Ds(q){nt.push(q)}Mt(p,{args:$e,name:le[Ur],store:R,after:es,onError:Ds});let ie;try{ie=N.apply(this&&this.$id===t?this:R,$e)}catch(q){throw Mt(nt,q),q}return ie instanceof Promise?ie.then(q=>(Mt(De,q),q)).catch(q=>(Mt(nt,q),Promise.reject(q))):(Mt(De,ie),ie)};return le[pi]=!0,le[Ur]=V,le},x={_p:r,$id:t,$onAction:fi.bind(null,p),$patch:$,$reset:A,$subscribe(N,V={}){const le=fi(d,N,V.detached,()=>$e()),$e=o.run(()=>Pt(()=>r.state.value[t],De=>{(V.flush==="sync"?c:u)&&N({storeId:t,type:ks.direct,events:g},De)},it({},l,V)));return le},$dispose:m},R=hr(x);r._s.set(t,R);const H=(r._a&&r._a.runWithContext||Jc)(()=>r._e.run(()=>(o=zi()).run(()=>e({action:v}))));for(const N in H){const V=H[N];if(ae(V)&&!Qc(V)||ft(V))i||(b&&Gc(V)&&(ae(V)?V.value=b[N]:Xr(V,b[N])),r.state.value[t][N]=V);else if(typeof V=="function"){const le=v(V,N);H[N]=le,a.actions[N]=V}}return it(R,H),it(z(R),H),Object.defineProperty(R,"$state",{get:()=>r.state.value[t],set:N=>{$(V=>{it(V,N)})}}),r._p.forEach(N=>{it(R,o.run(()=>N({store:R,app:r._a,pinia:r,options:a})))}),b&&i&&s.hydrate&&s.hydrate(R.$state,b),u=!0,c=!0,R}/*! #__NO_SIDE_EFFECTS__ */function wr(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=Dl();return a=a||(u?ws(Yo,null):null),a&&br(a),a=Qo,a._s.has(r)||(i?Zo(r,e,n,a):Yc(r,n,a)),a._s.get(r)}return o.$id=r,o}const Xc=wr("user",()=>{const t=W(null),e=W(null);function s(r,n){t.value=r,e.value=n}return{currentUser:t,currentId:e,loadUser:s}}),Sr=wr("binder",()=>{const t=W(null),e=W(null),s=W(null);function r(o){t.value=o}function n(o){e.value=o}function i(o){s.value=o}return{userBinders:t,currentBinder:e,lastBinderOrder:s,loadBinders:r,selectBinder:n,setLastOrder:i}}),Zc="modulepreload",eu=function(t){return"/"+t},gi={},Gt=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=eu(l),l in gi)return;gi[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Zc,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},tu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gt(async()=>{const{default:r}=await Promise.resolve().then(()=>Xt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class En extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class su extends En{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ru extends En{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nu extends En{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zr||(Zr={}));var iu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class ou{constructor(e,{headers:s={},customFetch:r,region:n=Zr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=tu(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return iu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(b=>{throw new su(b)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new ru(c);if(!c.ok)throw new nu(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function au(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lu(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var fe={},os={},as={},ls={},cs={},us={},cu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qt=cu();const uu=Qt.fetch,ea=Qt.fetch.bind(Qt),ta=Qt.Headers,du=Qt.Request,hu=Qt.Response,Xt=Object.freeze(Object.defineProperty({__proto__:null,Headers:ta,Request:du,Response:hu,default:ea,fetch:uu},Symbol.toStringTag,{value:"Module"})),fu=lu(Xt);var Vs={},_i;function sa(){if(_i)return Vs;_i=1,Object.defineProperty(Vs,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Vs.default=t,Vs}var vi;function ra(){if(vi)return us;vi=1;var t=us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(us,"__esModule",{value:!0});const e=t(fu),s=t(sa());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,p;let g=null,b=null,O=null,$=u.status,A=u.statusText;if(u.ok){if(this.method!=="HEAD"){const R=await u.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=R:b=JSON.parse(R))}const v=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");v&&x&&x.length>1&&(O=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,O=null,$=406,A="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const v=await u.text();try{g=JSON.parse(v),Array.isArray(g)&&u.status===404&&(b=[],g=null,$=200,A="OK")}catch{u.status===404&&v===""?($=204,A="No Content"):g={message:v}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,$=200,A="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:b,count:O,status:$,statusText:A}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return us.default=r,us}var mi;function na(){if(mi)return cs;mi=1;var t=cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cs,"__esModule",{value:!0});const e=t(ra());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return cs.default=s,cs}var yi;function On(){if(yi)return ls;yi=1;var t=ls.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ls,"__esModule",{value:!0});const e=t(na());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ls.default=s,ls}var bi;function ia(){if(bi)return as;bi=1;var t=as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0});const e=t(On());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const d=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return as.default=s,as}var ds={},hs={},wi;function pu(){return wi||(wi=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.version=void 0,hs.version="0.0.0-automated"),hs}var Si;function gu(){if(Si)return ds;Si=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.DEFAULT_HEADERS=void 0;const t=pu();return ds.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},ds}var ki;function _u(){if(ki)return os;ki=1;var t=os.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(os,"__esModule",{value:!0});const e=t(ia()),s=t(On()),r=gu();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([O,$])=>$!==void 0).map(([O,$])=>[O,Array.isArray($)?`{${$.join(",")}}`:`${$}`]).forEach(([O,$])=>{p.searchParams.append(O,$)})):(d="POST",g=a);const b=Object.assign({},this.headers);return c&&(b.Prefer=`count=${c}`),new s.default({method:d,url:p,headers:b,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return os.default=n,os}var xi;function vu(){if(xi)return fe;xi=1;var t=fe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fe,"__esModule",{value:!0}),fe.PostgrestError=fe.PostgrestBuilder=fe.PostgrestTransformBuilder=fe.PostgrestFilterBuilder=fe.PostgrestQueryBuilder=fe.PostgrestClient=void 0;const e=t(_u());fe.PostgrestClient=e.default;const s=t(ia());fe.PostgrestQueryBuilder=s.default;const r=t(On());fe.PostgrestFilterBuilder=r.default;const n=t(na());fe.PostgrestTransformBuilder=n.default;const i=t(ra());fe.PostgrestBuilder=i.default;const o=t(sa());return fe.PostgrestError=o.default,fe.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},fe}var mu=vu();const yu=au(mu),{PostgrestClient:bu,PostgrestQueryBuilder:sf,PostgrestFilterBuilder:rf,PostgrestTransformBuilder:nf,PostgrestBuilder:of,PostgrestError:af}=yu,wu="2.11.2",Su={"X-Client-Info":`realtime-js/${wu}`},ku="1.0.0",oa=1e4,xu=1e3;var Wt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Wt||(Wt={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var Ie;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ie||(Ie={}));var en;(function(t){t.websocket="websocket"})(en||(en={}));var Et;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Et||(Et={}));class Tu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class aa{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(te||(te={}));const Ti=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Eu(o,t,e,n),i),{})},Eu=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?la(i,o):tn(o)},la=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Au(e,s)}switch(t){case te.bool:return Ou(e);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Cu(e);case te.json:case te.jsonb:return Pu(e);case te.timestamp:return $u(e);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return tn(e);default:return tn(e)}},tn=t=>t,Ou=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Cu=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Pu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Au=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>la(e,a))}return t},$u=t=>typeof t=="string"?t.replace(" ","T"):t,ca=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Dr{constructor(e,s,r={},n=oa){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ei;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ei||(Ei={}));class xs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const p=c.map($=>$.presence_ref),g=d.map($=>$.presence_ref),b=c.filter($=>g.indexOf($.presence_ref)<0),O=d.filter($=>p.indexOf($.presence_ref)<0);b.length>0&&(a[u]=b),O.length>0&&(l[u]=O)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const d=e[a].map(g=>g.presence_ref),p=c.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Oi||(Oi={}));var Ci;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ci||(Ci={}));var Ye;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ye||(Ye={}));class Cn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Dr(this,Ie.join,this.params,this.timeout),this.rejoinTimer=new aa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ie.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new xs(this),this.broadcastEndpointURL=ca(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(Ye.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Ye.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){e==null||e(Ye.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,b=[];for(let O=0;O<g;O++){const $=p[O],{filter:{event:A,schema:m,table:v,filter:x}}=$,R=c&&c[O];if(R&&R.event===A&&R.schema===m&&R.table===v&&R.filter===x)b.push(Object.assign(Object.assign({},$),{id:R.id}));else{this.unsubscribe(),e==null||e(Ye.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Ye.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(Ye.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ye.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ie.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Dr(this,Ie.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Dr(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ie;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var b,O,$;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||(($=(O=g.filter)===null||O===void 0?void 0:O.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,O,$,A,m,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,R=(b=g.filter)===null||b===void 0?void 0:b.event;return x&&((O=s.ids)===null||O===void 0?void 0:O.includes(x))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===(($=s.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{const x=(m=(A=g==null?void 0:g.filter)===null||A===void 0?void 0:A.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((v=s==null?void 0:s.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:O,table:$,commit_timestamp:A,type:m,errors:v}=b;p=Object.assign(Object.assign({},{schema:O,table:$,commit_timestamp:A,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(b))}g.callback(p,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Cn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ie.close,{},e)}_onError(e){this._on(Ie.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Ti(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Ti(e.columns,e.old_record)),s}}const ju=()=>{},Ru=typeof WebSocket<"u",Iu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Lu{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Su,this.params={},this.timeout=oa,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ju,this.conn=null,this.sendBuffer=[],this.serializer=new Tu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Gt(async()=>{const{default:l}=await Promise.resolve().then(()=>Xt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${en.websocket}`,this.httpEndpoint=ca(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new aa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ru){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Uu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Gt(async()=>{const{default:e}=await import("./browser-CXGB3Jcl.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ku}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Wt.connecting:return Et.Connecting;case Wt.open:return Et.Open;case Wt.closing:return Et.Closing;default:return Et.Closed}}isConnected(){return this.connectionState()===Et.Open}channel(e,s={config:{}}){const r=new Cn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ie.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(xu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ie.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Iu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class Uu{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wt.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Pn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Du extends Pn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sn extends Pn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Mu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gt(async()=>{const{default:r}=await Promise.resolve().then(()=>Xt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Nu=()=>Mu(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gt(()=>Promise.resolve().then(()=>Xt),void 0)).Response:Response}),rn=t=>{if(Array.isArray(t))return t.map(s=>rn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=rn(r)}),e};var Lt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fu=(t,e,s)=>Lt(void 0,void 0,void 0,function*(){const r=yield Nu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Du(Mr(n),t.status||500))}).catch(n=>{e(new sn(Mr(n),n))}):e(new sn(Mr(t),t))}),Bu=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ls(t,e,s,r,n,i){return Lt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Bu(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Fu(l,a,r))})})}function ar(t,e,s,r){return Lt(this,void 0,void 0,function*(){return Ls(t,"GET",e,s,r)})}function ut(t,e,s,r,n){return Lt(this,void 0,void 0,function*(){return Ls(t,"POST",e,r,n,s)})}function Hu(t,e,s,r,n){return Lt(this,void 0,void 0,function*(){return Ls(t,"PUT",e,r,n,s)})}function Vu(t,e,s,r){return Lt(this,void 0,void 0,function*(){return Ls(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function da(t,e,s,r,n){return Lt(this,void 0,void 0,function*(){return Ls(t,"DELETE",e,r,n,s)})}var Se=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const qu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ku{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ua(n)}uploadOrUpdate(e,s,r,n){return Se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Pi),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(he(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Pi.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Se(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield ut(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Pn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}update(e,s,r){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Se(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ut(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Se(this,void 0,void 0,function*(){try{const n=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}download(e,s){return Se(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ar(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}})}info(e){return Se(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield ar(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rn(r),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}exists(e){return Se(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Vu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(he(r)&&r instanceof sn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Se(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}list(e,s,r){return Se(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},qu),s),{prefix:e||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Wu="2.7.1",Ju={"X-Client-Info":`storage-js/${Wu}`};var Nt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class zu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Ju),s),this.fetch=ua(r)}listBuckets(){return Nt(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Nt(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Nt(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Nt(this,void 0,void 0,function*(){try{return{data:yield da(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}})}}class Gu extends zu{constructor(e,s={},r){super(e,s,r)}from(e){return new Ku(this.url,this.headers,e,this.fetch)}}const Qu="2.47.13";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const Yu={"X-Client-Info":`supabase-js-${gs}/${Qu}`},Xu={headers:Yu},Zu={schema:"public"},ed={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},td={};var sd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const rd=t=>{let e;return t?e=t:typeof fetch>"u"?e=ea:e=fetch,(...s)=>e(...s)},nd=()=>typeof Headers>"u"?ta:Headers,id=(t,e,s)=>{const r=rd(s),n=nd();return(i,o)=>sd(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var od=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function ad(t){return t.replace(/\/$/,"")}function ld(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>od(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const ha="2.67.3",cd="http://localhost:9999",ud="supabase.auth.token",dd={"X-Client-Info":`gotrue-js/${ha}`},Ai=10,nn="X-Supabase-Api-Version",fa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function hd(t){return Math.round(Date.now()/1e3)+t}function fd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",St={tested:!1,writable:!1},Ts=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(St.tested)return St.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),St.tested=!0,St.writable=!0}catch{St.tested=!0,St.writable=!1}return St.writable};function pd(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const pa=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Gt(async()=>{const{default:r}=await Promise.resolve().then(()=>Xt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},gd=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ga=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},qs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ks=async(t,e)=>{await t.removeItem(e)};function _d(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class kr{constructor(){this.promise=new kr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}kr.promiseConstructor=Promise;function $i(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(_d(r))}async function vd(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function md(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function yd(t){return("0"+t.toString(16)).substr(-2)}function bd(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,yd).join("")}async function wd(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Sd(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kd(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await wd(t);return Sd(s)}async function Ft(t,e,s=!1){const r=bd();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ga(t,`${e}-code-verifier`,n);const i=await kd(r);return[i,r===i?"plain":"s256"]}const xd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Td(t){const e=t.headers.get(nn);if(!e||!e.match(xd))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class An extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ed extends An{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Od(t){return B(t)&&t.name==="AuthApiError"}class _a extends An{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ut extends An{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class ot extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cd(t){return B(t)&&t.name==="AuthSessionMissingError"}class Nr extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ws extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Js extends Ut{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pd(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class ji extends Ut{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class on extends Ut{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Fr(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Ri extends Ut{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Ad=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Tt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$d=[502,503,504];async function Ii(t){var e;if(!gd(t))throw new on(Tt(t),0);if($d.includes(t.status))throw new on(Tt(t),t.status);let s;try{s=await t.json()}catch(i){throw new _a(Tt(i),i)}let r;const n=Td(t);if(n&&n.getTime()>=fa["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Ri(Tt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ot}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ri(Tt(s),t.status,s.weak_password.reasons);throw new Ed(Tt(s),t.status||500,r)}const jd=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function K(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[nn]||(i[nn]=fa["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Rd(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Rd(t,e,s,r,n,i){const o=jd(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new on(Tt(l),0)}if(a.ok||await Ii(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ii(l)}}function at(t){var e;let s=null;Dd(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=hd(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Li(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Id(t){return{data:t,error:null}}function Ld(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Ad(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ud(t){return t}function Dd(t){return t.access_token&&t.refresh_token&&t.expires_in}var Md=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Nd{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=pa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:dt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=Md(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Ld,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(B(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:dt})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Ud});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const O=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(b.split(";")[1].split("=")[1]);u[`${$}Page`]=O}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:dt})}catch(s){if(B(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:dt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:dt})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(B(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}}const Fd={getItem:t=>Ts()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ts()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ts()&&globalThis.localStorage.removeItem(t)}};function Ui(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Bd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bt={debug:!!(globalThis&&Ts()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class va extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Hd extends va{}async function Vd(t,e,s){Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Bt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Hd(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Bt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Bd();const qd={url:cd,storageKey:ud,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},fs=30*1e3,Di=3;async function Mi(t,e,s){return await s()}class $s{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$s.nextInstanceID,$s.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},qd),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Nd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=pa(n.fetch),this.lock=n.lock||Mi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ve()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Vd:this.lock=Mi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ts()?this.storage=Fd:(this.memoryStorage={},this.storage=Ui(this.memoryStorage)):(this.memoryStorage={},this.storage=Ui(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ha}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=pd(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ve()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Pd(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return B(s)?{error:s}:{error:new _a("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:at}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:d,options:p}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Ft(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:b},xform:at})}else if("phone"in e){const{phone:c,password:d,options:p}=e;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:at})}else throw new Ws("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Li})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Li})}else throw new Ws("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Nr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await qs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:at});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Nr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:at}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ft(this.storage,this.storageKey));const{error:d}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ws("You must provide either an email or phone number.")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:at});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Ft(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Id})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new ot;const{error:n}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await K(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await K(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ws("You must provide either an email or phone number and a type")}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:dt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ot}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:dt})})}catch(s){if(B(s))return Cd(s)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new ot;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ft(this.storage,this.storageKey));const{data:u,error:c}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:dt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return $i(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ot;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=$i(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(B(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ot;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ve())throw new Js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ji("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ji("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Js("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const g=p-c;g*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const b=p-d;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,c);const{data:O,error:$}=await this._getUser(i);if($)throw $;const A={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Od(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=fd(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Ft(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(B(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ve()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await md(async n=>(n>0&&await vd(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Fr(i)&&Date.now()+o-r<fs})}catch(r){if(this._debug(s,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ve()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await qs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+Ai;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ai}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Fr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new ot;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new kr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new ot;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),B(i)){const o={session:null,error:i};return Fr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ga(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${fs}ms, refresh threshold is ${Di} ticks`),n<=Di&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof va)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ft(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(B(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(B(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(B(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}$s.nextInstanceID=0;const Kd=$s;class Wd extends Kd{constructor(e){super(e)}}var Jd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class zd{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=ad(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Zu,realtime:td,auth:Object.assign(Object.assign({},ed),{storageKey:l}),global:Xu},c=ld(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=id(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new bu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new ou(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Jd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var d;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wd({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(e){return new Lu(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gd=(t,e,s)=>new zd(t,e,s),tt=Gd("https://bdgrzywumdfuxrlsyyxi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkZ3J6eXd1bWRmdXhybHN5eXhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY4NTg4NjksImV4cCI6MjA1MjQzNDg2OX0.CfMRHLIqiyazh7Hkn9M9Zo4cVKJWTJSA5GwZaZxGfMc"),Us=wr("cards",()=>{const t=W([]),e=Sr();async function s(){const i=t.value.find(o=>o.binder==e.currentBinder);if(i)console.log("returning cached binder",i),e.setLastOrder(i.data[i.data.length-1].order);else{console.log("loading new binder",e.currentBinder);try{const{data:o,error:a}=await tt.from("cards").select().eq("binder",e.currentBinder).order("order",{ascending:!0});if(a)throw a;t.value.push({binder:e.currentBinder,data:o}),e.setLastOrder(o[o.length-1].order)}catch(o){console.log(o)}}}async function r(){try{const{data:i,error:o}=await tt.from("cards").select().eq("binder",e.currentBinder).order("order",{ascending:!0});if(t.value.find(a=>a.binder==e.currentBinder).data=i,console.log("refreshed data binder",e.currentBinder),console.log(t.value.find(a=>a.binder==e.currentBinder)),o)throw o}catch(i){console.log(i)}}return{cards:t,fetchCards:s,refreshCards:r,deleteCard:async i=>{try{const{data:o,error:a}=await tt.from("cards").delete().eq("id",i.id).select();if(s(),a)throw a}catch{}}}}),xr=wr("data",()=>{const t=W([]),e=W(null);function s(n){t.value=n}function r(n){e.value=n}return{pokemons:t,editingCard:e,loadPokemons:s,setEditing:r}}),Zt=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Qd=["src","alt"],Yd=["src","alt"],Xd={class:"card-buttons"},Zd={key:1,class:"altlabel"},eh={key:1,class:"empty"},th={class:"card-buttons"},sh={__name:"Card",props:["card","missing"],setup(t){const e=t,s=xr(),r=Us(),n=W(!0);function i(){n.value=!n.value}function o(){s.setEditing(e.card)}async function a(u){await r.deleteCard(u),r.refreshCards()}const l=ce(()=>e.card);return Pt(l,()=>{n.value=!0}),(u,c)=>e.card.url!=""?(Y(),re("div",{key:0,class:oe(["card",e.missing&&e.card.gotit?"missing":""]),onClick:i},[C("img",{class:oe([{over:n.value}]),src:e.card.url,alt:"pokemon_"+e.card.pokemon},null,10,Qd),e.card.alturl?(Y(),re("img",{key:0,class:oe(["alt",{over:!n.value}]),src:e.card.alturl,alt:"pokemon_alt_"+e.card.pokemon},null,10,Yd)):Le("",!0),C("div",Xd,[C("button",{class:"edit",onClick:o},"edit"),C("button",{class:"delete",onClick:c[0]||(c[0]=d=>a(e.card))},"delete")]),e.card.alturl?(Y(),re("div",Zd,"click for "+st(n.value?"alt":"main"),1)):Le("",!0)],2)):(Y(),re("div",eh,[C("div",th,[C("button",{class:"edit",onClick:o},"edit"),C("button",{class:"delete",onClick:c[1]||(c[1]=d=>a(e.card))},"delete")])]))}},rh=Zt(sh,[["__scopeId","data-v-4f418fac"]]),nh={class:"page"},ih={__name:"BinderPage",props:["cards","missing"],setup(t){const e=t;return(s,r)=>(Y(),re("div",nh,[(Y(!0),re(Ce,null,gr(e.cards,(n,i)=>(Y(),Ho(rh,{key:i+"card",card:n,missing:t.missing},null,8,["card","missing"]))),128))]))}},kt=Zt(ih,[["__scopeId","data-v-5089b7b9"]]),oh={key:1,class:"binder"},ah=["missing"],lh=["missing"],ch=["missing"],uh=["missing"],dh={__name:"Binder",props:["page","animation","direction","fill","missing"],setup(t){const e=t,s=Us(),r=Sr(),n=W(9),i=ce(()=>window.innerWidth<1200),o=ce(()=>a.value.slice(l(0),l(1))),a=ce(()=>{if(s.cards.length){const A=s.cards.find(m=>m.binder==r.currentBinder);return A?A.data.filter(m=>!e.fill||m.url):[]}else return[]});function l(A){return(e.page+A)*n.value}const u=ce(()=>a.value.slice(l(0),l(1))),c=ce(()=>a.value.slice(l(1),l(2))),d=ce(()=>a.value.slice(l(2),l(3))),p=ce(()=>a.value.slice(l(3),l(4))),g=ce(()=>a.value.slice(l(-2),l(-1))),b=ce(()=>a.value.slice(l(-1),l(0))),O=ce(()=>a.value.slice(0,n.value)),$=ce(()=>a.value.slice(n.value,2*n.value));return(A,m)=>(Y(),re("div",{class:oe(["binder-wrapper",i.value?"mobile":""])},[i.value?(Y(),re("div",{key:0,class:oe(["binder",i.value?"mobile":""])},[ue(kt,{cards:o.value,missing:e.missing},null,8,["cards","missing"])],2)):Le("",!0),i.value?Le("",!0):(Y(),re("div",oh,[ue(kt,{cards:u.value,missing:e.missing,class:oe(["left-page",e.animation&&(e.direction=="left"||e.direction=="first")?"flipping":""])},null,8,["cards","missing","class"]),ue(kt,{cards:c.value,missing:e.missing,class:oe(["right-page",e.animation&&e.direction=="right"?"flipping":""])},null,8,["cards","missing","class"])])),!i.value&&e.page>0?(Y(),re("div",{key:2,missing:e.missing,class:oe(["flip-helper","left",e.animation&&(e.direction=="left"||e.direction=="first")?"flipping":""])},[ue(kt,{cards:e.animation&&e.direction=="first"?$.value:b.value,class:"right-page-back"},null,8,["cards"])],10,ah)):Le("",!0),i.value?Le("",!0):(Y(),re("div",{key:3,class:oe(["flip-helper","right",e.animation&&e.direction=="right"?"flipping":""]),missing:e.missing},[ue(kt,{cards:d.value,class:"left-page-back"},null,8,["cards"])],10,lh)),!i.value&&e.page>0?(Y(),re("div",{key:4,class:"backpage left",missing:e.missing},[ue(kt,{cards:e.animation&&e.direction=="first"?O.value:g.value,class:"right-page-back"},null,8,["cards"])],8,ch)):Le("",!0),i.value?Le("",!0):(Y(),re("div",{key:5,class:"backpage right",missing:e.missing},[ue(kt,{cards:p.value,class:"right-page-back"},null,8,["cards"])],8,uh))],2))}},hh=Zt(dh,[["__scopeId","data-v-e4623c23"]]),fh={class:"field"},ph={class:"radios"},gh={class:"field"},_h=["disabled"],vh={class:"field"},mh=["disabled"],yh={class:"autocomplete field"},bh=["disabled"],wh={key:0,class:"suggestions"},Sh=["onMousedown"],kh={class:"checkbox"},xh=["disabled"],Th={__name:"CardLoader",emits:["add-card","toggle-loader","close-loader"],setup(t,{emit:e}){const s=xr(),r=Us(),n=Sr(),i=W(!1);function o(){i.value=!i.value}function a(){i.value=!1,b()}const l=W(""),u=W(""),c=W("card"),d=W(""),p=W(null),g=W(!1);function b(){l.value="",u.value="",d.value="",p.value=null,g.value=!1}const O=W(!1),$=ce(()=>d.value?s.pokemons.filter(R=>R.name.toLowerCase().includes(d.value.toLowerCase())):[]);function A(R){d.value=R.name,p.value=R.pokedex_number,O.value=!1}function m(R){O.value=R}const v=ce(()=>c.value=="empty");async function x(R=null){const D={maincard:l.value,altcard:u.value,type:c.value,pokemonName:d.value,pokemonNumber:p.value,gotcard:g.value,binder:n.currentBinder};let H=n.lastBinderOrder+1;if(D.type=="card")try{const{data:N,error:V}=await tt.from("cards").insert({url:D.maincard,alturl:D.altcard,pokemon:D.pokemonNumber,gotit:D.gotcard,binder:D.binder,order:H}).select();if(V)throw V;n.setLastOrder(n.lastBinderOrder+1)}catch(N){console.log(N)}else try{const{data:N,error:V}=await tt.from("cards").insert({url:"",alturl:"",pokemon:null,binder:D.binder,order:H}).select();if(V)throw V;n.setLastOrder(n.lastBinderOrder+1)}catch(N){console.log(N)}r.refreshCards(),b()}return(R,D)=>(Y(),re("div",null,[C("button",{class:"toggler",onClick:o}," add card "),C("div",{class:oe(["interface",{close:!i.value}])},[C("div",fh,[D[11]||(D[11]=C("div",{class:"label"}," Type ",-1)),C("div",ph,[C("div",{class:oe(["radio",{active:c.value=="card"}])},[ke(C("input",{id:"card",type:"radio","onUpdate:modelValue":D[0]||(D[0]=H=>c.value=H),value:"card"},null,512),[[ui,c.value]]),D[9]||(D[9]=C("label",{for:"card"},"Card",-1))],2),C("div",{class:oe(["radio",{active:v.value}])},[ke(C("input",{id:"empty",type:"radio","onUpdate:modelValue":D[1]||(D[1]=H=>c.value=H),value:"empty"},null,512),[[ui,c.value]]),D[10]||(D[10]=C("label",{for:"empty"},"Empty slot",-1))],2)])]),C("div",gh,[C("label",{class:oe([{disabled:v.value}]),for:"mainimage"},"Main card",2),ke(C("input",{disabled:v.value,type:"text",id:"mainimage","onUpdate:modelValue":D[2]||(D[2]=H=>l.value=H)},null,8,_h),[[At,l.value]])]),C("div",vh,[C("label",{class:oe([{disabled:v.value}]),for:"altimage"},"Alternative card",2),ke(C("input",{disabled:v.value,type:"text",id:"altimage","onUpdate:modelValue":D[3]||(D[3]=H=>u.value=H)},null,8,mh),[[At,u.value]])]),C("div",yh,[C("label",{class:oe([{disabled:v.value}]),for:"pokemon"},"Selected pokemon",2),ke(C("input",{disabled:v.value,id:"pokemon",type:"text","onUpdate:modelValue":D[4]||(D[4]=H=>d.value=H),onFocus:D[5]||(D[5]=H=>m(!0)),onBlur:D[6]||(D[6]=H=>m(!1)),onInput:D[7]||(D[7]=H=>m(!0)),placeholder:"Cerca Pokémon..."},null,40,bh),[[At,d.value]]),O.value&&$.value.length?(Y(),re("ul",wh,[(Y(!0),re(Ce,null,gr($.value,H=>(Y(),re("li",{key:H.pokedex_number,onMousedown:Go(N=>A(H),["prevent"])},st(H.name),41,Sh))),128))])):Le("",!0)]),C("div",{class:oe({disabled:v.value,label:!0})},[D[12]||(D[12]=mr("Pokedex number ")),C("span",null,st(p.value),1)],2),C("div",kh,[ke(C("input",{type:"checkbox",name:"gotit",id:"gotit","onUpdate:modelValue":D[8]||(D[8]=H=>g.value=H)},null,512),[[or,g.value]]),D[13]||(D[13]=C("label",{for:"gotit"},"Already have",-1))]),C("button",{class:oe([{disabled:c.value=="card"&&!l.value}]),onClick:x,disabled:c.value=="card"&&!l.value},"Add card",10,xh),C("button",{class:"formbutton cancel",onClick:a},"Cancel")],2)]))}},Eh=Zt(Th,[["__scopeId","data-v-9c18a9e3"]]),Oh={class:"buttons"},Ch=["disabled"],Ph=["disabled"],Ah={style:{color:"#fff"}},$h=["disabled"],jh={__name:"Navigation",props:["flipping","page","disableNext"],emits:["swipe-page"],setup(t,{emit:e}){const s=t,r=e;function n(i){r("swipe-page",i)}return(i,o)=>(Y(),re("div",Oh,[C("button",{disabled:s.page<=0||s.flipping,onClick:o[0]||(o[0]=a=>n("first"))},"<<",8,Ch),C("button",{disabled:s.page<=0||s.flipping,onClick:o[1]||(o[1]=a=>n("left"))},"<",8,Ph),C("div",null,[C("span",Ah,"Pag "+st(parseInt(s.page)+1),1)]),C("button",{disabled:s.disableNext||s.flipping,onClick:o[2]||(o[2]=a=>n("right"))},">",8,$h)]))}},Rh=Zt(jh,[["__scopeId","data-v-3f4a40d6"]]),Ih={class:"field"},Lh={class:"field"},Uh={class:"autocomplete field"},Dh={key:0,class:"suggestions"},Mh=["onMousedown"],Nh={class:"label"},Fh={class:"checkbox"},Bh={__name:"CardEditor",setup(t){const e=xr(),s=Us(),r=W(!1);function n(){r.value=!1,c()}const i=W(""),o=W(""),a=W(""),l=W(null),u=W(!1);function c(){i.value="",o.value="",a.value="",l.value=null,u.value=!1}const d=W(!1),p=ce(()=>a.value?e.pokemons.filter(A=>A.name.toLowerCase().includes(a.value.toLowerCase())):[]);function g(A){a.value=A.name,l.value=A.pokedex_number,d.value=!1}function b(A){d.value=A}const O=async()=>{try{const{data:A,error:m}=await tt.from("cards").update({url:i.value,alturl:o.value,pokemon:l.value,gotit:u.value}).eq("id",e.editingCard.id).select();if(m)throw m;s.refreshCards(),n()}catch(A){console.log(A)}},$=ce(()=>e.editingCard);return Pt($,async(A,m)=>{c(),A&&(r.value=!0,i.value=e.editingCard.url,o.value=e.editingCard.alturl,u.value=e.editingCard.gotit,e.editingCard.pokemon&&g(e.pokemons.find(v=>v.pokedex_number==e.editingCard.pokemon)))}),(A,m)=>(Y(),re("div",{class:oe(["interface",{close:!r.value}])},[m[12]||(m[12]=C("div",null,"Edit selected Card",-1)),C("div",Ih,[m[7]||(m[7]=C("label",{for:"mainimage"},"Main card",-1)),ke(C("input",{type:"text",id:"mainimage","onUpdate:modelValue":m[0]||(m[0]=v=>i.value=v)},null,512),[[At,i.value]])]),C("div",Lh,[m[8]||(m[8]=C("label",{for:"altimage"},"Alternative card",-1)),ke(C("input",{type:"text",id:"altimage","onUpdate:modelValue":m[1]||(m[1]=v=>o.value=v)},null,512),[[At,o.value]])]),C("div",Uh,[m[9]||(m[9]=C("label",{for:"pokemon"},"Selected pokemon",-1)),ke(C("input",{id:"pokemon",type:"text","onUpdate:modelValue":m[2]||(m[2]=v=>a.value=v),onFocus:m[3]||(m[3]=v=>b(!0)),onBlur:m[4]||(m[4]=v=>b(!1)),onInput:m[5]||(m[5]=v=>b(!0)),placeholder:"Cerca Pokémon..."},null,544),[[At,a.value]]),d.value&&p.value.length?(Y(),re("ul",Dh,[(Y(!0),re(Ce,null,gr(p.value,v=>(Y(),re("li",{key:v.pokedex_number,onMousedown:Go(x=>g(v),["prevent"])},st(v.name),41,Mh))),128))])):Le("",!0)]),C("div",Nh,[m[10]||(m[10]=mr("Pokedex number ")),C("span",null,st(l.value),1)]),C("div",Fh,[ke(C("input",{type:"checkbox",name:"gotit",id:"gotit","onUpdate:modelValue":m[6]||(m[6]=v=>u.value=v)},null,512),[[or,u.value]]),m[11]||(m[11]=C("label",{for:"gotit"},"Already have",-1))]),C("button",{class:"formbutton add",onClick:O},"Edit card"),C("button",{class:"formbutton cancel",onClick:n},"Cancel")],2))}},Hh=Zt(Bh,[["__scopeId","data-v-0e799104"]]),Vh={class:"wrapper"},qh={class:"options"},Kh={class:"field"},Wh={key:0},Jh={class:"username"},zh={class:"field"},Gh=["value"],Qh={class:"field"},Yh={class:"checkbox"},Xh={class:"field"},Zh={class:"checkbox"},ef={__name:"App",setup(t){const e=Xc(),s=Sr(),r=Us(),n=xr(),i=ce(()=>window.innerWidth<1200),o=W("");async function a(){try{const{data:m,error:v}=await tt.from("users").select().eq("username",o.value);if(v)throw v;e.loadUser(m[0].username,m[0].id)}catch(m){console.log(m)}u(),localStorage.setItem("currentUser",e.currentUser),o.value=""}const l=W(1);async function u(){try{const{data:m,error:v}=await tt.from("binders").select().eq("user",e.currentId).order("title",{ascending:!0});if(v)throw v;s.loadBinders(m),l.value=m[0].id}catch(m){console.log(m)}}Pt(l,async(m,v)=>{s.selectBinder(m),r.fetchCards(),d.value=0});async function c(){const{data:m}=await tt.from("pokemons").select();n.loadPokemons(m)}wo(()=>{c();const m=localStorage.getItem("currentUser");m&&(o.value=m,a())});const d=W(0),p=W(!1),g=W("");async function b(m){p.value=!0,g.value=m;const v=i.value?1:2,x=i.value?0:1e3;setTimeout(()=>{switch(p.value=!1,g.value="",m){case"left":d.value-=v;break;case"right":d.value+=v;break;case"first":d.value=0;break}},x)}const O=ce(()=>{if(r.cards.length){const m=r.cards.find(x=>x.binder==s.currentBinder);let v=0;return m&&(v=m.data.filter(x=>!A.value||x.url).length),i.value?v<9*(d.value+1):v<18*(d.value/2+1)}else return!0}),$=W(!1),A=W(!1);return W(!1),(m,v)=>(Y(),re("div",Vh,[ue(hh,{missing:$.value,fill:A.value,page:d.value,animation:p.value,direction:g.value},null,8,["missing","fill","page","animation","direction"]),ue(Rh,{page:d.value,flipping:p.value,onSwipePage:b,disableNext:O.value},null,8,["page","flipping","disableNext"]),C("div",qh,[C("div",Kh,[v[4]||(v[4]=C("label",{for:"user"},"User",-1)),ke(C("input",{type:"text","onUpdate:modelValue":v[0]||(v[0]=x=>o.value=x),name:"user"},null,512),[[At,o.value]]),C("button",{onClick:a},"login")]),Gs(e).currentId?(Y(),re("div",Wh,[v[5]||(v[5]=mr("Logged in as ")),C("span",Jh,st(Gs(e).currentUser),1)])):Le("",!0),C("div",zh,[v[6]||(v[6]=C("label",{for:"generation"},"Binder",-1)),ke(C("select",{"onUpdate:modelValue":v[1]||(v[1]=x=>l.value=x),name:"genselect",id:"genselect"},[(Y(!0),re(Ce,null,gr(Gs(s).userBinders,(x,R)=>(Y(),re("option",{key:R+"index",value:x.id},st(x.title),9,Gh))),128))],512),[[Dc,l.value]])]),C("div",Qh,[C("div",Yh,[ke(C("input",{type:"checkbox","onUpdate:modelValue":v[2]||(v[2]=x=>A.value=x),id:"fill",name:"fill"},null,512),[[or,A.value]]),v[7]||(v[7]=C("label",{for:"fill"},"Fill pockets",-1))])]),C("div",Xh,[C("div",Zh,[ke(C("input",{type:"checkbox","onUpdate:modelValue":v[3]||(v[3]=x=>$.value=x),id:"possession",name:"possession"},null,512),[[or,$.value]]),v[8]||(v[8]=C("label",{for:"possession"},"Highlight missing",-1))])]),ue(Eh),ue(Hh)]),v[9]||(v[9]=C("a",{href:"https://github.com/nicobell",target:"_blank",class:"firma"},"github.com/nicobell",-1))]))}},ma=Hc(ef);ma.use(Wc());ma.mount("#app");export{au as g};
