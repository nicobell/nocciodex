(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Yr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const J={},Dt=[],He=()=>{},va=()=>!1,rr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Xr=t=>t.startsWith("onUpdate:"),me=Object.assign,Zr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},ma=Object.prototype.hasOwnProperty,K=(t,e)=>ma.call(t,e),R=Array.isArray,Ut=t=>xs(t)==="[object Map]",Vt=t=>xs(t)==="[object Set]",Cn=t=>xs(t)==="[object Date]",U=t=>typeof t=="function",re=t=>typeof t=="string",qe=t=>typeof t=="symbol",Z=t=>t!==null&&typeof t=="object",$i=t=>(Z(t)||U(t))&&U(t.then)&&U(t.catch),Ii=Object.prototype.toString,xs=t=>Ii.call(t),ya=t=>xs(t).slice(8,-1),Li=t=>xs(t)==="[object Object]",en=t=>re(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ls=Yr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ba=/-(\w)/g,ut=nr(t=>t.replace(ba,(e,s)=>s?s.toUpperCase():"")),wa=/\B([A-Z])/g,Ot=nr(t=>t.replace(wa,"-$1").toLowerCase()),Di=nr(t=>t.charAt(0).toUpperCase()+t.slice(1)),_r=nr(t=>t?`on${Di(t)}`:""),lt=(t,e)=>!Object.is(t,e),qs=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Ui=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},zs=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let An;const ir=()=>An||(An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tn(t){if(R(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=re(r)?Ea(r):tn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(re(t)||Z(t))return t}const Sa=/;(?![^(]*\))/g,ka=/:([^]+)/,Ta=/\/\*[^]*?\*\//g;function Ea(t){const e={};return t.replace(Ta,"").split(Sa).forEach(s=>{if(s){const r=s.split(ka);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ne(t){let e="";if(re(t))e=t;else if(R(t))for(let s=0;s<t.length;s++){const r=Ne(t[s]);r&&(e+=r+" ")}else if(Z(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const xa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Oa=Yr(xa);function Mi(t){return!!t||t===""}function Pa(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=Os(t[r],e[r]);return s}function Os(t,e){if(t===e)return!0;let s=Cn(t),r=Cn(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=qe(t),r=qe(e),s||r)return t===e;if(s=R(t),r=R(e),s||r)return s&&r?Pa(t,e):!1;if(s=Z(t),r=Z(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Os(t[o],e[o]))return!1}}return String(t)===String(e)}function sn(t,e){return t.findIndex(s=>Os(s,e))}const Fi=t=>!!(t&&t.__v_isRef===!0),Vs=t=>re(t)?t:t==null?"":R(t)||Z(t)&&(t.toString===Ii||!U(t.toString))?Fi(t)?Vs(t.value):JSON.stringify(t,Ni,2):String(t),Ni=(t,e)=>Fi(e)?Ni(t,e.value):Ut(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[vr(r,i)+" =>"]=n,s),{})}:Vt(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>vr(s))}:qe(e)?vr(e):Z(e)&&!R(e)&&!Li(e)?String(e):e,vr=(t,e="")=>{var s;return qe(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ge;class Bi{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ge,!e&&ge&&(this.index=(ge.scopes||(ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ge;try{return ge=this,e()}finally{ge=s}}}on(){ge=this}off(){ge=this.parent}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hi(t){return new Bi(t)}function qi(){return ge}function Ca(t,e=!1){ge&&ge.cleanups.push(t)}let X;const mr=new WeakSet;class Vi{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ge&&ge.active&&ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,mr.has(this)&&(mr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jn(this),Ji(this);const e=X,s=je;X=this,je=!0;try{return this.fn()}finally{zi(this),X=e,je=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)on(e);this.deps=this.depsTail=void 0,jn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?mr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){jr(this)&&this.run()}get dirty(){return jr(this)}}let Ki=0,cs,us;function Wi(t,e=!1){if(t.flags|=8,e){t.next=us,us=t;return}t.next=cs,cs=t}function rn(){Ki++}function nn(){if(--Ki>0)return;if(us){let e=us;for(us=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;cs;){let e=cs;for(cs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Ji(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zi(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),on(r),Aa(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function jr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Gi(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Gi(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ys))return;t.globalVersion=ys;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!jr(t)){t.flags&=-3;return}const s=X,r=je;X=t,je=!0;try{Ji(t);const n=t.fn(t._value);(e.version===0||lt(n,t._value))&&(t._value=n,e.version++)}catch(n){throw e.version++,n}finally{X=s,je=r,zi(t),t.flags&=-3}}function on(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)on(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Aa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let je=!0;const Qi=[];function ht(){Qi.push(je),je=!1}function dt(){const t=Qi.pop();je=t===void 0?!0:t}function jn(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=X;X=void 0;try{e()}finally{X=s}}}let ys=0;class ja{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class an{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!X||!je||X===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==X)s=this.activeLink=new ja(X,this),X.deps?(s.prevDep=X.depsTail,X.depsTail.nextDep=s,X.depsTail=s):X.deps=X.depsTail=s,Yi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=X.depsTail,s.nextDep=void 0,X.depsTail.nextDep=s,X.depsTail=s,X.deps===s&&(X.deps=r)}return s}trigger(e){this.version++,ys++,this.notify(e)}notify(e){rn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{nn()}}}function Yi(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Yi(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Gs=new WeakMap,kt=Symbol(""),Rr=Symbol(""),bs=Symbol("");function ue(t,e,s){if(je&&X){let r=Gs.get(t);r||Gs.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new an),n.map=r,n.key=s),n.track()}}function Ge(t,e,s,r,n,i){const o=Gs.get(t);if(!o){ys++;return}const a=l=>{l&&l.trigger()};if(rn(),e==="clear")o.forEach(a);else{const l=R(t),u=l&&en(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,p)=>{(p==="length"||p===bs||!qe(p)&&p>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(bs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(kt)),Ut(t)&&a(o.get(Rr)));break;case"delete":l||(a(o.get(kt)),Ut(t)&&a(o.get(Rr)));break;case"set":Ut(t)&&a(o.get(kt));break}}nn()}function Ra(t,e){const s=Gs.get(t);return s&&s.get(e)}function At(t){const e=V(t);return e===t?e:(ue(e,"iterate",bs),Pe(t)?e:e.map(he))}function or(t){return ue(t=V(t),"iterate",bs),t}const $a={__proto__:null,[Symbol.iterator](){return yr(this,Symbol.iterator,he)},concat(...t){return At(this).concat(...t.map(e=>R(e)?At(e):e))},entries(){return yr(this,"entries",t=>(t[1]=he(t[1]),t))},every(t,e){return We(this,"every",t,e,void 0,arguments)},filter(t,e){return We(this,"filter",t,e,s=>s.map(he),arguments)},find(t,e){return We(this,"find",t,e,he,arguments)},findIndex(t,e){return We(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return We(this,"findLast",t,e,he,arguments)},findLastIndex(t,e){return We(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return We(this,"forEach",t,e,void 0,arguments)},includes(...t){return br(this,"includes",t)},indexOf(...t){return br(this,"indexOf",t)},join(t){return At(this).join(t)},lastIndexOf(...t){return br(this,"lastIndexOf",t)},map(t,e){return We(this,"map",t,e,void 0,arguments)},pop(){return Qt(this,"pop")},push(...t){return Qt(this,"push",t)},reduce(t,...e){return Rn(this,"reduce",t,e)},reduceRight(t,...e){return Rn(this,"reduceRight",t,e)},shift(){return Qt(this,"shift")},some(t,e){return We(this,"some",t,e,void 0,arguments)},splice(...t){return Qt(this,"splice",t)},toReversed(){return At(this).toReversed()},toSorted(t){return At(this).toSorted(t)},toSpliced(...t){return At(this).toSpliced(...t)},unshift(...t){return Qt(this,"unshift",t)},values(){return yr(this,"values",he)}};function yr(t,e,s){const r=or(t),n=r[e]();return r!==t&&!Pe(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ia=Array.prototype;function We(t,e,s,r,n,i){const o=or(t),a=o!==t&&!Pe(t),l=o[e];if(l!==Ia[e]){const h=l.apply(t,i);return a?he(h):h}let u=s;o!==t&&(a?u=function(h,p){return s.call(this,he(h),p,t)}:s.length>2&&(u=function(h,p){return s.call(this,h,p,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Rn(t,e,s,r){const n=or(t);let i=s;return n!==t&&(Pe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,he(a),l,t)}),n[e](i,...r)}function br(t,e,s){const r=V(t);ue(r,"iterate",bs);const n=r[e](...s);return(n===-1||n===!1)&&un(s[0])?(s[0]=V(s[0]),r[e](...s)):n}function Qt(t,e,s=[]){ht(),rn();const r=V(t)[e].apply(t,s);return nn(),dt(),r}const La=Yr("__proto__,__v_isRef,__isVue"),Xi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(qe));function Da(t){qe(t)||(t=String(t));const e=V(this);return ue(e,"has",t),e.hasOwnProperty(t)}class Zi{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Wa:ro:i?so:to).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=R(e);if(!n){let l;if(o&&(l=$a[s]))return l;if(s==="hasOwnProperty")return Da}const a=Reflect.get(e,s,te(e)?e:r);return(qe(s)?Xi.has(s):La(s))||(n||ue(e,"get",s),i)?a:te(a)?o&&en(s)?a:a.value:Z(a)?n?no(a):ar(a):a}}class eo extends Zi{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Et(i);if(!Pe(r)&&!Et(r)&&(i=V(i),r=V(r)),!R(e)&&te(i)&&!te(r))return l?!1:(i.value=r,!0)}const o=R(e)&&en(s)?Number(s)<e.length:K(e,s),a=Reflect.set(e,s,r,te(e)?e:n);return e===V(n)&&(o?lt(r,i)&&Ge(e,"set",s,r):Ge(e,"add",s,r)),a}deleteProperty(e,s){const r=K(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&Ge(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!qe(s)||!Xi.has(s))&&ue(e,"has",s),r}ownKeys(e){return ue(e,"iterate",R(e)?"length":kt),Reflect.ownKeys(e)}}class Ua extends Zi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ma=new eo,Fa=new Ua,Na=new eo(!0);const $r=t=>t,Is=t=>Reflect.getPrototypeOf(t);function Ba(t,e,s){return function(...r){const n=this.__v_raw,i=V(n),o=Ut(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?$r:e?Ir:he;return!e&&ue(i,"iterate",l?Rr:kt),{next(){const{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[c(h[0]),c(h[1])]:c(h),done:p}},[Symbol.iterator](){return this}}}}function Ls(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Ha(t,e){const s={get(n){const i=this.__v_raw,o=V(i),a=V(n);t||(lt(n,a)&&ue(o,"get",n),ue(o,"get",a));const{has:l}=Is(o),u=e?$r:t?Ir:he;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ue(V(n),"iterate",kt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=V(i),a=V(n);return t||(lt(n,a)&&ue(o,"has",n),ue(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=V(a),u=e?$r:t?Ir:he;return!t&&ue(l,"iterate",kt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return me(s,t?{add:Ls("add"),set:Ls("set"),delete:Ls("delete"),clear:Ls("clear")}:{add(n){!e&&!Pe(n)&&!Et(n)&&(n=V(n));const i=V(this);return Is(i).has.call(i,n)||(i.add(n),Ge(i,"add",n,n)),this},set(n,i){!e&&!Pe(i)&&!Et(i)&&(i=V(i));const o=V(this),{has:a,get:l}=Is(o);let u=a.call(o,n);u||(n=V(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?lt(i,c)&&Ge(o,"set",n,i):Ge(o,"add",n,i),this},delete(n){const i=V(this),{has:o,get:a}=Is(i);let l=o.call(i,n);l||(n=V(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&Ge(i,"delete",n,void 0),u},clear(){const n=V(this),i=n.size!==0,o=n.clear();return i&&Ge(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Ba(n,t,e)}),s}function ln(t,e){const s=Ha(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(K(s,n)&&n in r?s:r,n,i)}const qa={get:ln(!1,!1)},Va={get:ln(!1,!0)},Ka={get:ln(!0,!1)};const to=new WeakMap,so=new WeakMap,ro=new WeakMap,Wa=new WeakMap;function Ja(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function za(t){return t.__v_skip||!Object.isExtensible(t)?0:Ja(ya(t))}function ar(t){return Et(t)?t:cn(t,!1,Ma,qa,to)}function Ga(t){return cn(t,!1,Na,Va,so)}function no(t){return cn(t,!0,Fa,Ka,ro)}function cn(t,e,s,r,n){if(!Z(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=n.get(t);if(i)return i;const o=za(t);if(o===0)return t;const a=new Proxy(t,o===2?r:s);return n.set(t,a),a}function ct(t){return Et(t)?ct(t.__v_raw):!!(t&&t.__v_isReactive)}function Et(t){return!!(t&&t.__v_isReadonly)}function Pe(t){return!!(t&&t.__v_isShallow)}function un(t){return t?!!t.__v_raw:!1}function V(t){const e=t&&t.__v_raw;return e?V(e):t}function hn(t){return!K(t,"__v_skip")&&Object.isExtensible(t)&&Ui(t,"__v_skip",!0),t}const he=t=>Z(t)?ar(t):t,Ir=t=>Z(t)?no(t):t;function te(t){return t?t.__v_isRef===!0:!1}function ce(t){return Qa(t,!1)}function Qa(t,e){return te(t)?t:new Ya(t,e)}class Ya{constructor(e,s){this.dep=new an,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:V(e),this._value=s?e:he(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Pe(e)||Et(e);e=r?e:V(e),lt(e,s)&&(this._rawValue=e,this._value=r?e:he(e),this.dep.trigger())}}function Ks(t){return te(t)?t.value:t}const Xa={get:(t,e,s)=>e==="__v_raw"?t:Ks(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return te(n)&&!te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function io(t){return ct(t)?t:new Proxy(t,Xa)}function Za(t){const e=R(t)?new Array(t.length):{};for(const s in t)e[s]=tl(t,s);return e}class el{constructor(e,s,r){this._object=e,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Ra(V(this._object),this._key)}}function tl(t,e,s){const r=t[e];return te(r)?r:new el(t,e,s)}class sl{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new an(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ys-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&X!==this)return Wi(this,!0),!0}get value(){const e=this.dep.track();return Gi(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rl(t,e,s=!1){let r,n;return U(t)?r=t:(r=t.get,n=t.set),new sl(r,n,s)}const Ds={},Qs=new WeakMap;let yt;function nl(t,e=!1,s=yt){if(s){let r=Qs.get(s);r||Qs.set(s,r=[]),r.push(t)}}function il(t,e,s=J){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=C=>n?C:Pe(C)||n===!1||n===0?Qe(C,1):Qe(C);let c,h,p,g,y=!1,x=!1;if(te(t)?(h=()=>t.value,y=Pe(t)):ct(t)?(h=()=>u(t),y=!0):R(t)?(x=!0,y=t.some(C=>ct(C)||Pe(C)),h=()=>t.map(C=>{if(te(C))return C.value;if(ct(C))return u(C);if(U(C))return l?l(C,2):C()})):U(t)?e?h=l?()=>l(t,2):t:h=()=>{if(p){ht();try{p()}finally{dt()}}const C=yt;yt=c;try{return l?l(t,3,[g]):t(g)}finally{yt=C}}:h=He,e&&n){const C=h,I=n===!0?1/0:n;h=()=>Qe(C(),I)}const k=qi(),S=()=>{c.stop(),k&&k.active&&Zr(k.effects,c)};if(i&&e){const C=e;e=(...I)=>{C(...I),S()}}let j=x?new Array(t.length).fill(Ds):Ds;const D=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(e){const I=c.run();if(n||y||(x?I.some((Ke,le)=>lt(Ke,j[le])):lt(I,j))){p&&p();const Ke=yt;yt=c;try{const le=[I,j===Ds?void 0:x&&j[0]===Ds?[]:j,g];l?l(e,3,le):e(...le),j=I}finally{yt=Ke}}}else c.run()};return a&&a(D),c=new Vi(h),c.scheduler=o?()=>o(D,!1):D,g=C=>nl(C,!1,c),p=c.onStop=()=>{const C=Qs.get(c);if(C){if(l)l(C,4);else for(const I of C)I();Qs.delete(c)}},e?r?D(!0):j=c.run():o?o(D.bind(null,!0),!0):c.run(),S.pause=c.pause.bind(c),S.resume=c.resume.bind(c),S.stop=S,S}function Qe(t,e=1/0,s){if(e<=0||!Z(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,te(t))Qe(t.value,e,s);else if(R(t))for(let r=0;r<t.length;r++)Qe(t[r],e,s);else if(Vt(t)||Ut(t))t.forEach(r=>{Qe(r,e,s)});else if(Li(t)){for(const r in t)Qe(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Qe(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ps(t,e,s,r){try{return r?t(...r):t()}catch(n){lr(n,e,s)}}function Ve(t,e,s,r){if(U(t)){const n=Ps(t,e,s,r);return n&&$i(n)&&n.catch(i=>{lr(i,e,s)}),n}if(R(t)){const n=[];for(let i=0;i<t.length;i++)n.push(Ve(t[i],e,s,r));return n}}function lr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||J;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){ht(),Ps(i,null,10,[t,l,u]),dt();return}}ol(t,s,n,r,o)}function ol(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ve=[];let Fe=-1;const Mt=[];let rt=null,Lt=0;const oo=Promise.resolve();let Ys=null;function dn(t){const e=Ys||oo;return t?e.then(this?t.bind(this):t):e}function al(t){let e=Fe+1,s=ve.length;for(;e<s;){const r=e+s>>>1,n=ve[r],i=ws(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function fn(t){if(!(t.flags&1)){const e=ws(t),s=ve[ve.length-1];!s||!(t.flags&2)&&e>=ws(s)?ve.push(t):ve.splice(al(e),0,t),t.flags|=1,ao()}}function ao(){Ys||(Ys=oo.then(co))}function ll(t){R(t)?Mt.push(...t):rt&&t.id===-1?rt.splice(Lt+1,0,t):t.flags&1||(Mt.push(t),t.flags|=1),ao()}function $n(t,e,s=Fe+1){for(;s<ve.length;s++){const r=ve[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ve.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function lo(t){if(Mt.length){const e=[...new Set(Mt)].sort((s,r)=>ws(s)-ws(r));if(Mt.length=0,rt){rt.push(...e);return}for(rt=e,Lt=0;Lt<rt.length;Lt++){const s=rt[Lt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}rt=null,Lt=0}}const ws=t=>t.id==null?t.flags&2?-1:1/0:t.id;function co(t){try{for(Fe=0;Fe<ve.length;Fe++){const e=ve[Fe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ps(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fe<ve.length;Fe++){const e=ve[Fe];e&&(e.flags&=-2)}Fe=-1,ve.length=0,lo(),Ys=null,(ve.length||Mt.length)&&co()}}let Ee=null,uo=null;function Xs(t){const e=Ee;return Ee=t,uo=t&&t.type.__scopeId||null,e}function cl(t,e=Ee,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Hn(-1);const i=Xs(e);let o;try{o=t(...n)}finally{Xs(i),r._d&&Hn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Us(t,e){if(Ee===null)return t;const s=dr(Ee),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=J]=e[n];i&&(U(i)&&(i={mounted:i,updated:i}),i.deep&&Qe(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function gt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ht(),Ve(l,s,8,[t.el,a,t,e]),dt())}}const ul=Symbol("_vte"),hl=t=>t.__isTeleport;function pn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,pn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ho(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Zs(t,e,s,r,n=!1){if(R(t)){t.forEach((y,x)=>Zs(y,e&&(R(e)?e[x]:e),s,r,n));return}if(hs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Zs(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?dr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===J?a.refs={}:a.refs,h=a.setupState,p=V(h),g=h===J?()=>!1:y=>K(p,y);if(u!=null&&u!==l&&(re(u)?(c[u]=null,g(u)&&(h[u]=null)):te(u)&&(u.value=null)),U(l))Ps(l,a,12,[o,c]);else{const y=re(l),x=te(l);if(y||x){const k=()=>{if(t.f){const S=y?g(l)?h[l]:c[l]:l.value;n?R(S)&&Zr(S,i):R(S)?S.includes(i)||S.push(i):y?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,g(l)&&(h[l]=o)):x&&(l.value=o,t.k&&(c[t.k]=o))};o?(k.id=-1,ke(k,s)):k()}}}ir().requestIdleCallback;ir().cancelIdleCallback;const hs=t=>!!t.type.__asyncLoader,fo=t=>t.type.__isKeepAlive;function dl(t,e){po(t,"a",e)}function fl(t,e){po(t,"da",e)}function po(t,e,s=de){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(cr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)fo(n.parent.vnode)&&pl(r,e,s,n),n=n.parent}}function pl(t,e,s,r){const n=cr(e,t,r,!0);_o(()=>{Zr(r[e],n)},s)}function cr(t,e,s=de,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ht();const a=Cs(s),l=Ve(e,s,t,o);return a(),dt(),l});return r?n.unshift(i):n.push(i),i}}const Xe=t=>(e,s=de)=>{(!ks||t==="sp")&&cr(t,(...r)=>e(...r),s)},gl=Xe("bm"),go=Xe("m"),_l=Xe("bu"),vl=Xe("u"),ml=Xe("bum"),_o=Xe("um"),yl=Xe("sp"),bl=Xe("rtg"),wl=Xe("rtc");function Sl(t,e=de){cr("ec",t,e)}const kl=Symbol.for("v-ndc");function vo(t,e,s,r){let n;const i=s,o=R(t);if(o||re(t)){const a=o&&ct(t);let l=!1;a&&(l=!Pe(t),t=or(t)),n=new Array(t.length);for(let u=0,c=t.length;u<c;u++)n[u]=e(l?he(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Z(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const Lr=t=>t?Bo(t)?dr(t):Lr(t.parent):null,ds=me(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Lr(t.parent),$root:t=>Lr(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>yo(t),$forceUpdate:t=>t.f||(t.f=()=>{fn(t.update)}),$nextTick:t=>t.n||(t.n=dn.bind(t.proxy)),$watch:t=>Wl.bind(t)}),wr=(t,e)=>t!==J&&!t.__isScriptSetup&&K(t,e),Tl={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(wr(r,e))return o[e]=1,r[e];if(n!==J&&K(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&K(u,e))return o[e]=3,i[e];if(s!==J&&K(s,e))return o[e]=4,s[e];Dr&&(o[e]=0)}}const c=ds[e];let h,p;if(c)return e==="$attrs"&&ue(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==J&&K(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,K(p,e))return p[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return wr(n,e)?(n[e]=s,!0):r!==J&&K(r,e)?(r[e]=s,!0):K(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==J&&K(t,o)||wr(e,o)||(a=i[0])&&K(a,o)||K(r,o)||K(ds,o)||K(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:K(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function In(t){return R(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Dr=!0;function El(t){const e=yo(t),s=t.proxy,r=t.ctx;Dr=!1,e.beforeCreate&&Ln(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:p,beforeUpdate:g,updated:y,activated:x,deactivated:k,beforeDestroy:S,beforeUnmount:j,destroyed:D,unmounted:C,render:I,renderTracked:Ke,renderTriggered:le,errorCaptured:B,serverPrefetch:q,expose:se,inheritAttrs:Oe,components:Re,directives:Ze,filters:Wt}=e;if(u&&xl(u,r,null),o)for(const F in o){const z=o[F];U(z)&&(r[F]=z.bind(s))}if(n){const F=n.call(s,s);Z(F)&&(t.data=ar(F))}if(Dr=!0,i)for(const F in i){const z=i[F],ft=U(z)?z.bind(s,s):U(z.get)?z.get.bind(s,s):He,Rs=!U(z)&&U(z.set)?z.set.bind(s):He,pt=pe({get:ft,set:Rs});Object.defineProperty(r,F,{enumerable:!0,configurable:!0,get:()=>pt.value,set:$e=>pt.value=$e})}if(a)for(const F in a)mo(a[F],r,s,F);if(l){const F=U(l)?l.call(s):l;Reflect.ownKeys(F).forEach(z=>{Rl(z,F[z])})}c&&Ln(c,t,"c");function ee(F,z){R(z)?z.forEach(ft=>F(ft.bind(s))):z&&F(z.bind(s))}if(ee(gl,h),ee(go,p),ee(_l,g),ee(vl,y),ee(dl,x),ee(fl,k),ee(Sl,B),ee(wl,Ke),ee(bl,le),ee(ml,j),ee(_o,C),ee(yl,q),R(se))if(se.length){const F=t.exposed||(t.exposed={});se.forEach(z=>{Object.defineProperty(F,z,{get:()=>s[z],set:ft=>s[z]=ft})})}else t.exposed||(t.exposed={});I&&t.render===He&&(t.render=I),Oe!=null&&(t.inheritAttrs=Oe),Re&&(t.components=Re),Ze&&(t.directives=Ze),q&&ho(t)}function xl(t,e,s=He){R(t)&&(t=Ur(t));for(const r in t){const n=t[r];let i;Z(n)?"default"in n?i=fs(n.from||r,n.default,!0):i=fs(n.from||r):i=fs(n),te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ln(t,e,s){Ve(R(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function mo(t,e,s,r){let n=r.includes(".")?$o(s,r):()=>s[r];if(re(t)){const i=e[t];U(i)&&ps(n,i)}else if(U(t))ps(n,t.bind(s));else if(Z(t))if(R(t))t.forEach(i=>mo(i,e,s,r));else{const i=U(t.handler)?t.handler.bind(s):e[t.handler];U(i)&&ps(n,i,t)}}function yo(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>er(l,u,o,!0)),er(l,e,o)),Z(e)&&i.set(e,l),l}function er(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&er(t,i,s,!0),n&&n.forEach(o=>er(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Ol[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ol={data:Dn,props:Un,emits:Un,methods:os,computed:os,beforeCreate:fe,created:fe,beforeMount:fe,mounted:fe,beforeUpdate:fe,updated:fe,beforeDestroy:fe,beforeUnmount:fe,destroyed:fe,unmounted:fe,activated:fe,deactivated:fe,errorCaptured:fe,serverPrefetch:fe,components:os,directives:os,watch:Cl,provide:Dn,inject:Pl};function Dn(t,e){return e?t?function(){return me(U(t)?t.call(this,this):t,U(e)?e.call(this,this):e)}:e:t}function Pl(t,e){return os(Ur(t),Ur(e))}function Ur(t){if(R(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function fe(t,e){return t?[...new Set([].concat(t,e))]:e}function os(t,e){return t?me(Object.create(null),t,e):e}function Un(t,e){return t?R(t)&&R(e)?[...new Set([...t,...e])]:me(Object.create(null),In(t),In(e??{})):e}function Cl(t,e){if(!t)return e;if(!e)return t;const s=me(Object.create(null),t);for(const r in e)s[r]=fe(t[r],e[r]);return s}function bo(){return{app:null,config:{isNativeTag:va,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Al=0;function jl(t,e){return function(r,n=null){U(r)||(r=me({},r)),n!=null&&!Z(n)&&(n=null);const i=bo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Al++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:dc,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&U(c.install)?(o.add(c),c.install(u,...h)):U(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,p){if(!l){const g=u._ceVNode||ae(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),t(g,c,p),l=!0,u._container=c,c.__vue_app__=u,dr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ve(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Tt;Tt=u;try{return c()}finally{Tt=h}}};return u}}let Tt=null;function Rl(t,e){if(de){let s=de.provides;const r=de.parent&&de.parent.provides;r===s&&(s=de.provides=Object.create(r)),s[t]=e}}function fs(t,e,s=!1){const r=de||Ee;if(r||Tt){const n=Tt?Tt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&U(e)?e.call(r&&r.proxy):e}}function $l(){return!!(de||Ee||Tt)}const wo={},So=()=>Object.create(wo),ko=t=>Object.getPrototypeOf(t)===wo;function Il(t,e,s,r=!1){const n={},i=So();t.propsDefaults=Object.create(null),To(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:Ga(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Ll(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=V(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let p=c[h];if(ur(t.emitsOptions,p))continue;const g=e[p];if(l)if(K(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const y=ut(p);n[y]=Mr(l,a,y,g,t,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{To(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!K(e,h)&&((c=Ot(h))===h||!K(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Mr(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!K(e,h))&&(delete i[h],u=!0)}u&&Ge(t.attrs,"set","")}function To(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ls(l))continue;const u=e[l];let c;n&&K(n,c=ut(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:ur(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=V(s),u=a||J;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Mr(n,l,h,u[h],t,!K(u,h))}}return o}function Mr(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=K(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&U(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Cs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ot(s))&&(r=!0))}return r}const Dl=new WeakMap;function Eo(t,e,s=!1){const r=s?Dl:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!U(t)){const c=h=>{l=!0;const[p,g]=Eo(h,e,!0);me(o,p),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return Z(t)&&r.set(t,Dt),Dt;if(R(i))for(let c=0;c<i.length;c++){const h=ut(i[c]);Mn(h)&&(o[h]=J)}else if(i)for(const c in i){const h=ut(c);if(Mn(h)){const p=i[c],g=o[h]=R(p)||U(p)?{type:p}:me({},p),y=g.type;let x=!1,k=!0;if(R(y))for(let S=0;S<y.length;++S){const j=y[S],D=U(j)&&j.name;if(D==="Boolean"){x=!0;break}else D==="String"&&(k=!1)}else x=U(y)&&y.name==="Boolean";g[0]=x,g[1]=k,(x||K(g,"default"))&&a.push(h)}}const u=[o,a];return Z(t)&&r.set(t,u),u}function Mn(t){return t[0]!=="$"&&!ls(t)}const xo=t=>t[0]==="_"||t==="$stable",gn=t=>R(t)?t.map(Be):[Be(t)],Ul=(t,e,s)=>{if(e._n)return e;const r=cl((...n)=>gn(e(...n)),s);return r._c=!1,r},Oo=(t,e,s)=>{const r=t._ctx;for(const n in t){if(xo(n))continue;const i=t[n];if(U(i))e[n]=Ul(n,i,r);else if(i!=null){const o=gn(i);e[n]=()=>o}}},Po=(t,e)=>{const s=gn(e);t.slots.default=()=>s},Co=(t,e,s)=>{for(const r in e)(s||r!=="_")&&(t[r]=e[r])},Ml=(t,e,s)=>{const r=t.slots=So();if(t.vnode.shapeFlag&32){const n=e._;n?(Co(r,e,s),s&&Ui(r,"_",n,!0)):Oo(e,r)}else e&&Po(t,e)},Fl=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=J;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Co(n,e,s):(i=!e.$stable,Oo(e,n)),o=e}else e&&(Po(t,e),o={default:1});if(i)for(const a in n)!xo(a)&&o[a]==null&&delete n[a]},ke=Zl;function Nl(t){return Bl(t)}function Bl(t,e){const s=ir();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:p,setScopeId:g=He,insertStaticContent:y}=t,x=(d,f,_,b=null,v=null,m=null,O=void 0,E=null,T=!!f.dynamicChildren)=>{if(d===f)return;d&&!Yt(d,f)&&(b=$s(d),$e(d,v,m,!0),d=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:w,ref:$,shapeFlag:P}=f;switch(w){case hr:k(d,f,_,b);break;case xt:S(d,f,_,b);break;case kr:d==null&&j(f,_,b,O);break;case Ae:Re(d,f,_,b,v,m,O,E,T);break;default:P&1?I(d,f,_,b,v,m,O,E,T):P&6?Ze(d,f,_,b,v,m,O,E,T):(P&64||P&128)&&w.process(d,f,_,b,v,m,O,E,T,zt)}$!=null&&v&&Zs($,d&&d.ref,m,f||d,!f)},k=(d,f,_,b)=>{if(d==null)r(f.el=a(f.children),_,b);else{const v=f.el=d.el;f.children!==d.children&&u(v,f.children)}},S=(d,f,_,b)=>{d==null?r(f.el=l(f.children||""),_,b):f.el=d.el},j=(d,f,_,b)=>{[d.el,d.anchor]=y(d.children,f,_,b,d.el,d.anchor)},D=({el:d,anchor:f},_,b)=>{let v;for(;d&&d!==f;)v=p(d),r(d,_,b),d=v;r(f,_,b)},C=({el:d,anchor:f})=>{let _;for(;d&&d!==f;)_=p(d),n(d),d=_;n(f)},I=(d,f,_,b,v,m,O,E,T)=>{f.type==="svg"?O="svg":f.type==="math"&&(O="mathml"),d==null?Ke(f,_,b,v,m,O,E,T):q(d,f,v,m,O,E,T)},Ke=(d,f,_,b,v,m,O,E)=>{let T,w;const{props:$,shapeFlag:P,transition:A,dirs:L}=d;if(T=d.el=o(d.type,m,$&&$.is,$),P&8?c(T,d.children):P&16&&B(d.children,T,null,b,v,Sr(d,m),O,E),L&&gt(d,null,b,"created"),le(T,d,d.scopeId,O,b),$){for(const G in $)G!=="value"&&!ls(G)&&i(T,G,null,$[G],m,b);"value"in $&&i(T,"value",null,$.value,m),(w=$.onVnodeBeforeMount)&&Ue(w,b,d)}L&&gt(d,null,b,"beforeMount");const H=Hl(v,A);H&&A.beforeEnter(T),r(T,f,_),((w=$&&$.onVnodeMounted)||H||L)&&ke(()=>{w&&Ue(w,b,d),H&&A.enter(T),L&&gt(d,null,b,"mounted")},v)},le=(d,f,_,b,v)=>{if(_&&g(d,_),b)for(let m=0;m<b.length;m++)g(d,b[m]);if(v){let m=v.subTree;if(f===m||Lo(m.type)&&(m.ssContent===f||m.ssFallback===f)){const O=v.vnode;le(d,O,O.scopeId,O.slotScopeIds,v.parent)}}},B=(d,f,_,b,v,m,O,E,T=0)=>{for(let w=T;w<d.length;w++){const $=d[w]=E?nt(d[w]):Be(d[w]);x(null,$,f,_,b,v,m,O,E)}},q=(d,f,_,b,v,m,O)=>{const E=f.el=d.el;let{patchFlag:T,dynamicChildren:w,dirs:$}=f;T|=d.patchFlag&16;const P=d.props||J,A=f.props||J;let L;if(_&&_t(_,!1),(L=A.onVnodeBeforeUpdate)&&Ue(L,_,f,d),$&&gt(f,d,_,"beforeUpdate"),_&&_t(_,!0),(P.innerHTML&&A.innerHTML==null||P.textContent&&A.textContent==null)&&c(E,""),w?se(d.dynamicChildren,w,E,_,b,Sr(f,v),m):O||z(d,f,E,null,_,b,Sr(f,v),m,!1),T>0){if(T&16)Oe(E,P,A,_,v);else if(T&2&&P.class!==A.class&&i(E,"class",null,A.class,v),T&4&&i(E,"style",P.style,A.style,v),T&8){const H=f.dynamicProps;for(let G=0;G<H.length;G++){const W=H[G],we=P[W],ye=A[W];(ye!==we||W==="value")&&i(E,W,we,ye,v,_)}}T&1&&d.children!==f.children&&c(E,f.children)}else!O&&w==null&&Oe(E,P,A,_,v);((L=A.onVnodeUpdated)||$)&&ke(()=>{L&&Ue(L,_,f,d),$&&gt(f,d,_,"updated")},b)},se=(d,f,_,b,v,m,O)=>{for(let E=0;E<f.length;E++){const T=d[E],w=f[E],$=T.el&&(T.type===Ae||!Yt(T,w)||T.shapeFlag&70)?h(T.el):_;x(T,w,$,null,b,v,m,O,!0)}},Oe=(d,f,_,b,v)=>{if(f!==_){if(f!==J)for(const m in f)!ls(m)&&!(m in _)&&i(d,m,f[m],null,v,b);for(const m in _){if(ls(m))continue;const O=_[m],E=f[m];O!==E&&m!=="value"&&i(d,m,E,O,v,b)}"value"in _&&i(d,"value",f.value,_.value,v)}},Re=(d,f,_,b,v,m,O,E,T)=>{const w=f.el=d?d.el:a(""),$=f.anchor=d?d.anchor:a("");let{patchFlag:P,dynamicChildren:A,slotScopeIds:L}=f;L&&(E=E?E.concat(L):L),d==null?(r(w,_,b),r($,_,b),B(f.children||[],_,$,v,m,O,E,T)):P>0&&P&64&&A&&d.dynamicChildren?(se(d.dynamicChildren,A,_,v,m,O,E),(f.key!=null||v&&f===v.subTree)&&Ao(d,f,!0)):z(d,f,_,$,v,m,O,E,T)},Ze=(d,f,_,b,v,m,O,E,T)=>{f.slotScopeIds=E,d==null?f.shapeFlag&512?v.ctx.activate(f,_,b,O,T):Wt(f,_,b,v,m,O,T):js(d,f,T)},Wt=(d,f,_,b,v,m,O)=>{const E=d.component=oc(d,b,v);if(fo(d)&&(E.ctx.renderer=zt),ac(E,!1,O),E.asyncDep){if(v&&v.registerDep(E,ee,O),!d.el){const T=E.subTree=ae(xt);S(null,T,f,_)}}else ee(E,d,f,_,v,m,O)},js=(d,f,_)=>{const b=f.component=d.component;if(Yl(d,f,_))if(b.asyncDep&&!b.asyncResolved){F(b,f,_);return}else b.next=f,b.update();else f.el=d.el,b.vnode=f},ee=(d,f,_,b,v,m,O)=>{const E=()=>{if(d.isMounted){let{next:P,bu:A,u:L,parent:H,vnode:G}=d;{const Le=jo(d);if(Le){P&&(P.el=G.el,F(d,P,O)),Le.asyncDep.then(()=>{d.isUnmounted||E()});return}}let W=P,we;_t(d,!1),P?(P.el=G.el,F(d,P,O)):P=G,A&&qs(A),(we=P.props&&P.props.onVnodeBeforeUpdate)&&Ue(we,H,P,G),_t(d,!0);const ye=Nn(d),Ie=d.subTree;d.subTree=ye,x(Ie,ye,h(Ie.el),$s(Ie),d,v,m),P.el=ye.el,W===null&&Xl(d,ye.el),L&&ke(L,v),(we=P.props&&P.props.onVnodeUpdated)&&ke(()=>Ue(we,H,P,G),v)}else{let P;const{el:A,props:L}=f,{bm:H,m:G,parent:W,root:we,type:ye}=d,Ie=hs(f);_t(d,!1),H&&qs(H),!Ie&&(P=L&&L.onVnodeBeforeMount)&&Ue(P,W,f),_t(d,!0);{we.ce&&we.ce._injectChildStyle(ye);const Le=d.subTree=Nn(d);x(null,Le,_,b,d,v,m),f.el=Le.el}if(G&&ke(G,v),!Ie&&(P=L&&L.onVnodeMounted)){const Le=f;ke(()=>Ue(P,W,Le),v)}(f.shapeFlag&256||W&&hs(W.vnode)&&W.vnode.shapeFlag&256)&&d.a&&ke(d.a,v),d.isMounted=!0,f=_=b=null}};d.scope.on();const T=d.effect=new Vi(E);d.scope.off();const w=d.update=T.run.bind(T),$=d.job=T.runIfDirty.bind(T);$.i=d,$.id=d.uid,T.scheduler=()=>fn($),_t(d,!0),w()},F=(d,f,_)=>{f.component=d;const b=d.vnode.props;d.vnode=f,d.next=null,Ll(d,f.props,b,_),Fl(d,f.children,_),ht(),$n(d),dt()},z=(d,f,_,b,v,m,O,E,T=!1)=>{const w=d&&d.children,$=d?d.shapeFlag:0,P=f.children,{patchFlag:A,shapeFlag:L}=f;if(A>0){if(A&128){Rs(w,P,_,b,v,m,O,E,T);return}else if(A&256){ft(w,P,_,b,v,m,O,E,T);return}}L&8?($&16&&Jt(w,v,m),P!==w&&c(_,P)):$&16?L&16?Rs(w,P,_,b,v,m,O,E,T):Jt(w,v,m,!0):($&8&&c(_,""),L&16&&B(P,_,b,v,m,O,E,T))},ft=(d,f,_,b,v,m,O,E,T)=>{d=d||Dt,f=f||Dt;const w=d.length,$=f.length,P=Math.min(w,$);let A;for(A=0;A<P;A++){const L=f[A]=T?nt(f[A]):Be(f[A]);x(d[A],L,_,null,v,m,O,E,T)}w>$?Jt(d,v,m,!0,!1,P):B(f,_,b,v,m,O,E,T,P)},Rs=(d,f,_,b,v,m,O,E,T)=>{let w=0;const $=f.length;let P=d.length-1,A=$-1;for(;w<=P&&w<=A;){const L=d[w],H=f[w]=T?nt(f[w]):Be(f[w]);if(Yt(L,H))x(L,H,_,null,v,m,O,E,T);else break;w++}for(;w<=P&&w<=A;){const L=d[P],H=f[A]=T?nt(f[A]):Be(f[A]);if(Yt(L,H))x(L,H,_,null,v,m,O,E,T);else break;P--,A--}if(w>P){if(w<=A){const L=A+1,H=L<$?f[L].el:b;for(;w<=A;)x(null,f[w]=T?nt(f[w]):Be(f[w]),_,H,v,m,O,E,T),w++}}else if(w>A)for(;w<=P;)$e(d[w],v,m,!0),w++;else{const L=w,H=w,G=new Map;for(w=H;w<=A;w++){const Se=f[w]=T?nt(f[w]):Be(f[w]);Se.key!=null&&G.set(Se.key,w)}let W,we=0;const ye=A-H+1;let Ie=!1,Le=0;const Gt=new Array(ye);for(w=0;w<ye;w++)Gt[w]=0;for(w=L;w<=P;w++){const Se=d[w];if(we>=ye){$e(Se,v,m,!0);continue}let De;if(Se.key!=null)De=G.get(Se.key);else for(W=H;W<=A;W++)if(Gt[W-H]===0&&Yt(Se,f[W])){De=W;break}De===void 0?$e(Se,v,m,!0):(Gt[De-H]=w+1,De>=Le?Le=De:Ie=!0,x(Se,f[De],_,null,v,m,O,E,T),we++)}const On=Ie?ql(Gt):Dt;for(W=On.length-1,w=ye-1;w>=0;w--){const Se=H+w,De=f[Se],Pn=Se+1<$?f[Se+1].el:b;Gt[w]===0?x(null,De,_,Pn,v,m,O,E,T):Ie&&(W<0||w!==On[W]?pt(De,_,Pn,2):W--)}}},pt=(d,f,_,b,v=null)=>{const{el:m,type:O,transition:E,children:T,shapeFlag:w}=d;if(w&6){pt(d.component.subTree,f,_,b);return}if(w&128){d.suspense.move(f,_,b);return}if(w&64){O.move(d,f,_,zt);return}if(O===Ae){r(m,f,_);for(let P=0;P<T.length;P++)pt(T[P],f,_,b);r(d.anchor,f,_);return}if(O===kr){D(d,f,_);return}if(b!==2&&w&1&&E)if(b===0)E.beforeEnter(m),r(m,f,_),ke(()=>E.enter(m),v);else{const{leave:P,delayLeave:A,afterLeave:L}=E,H=()=>r(m,f,_),G=()=>{P(m,()=>{H(),L&&L()})};A?A(m,H,G):G()}else r(m,f,_)},$e=(d,f,_,b=!1,v=!1)=>{const{type:m,props:O,ref:E,children:T,dynamicChildren:w,shapeFlag:$,patchFlag:P,dirs:A,cacheIndex:L}=d;if(P===-2&&(v=!1),E!=null&&Zs(E,null,_,d,!0),L!=null&&(f.renderCache[L]=void 0),$&256){f.ctx.deactivate(d);return}const H=$&1&&A,G=!hs(d);let W;if(G&&(W=O&&O.onVnodeBeforeUnmount)&&Ue(W,f,d),$&6)_a(d.component,_,b);else{if($&128){d.suspense.unmount(_,b);return}H&&gt(d,null,f,"beforeUnmount"),$&64?d.type.remove(d,f,_,zt,b):w&&!w.hasOnce&&(m!==Ae||P>0&&P&64)?Jt(w,f,_,!1,!0):(m===Ae&&P&384||!v&&$&16)&&Jt(T,f,_),b&&En(d)}(G&&(W=O&&O.onVnodeUnmounted)||H)&&ke(()=>{W&&Ue(W,f,d),H&&gt(d,null,f,"unmounted")},_)},En=d=>{const{type:f,el:_,anchor:b,transition:v}=d;if(f===Ae){ga(_,b);return}if(f===kr){C(d);return}const m=()=>{n(_),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:O,delayLeave:E}=v,T=()=>O(_,m);E?E(d.el,m,T):T()}else m()},ga=(d,f)=>{let _;for(;d!==f;)_=p(d),n(d),d=_;n(f)},_a=(d,f,_)=>{const{bum:b,scope:v,job:m,subTree:O,um:E,m:T,a:w}=d;Fn(T),Fn(w),b&&qs(b),v.stop(),m&&(m.flags|=8,$e(O,d,f,_)),E&&ke(E,f),ke(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},Jt=(d,f,_,b=!1,v=!1,m=0)=>{for(let O=m;O<d.length;O++)$e(d[O],f,_,b,v)},$s=d=>{if(d.shapeFlag&6)return $s(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=p(d.anchor||d.el),_=f&&f[ul];return _?p(_):f};let gr=!1;const xn=(d,f,_)=>{d==null?f._vnode&&$e(f._vnode,null,null,!0):x(f._vnode||null,d,f,null,null,null,_),f._vnode=d,gr||(gr=!0,$n(),lo(),gr=!1)},zt={p:x,um:$e,m:pt,r:En,mt:Wt,mc:B,pc:z,pbc:se,n:$s,o:t};return{render:xn,hydrate:void 0,createApp:jl(xn)}}function Sr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function _t({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Hl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ao(t,e,s=!1){const r=t.children,n=e.children;if(R(r)&&R(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=nt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ao(o,a)),a.type===hr&&(a.el=o.el)}}function ql(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function jo(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jo(e)}function Fn(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Vl=Symbol.for("v-scx"),Kl=()=>fs(Vl);function ps(t,e,s){return Ro(t,e,s)}function Ro(t,e,s=J){const{immediate:r,deep:n,flush:i,once:o}=s,a=me({},s),l=e&&r||!e&&i!=="post";let u;if(ks){if(i==="sync"){const g=Kl();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=He,g.resume=He,g.pause=He,g}}const c=de;a.call=(g,y,x)=>Ve(g,c,y,x);let h=!1;i==="post"?a.scheduler=g=>{ke(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,y)=>{y?g():fn(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=il(t,e,a);return ks&&(u?u.push(p):l&&p()),p}function Wl(t,e,s){const r=this.proxy,n=re(t)?t.includes(".")?$o(r,t):()=>r[t]:t.bind(r,r);let i;U(e)?i=e:(i=e.handler,s=e);const o=Cs(this),a=Ro(n,i.bind(r),s);return o(),a}function $o(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Jl=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ut(e)}Modifiers`]||t[`${Ot(e)}Modifiers`];function zl(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||J;let n=s;const i=e.startsWith("update:"),o=i&&Jl(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>re(c)?c.trim():c)),o.number&&(n=s.map(zs)));let a,l=r[a=_r(e)]||r[a=_r(ut(e))];!l&&i&&(l=r[a=_r(Ot(e))]),l&&Ve(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ve(u,t,6,n)}}function Io(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!U(t)){const l=u=>{const c=Io(u,e,!0);c&&(a=!0,me(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Z(t)&&r.set(t,null),null):(R(i)?i.forEach(l=>o[l]=null):me(o,i),Z(t)&&r.set(t,o),o)}function ur(t,e){return!t||!rr(e)?!1:(e=e.slice(2).replace(/Once$/,""),K(t,e[0].toLowerCase()+e.slice(1))||K(t,Ot(e))||K(t,e))}function Nn(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:p,setupState:g,ctx:y,inheritAttrs:x}=t,k=Xs(t);let S,j;try{if(s.shapeFlag&4){const C=n||r,I=C;S=Be(u.call(I,C,c,h,g,p,y)),j=a}else{const C=e;S=Be(C.length>1?C(h,{attrs:a,slots:o,emit:l}):C(h,null)),j=e.props?a:Gl(a)}}catch(C){gs.length=0,lr(C,t,1),S=ae(xt)}let D=S;if(j&&x!==!1){const C=Object.keys(j),{shapeFlag:I}=D;C.length&&I&7&&(i&&C.some(Xr)&&(j=Ql(j,i)),D=Nt(D,j,!1,!0))}return s.dirs&&(D=Nt(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&pn(D,s.transition),S=D,Xs(k),S}const Gl=t=>{let e;for(const s in t)(s==="class"||s==="style"||rr(s))&&((e||(e={}))[s]=t[s]);return e},Ql=(t,e)=>{const s={};for(const r in t)(!Xr(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function Yl(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Bn(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const p=c[h];if(o[p]!==r[p]&&!ur(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Bn(r,o,u):!0:!!o;return!1}function Bn(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!ur(s,i))return!0}return!1}function Xl({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Lo=t=>t.__isSuspense;function Zl(t,e){e&&e.pendingBranch?R(t)?e.effects.push(...t):e.effects.push(t):ll(t)}const Ae=Symbol.for("v-fgt"),hr=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),kr=Symbol.for("v-stc"),gs=[];let xe=null;function oe(t=!1){gs.push(xe=t?null:[])}function ec(){gs.pop(),xe=gs[gs.length-1]||null}let Ss=1;function Hn(t,e=!1){Ss+=t,t<0&&xe&&e&&(xe.hasOnce=!0)}function Do(t){return t.dynamicChildren=Ss>0?xe||Dt:null,ec(),Ss>0&&xe&&xe.push(t),t}function _e(t,e,s,r,n,i){return Do(Y(t,e,s,r,n,i,!0))}function Uo(t,e,s,r,n){return Do(ae(t,e,s,r,n,!0))}function Mo(t){return t?t.__v_isVNode===!0:!1}function Yt(t,e){return t.type===e.type&&t.key===e.key}const Fo=({key:t})=>t??null,Ws=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?re(t)||te(t)||U(t)?{i:Ee,r:t,k:e,f:!!s}:t:null);function Y(t,e=null,s=null,r=0,n=null,i=t===Ae?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fo(e),ref:e&&Ws(e),scopeId:uo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ee};return a?(_n(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=re(s)?8:16),Ss>0&&!o&&xe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&xe.push(l),l}const ae=tc;function tc(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===kl)&&(t=xt),Mo(t)){const a=Nt(t,e,!0);return s&&_n(a,s),Ss>0&&!i&&xe&&(a.shapeFlag&6?xe[xe.indexOf(t)]=a:xe.push(a)),a.patchFlag=-2,a}if(hc(t)&&(t=t.__vccOpts),e){e=sc(e);let{class:a,style:l}=e;a&&!re(a)&&(e.class=Ne(a)),Z(l)&&(un(l)&&!R(l)&&(l=me({},l)),e.style=tn(l))}const o=re(t)?1:Lo(t)?128:hl(t)?64:Z(t)?4:U(t)?2:0;return Y(t,e,s,r,n,o,i,!0)}function sc(t){return t?un(t)||ko(t)?me({},t):t:null}function Nt(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?rc(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Fo(u),ref:e&&e.ref?s&&i?R(i)?i.concat(Ws(e)):[i,Ws(e)]:Ws(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ae?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Nt(t.ssContent),ssFallback:t.ssFallback&&Nt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&pn(c,l.clone(c)),c}function No(t=" ",e=0){return ae(hr,null,t,e)}function bt(t="",e=!1){return e?(oe(),Uo(xt,null,t)):ae(xt,null,t)}function Be(t){return t==null||typeof t=="boolean"?ae(xt):R(t)?ae(Ae,null,t.slice()):Mo(t)?nt(t):ae(hr,null,String(t))}function nt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Nt(t)}function _n(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(R(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),_n(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!ko(e)?e._ctx=Ee:n===3&&Ee&&(Ee.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else U(e)?(e={default:e,_ctx:Ee},s=32):(e=String(e),r&64?(s=16,e=[No(e)]):s=8);t.children=e,t.shapeFlag|=s}function rc(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=Ne([e.class,r.class]));else if(n==="style")e.style=tn([e.style,r.style]);else if(rr(n)){const i=e[n],o=r[n];o&&i!==o&&!(R(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Ue(t,e,s,r=null){Ve(t,e,7,[s,r])}const nc=bo();let ic=0;function oc(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||nc,i={uid:ic++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eo(r,n),emitsOptions:Io(r,n),emit:null,emitted:null,propsDefaults:J,inheritAttrs:r.inheritAttrs,ctx:J,data:J,props:J,attrs:J,slots:J,refs:J,setupState:J,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=zl.bind(null,i),t.ce&&t.ce(i),i}let de=null,tr,Fr;{const t=ir(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};tr=e("__VUE_INSTANCE_SETTERS__",s=>de=s),Fr=e("__VUE_SSR_SETTERS__",s=>ks=s)}const Cs=t=>{const e=de;return tr(t),t.scope.on(),()=>{t.scope.off(),tr(e)}},qn=()=>{de&&de.scope.off(),tr(null)};function Bo(t){return t.vnode.shapeFlag&4}let ks=!1;function ac(t,e=!1,s=!1){e&&Fr(e);const{props:r,children:n}=t.vnode,i=Bo(t);Il(t,r,i,e),Ml(t,n,s);const o=i?lc(t,e):void 0;return e&&Fr(!1),o}function lc(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Tl);const{setup:r}=s;if(r){ht();const n=t.setupContext=r.length>1?uc(t):null,i=Cs(t),o=Ps(r,t,0,[t.props,n]),a=$i(o);if(dt(),i(),(a||t.sp)&&!hs(t)&&ho(t),a){if(o.then(qn,qn),e)return o.then(l=>{Vn(t,l)}).catch(l=>{lr(l,t,0)});t.asyncDep=o}else Vn(t,o)}else Ho(t)}function Vn(t,e,s){U(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Z(e)&&(t.setupState=io(e)),Ho(t)}function Ho(t,e,s){const r=t.type;t.render||(t.render=r.render||He);{const n=Cs(t);ht();try{El(t)}finally{dt(),n()}}}const cc={get(t,e){return ue(t,"get",""),t[e]}};function uc(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,cc),slots:t.slots,emit:t.emit,expose:e}}function dr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(io(hn(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in ds)return ds[s](t)},has(e,s){return s in e||s in ds}})):t.proxy}function hc(t){return U(t)&&"__vccOpts"in t}const pe=(t,e)=>rl(t,e,ks),dc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nr;const Kn=typeof window<"u"&&window.trustedTypes;if(Kn)try{Nr=Kn.createPolicy("vue",{createHTML:t=>t})}catch{}const qo=Nr?t=>Nr.createHTML(t):t=>t,fc="http://www.w3.org/2000/svg",pc="http://www.w3.org/1998/Math/MathML",Je=typeof document<"u"?document:null,Wn=Je&&Je.createElement("template"),gc={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?Je.createElementNS(fc,t):e==="mathml"?Je.createElementNS(pc,t):s?Je.createElement(t,{is:s}):Je.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>Je.createTextNode(t),createComment:t=>Je.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Je.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Wn.innerHTML=qo(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Wn.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},_c=Symbol("_vtc");function vc(t,e,s){const r=t[_c];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Jn=Symbol("_vod"),mc=Symbol("_vsh"),yc=Symbol(""),bc=/(^|;)\s*display\s*:/;function wc(t,e,s){const r=t.style,n=re(s);let i=!1;if(s&&!n){if(e)if(re(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Js(r,a,"")}else for(const o in e)s[o]==null&&Js(r,o,"");for(const o in s)o==="display"&&(i=!0),Js(r,o,s[o])}else if(n){if(e!==s){const o=r[yc];o&&(s+=";"+o),r.cssText=s,i=bc.test(s)}}else e&&t.removeAttribute("style");Jn in t&&(t[Jn]=i?r.display:"",t[mc]&&(r.display="none"))}const zn=/\s*!important$/;function Js(t,e,s){if(R(s))s.forEach(r=>Js(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Sc(t,e);zn.test(s)?t.setProperty(Ot(r),s.replace(zn,""),"important"):t[r]=s}}const Gn=["Webkit","Moz","ms"],Tr={};function Sc(t,e){const s=Tr[e];if(s)return s;let r=ut(e);if(r!=="filter"&&r in t)return Tr[e]=r;r=Di(r);for(let n=0;n<Gn.length;n++){const i=Gn[n]+r;if(i in t)return Tr[e]=i}return e}const Qn="http://www.w3.org/1999/xlink";function Yn(t,e,s,r,n,i=Oa(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Qn,e.slice(6,e.length)):t.setAttributeNS(Qn,e,s):s==null||i&&!Mi(s)?t.removeAttribute(e):t.setAttribute(e,i?"":qe(s)?String(s):s)}function Xn(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?qo(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Mi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function ot(t,e,s,r){t.addEventListener(e,s,r)}function kc(t,e,s,r){t.removeEventListener(e,s,r)}const Zn=Symbol("_vei");function Tc(t,e,s,r,n=null){const i=t[Zn]||(t[Zn]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Ec(e);if(r){const u=i[e]=Pc(r,n);ot(t,a,u,l)}else o&&(kc(t,a,o,l),i[e]=void 0)}}const ei=/(?:Once|Passive|Capture)$/;function Ec(t){let e;if(ei.test(t)){e={};let r;for(;r=t.match(ei);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ot(t.slice(2)),e]}let Er=0;const xc=Promise.resolve(),Oc=()=>Er||(xc.then(()=>Er=0),Er=Date.now());function Pc(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ve(Cc(r,s.value),e,5,[r])};return s.value=t,s.attached=Oc(),s}function Cc(t,e){if(R(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const ti=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ac=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?vc(t,r,o):e==="style"?wc(t,s,r):rr(e)?Xr(e)||Tc(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):jc(t,e,r,o))?(Xn(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Yn(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!re(r))?Xn(t,ut(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Yn(t,e,r,o))};function jc(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ti(e)&&U(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ti(e)&&re(s)?!1:e in t}const Bt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return R(e)?s=>qs(e,s):e};function Rc(t){t.target.composing=!0}function si(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ye=Symbol("_assign"),$c={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Ye]=Bt(n);const i=r||n.props&&n.props.type==="number";ot(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=zs(a)),t[Ye](a)}),s&&ot(t,"change",()=>{t.value=t.value.trim()}),e||(ot(t,"compositionstart",Rc),ot(t,"compositionend",si),ot(t,"change",si))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Ye]=Bt(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?zs(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},ri={deep:!0,created(t,e,s){t[Ye]=Bt(s),ot(t,"change",()=>{const r=t._modelValue,n=Ts(t),i=t.checked,o=t[Ye];if(R(r)){const a=sn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Vt(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Vo(t,i))})},mounted:ni,beforeUpdate(t,e,s){t[Ye]=Bt(s),ni(t,e,s)}};function ni(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(R(e))n=sn(e,r.props.value)>-1;else if(Vt(e))n=e.has(r.props.value);else{if(e===s)return;n=Os(e,Vo(t,!0))}t.checked!==n&&(t.checked=n)}const Ic={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Vt(e);ot(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?zs(Ts(o)):Ts(o));t[Ye](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,dn(()=>{t._assigning=!1})}),t[Ye]=Bt(r)},mounted(t,{value:e}){ii(t,e)},beforeUpdate(t,e,s){t[Ye]=Bt(s)},updated(t,{value:e}){t._assigning||ii(t,e)}};function ii(t,e){const s=t.multiple,r=R(e);if(!(s&&!r&&!Vt(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Ts(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=sn(e,a)>-1}else o.selected=e.has(a);else if(Os(Ts(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ts(t){return"_value"in t?t._value:t.value}function Vo(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Lc=me({patchProp:Ac},gc);let oi;function Dc(){return oi||(oi=Nl(Lc))}const Uc=(...t)=>{const e=Dc().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=Fc(r);if(!n)return;const i=e._component;!U(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Mc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Mc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Fc(t){return re(t)?document.querySelector(t):t}var Nc=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Ko;const fr=t=>Ko=t,Wo=Symbol();function Br(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var _s;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(_s||(_s={}));function Bc(){const t=Hi(!0),e=t.run(()=>ce({}));let s=[],r=[];const n=hn({install(i){fr(n),n._a=i,i.provide(Wo,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Nc?r.push(i):s.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return n}const Jo=()=>{};function ai(t,e,s,r=Jo){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!s&&qi()&&Ca(n),n}function jt(t,...e){t.slice().forEach(s=>{s(...e)})}const Hc=t=>t(),li=Symbol(),xr=Symbol();function Hr(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,r)=>t.set(r,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s],n=t[s];Br(n)&&Br(r)&&t.hasOwnProperty(s)&&!te(r)&&!ct(r)?t[s]=Hr(n,r):t[s]=r}return t}const qc=Symbol();function Vc(t){return!Br(t)||!t.hasOwnProperty(qc)}const{assign:et}=Object;function Kc(t){return!!(te(t)&&t.effect)}function Wc(t,e,s,r){const{state:n,actions:i,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=n?n():{});const c=Za(s.state.value[t]);return et(c,i,Object.keys(o||{}).reduce((h,p)=>(h[p]=hn(pe(()=>{fr(s);const g=s._s.get(t);return o[p].call(g,g)})),h),{}))}return l=zo(t,u,e,s,r,!0),l}function zo(t,e,s={},r,n,i){let o;const a=et({actions:{}},s),l={deep:!0};let u,c,h=[],p=[],g;const y=r.state.value[t];!i&&!y&&(r.state.value[t]={}),ce({});let x;function k(B){let q;u=c=!1,typeof B=="function"?(B(r.state.value[t]),q={type:_s.patchFunction,storeId:t,events:g}):(Hr(r.state.value[t],B),q={type:_s.patchObject,payload:B,storeId:t,events:g});const se=x=Symbol();dn().then(()=>{x===se&&(u=!0)}),c=!0,jt(h,q,r.state.value[t])}const S=i?function(){const{state:q}=s,se=q?q():{};this.$patch(Oe=>{et(Oe,se)})}:Jo;function j(){o.stop(),h=[],p=[],r._s.delete(t)}const D=(B,q="")=>{if(li in B)return B[xr]=q,B;const se=function(){fr(r);const Oe=Array.from(arguments),Re=[],Ze=[];function Wt(F){Re.push(F)}function js(F){Ze.push(F)}jt(p,{args:Oe,name:se[xr],store:I,after:Wt,onError:js});let ee;try{ee=B.apply(this&&this.$id===t?this:I,Oe)}catch(F){throw jt(Ze,F),F}return ee instanceof Promise?ee.then(F=>(jt(Re,F),F)).catch(F=>(jt(Ze,F),Promise.reject(F))):(jt(Re,ee),ee)};return se[li]=!0,se[xr]=q,se},C={_p:r,$id:t,$onAction:ai.bind(null,p),$patch:k,$reset:S,$subscribe(B,q={}){const se=ai(h,B,q.detached,()=>Oe()),Oe=o.run(()=>ps(()=>r.state.value[t],Re=>{(q.flush==="sync"?c:u)&&B({storeId:t,type:_s.direct,events:g},Re)},et({},l,q)));return se},$dispose:j},I=ar(C);r._s.set(t,I);const le=(r._a&&r._a.runWithContext||Hc)(()=>r._e.run(()=>(o=Hi()).run(()=>e({action:D}))));for(const B in le){const q=le[B];if(te(q)&&!Kc(q)||ct(q))i||(y&&Vc(q)&&(te(q)?q.value=y[B]:Hr(q,y[B])),r.state.value[t][B]=q);else if(typeof q=="function"){const se=D(q,B);le[B]=se,a.actions[B]=q}}return et(I,le),et(V(I),le),Object.defineProperty(I,"$state",{get:()=>r.state.value[t],set:B=>{k(q=>{et(q,B)})}}),r._p.forEach(B=>{et(I,o.run(()=>B({store:I,app:r._a,pinia:r,options:a})))}),y&&i&&s.hydrate&&s.hydrate(I.$state,y),u=!0,c=!0,I}/*! #__NO_SIDE_EFFECTS__ */function vn(t,e,s){let r,n;const i=typeof e=="function";typeof t=="string"?(r=t,n=i?s:e):(n=t,r=t.id);function o(a,l){const u=$l();return a=a||(u?fs(Wo,null):null),a&&fr(a),a=Ko,a._s.has(r)||(i?zo(r,e,n,a):Wc(r,n,a)),a._s.get(r)}return o.$id=r,o}const Jc=vn("user",()=>{const t=ce(null),e=ce(null);function s(r,n){t.value=r,e.value=n}return{currentUser:t,currentId:e,loadUser:s}}),mn=vn("binder",()=>{const t=ce(null),e=ce(null),s=ce(null);function r(o){t.value=o}function n(o){e.value=o}function i(o){s.value=o}return{userBinders:t,currentBinder:e,lastBinderOrder:s,loadBinders:r,selectBinder:n,setLastOrder:i}}),zc="modulepreload",Gc=function(t){return"/"+t},ci={},Ht=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Gc(l),l in ci)return;ci[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":zc,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,g)=>{h.addEventListener("load",p),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Qc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ht(async()=>{const{default:r}=await Promise.resolve().then(()=>Kt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class yn extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class Yc extends yn{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xc extends yn{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Zc extends yn{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qr;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qr||(qr={}));var eu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class tu{constructor(e,{headers:s={},customFetch:r,region:n=qr.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=Qc(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return eu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(y=>{throw new Yc(y)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Xc(c);if(!c.ok)throw new Zc(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function su(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ru(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var ie={},Xt={},Zt={},es={},ts={},ss={},nu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qt=nu();const iu=qt.fetch,Go=qt.fetch.bind(qt),Qo=qt.Headers,ou=qt.Request,au=qt.Response,Kt=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qo,Request:ou,Response:au,default:Go,fetch:iu},Symbol.toStringTag,{value:"Module"})),lu=ru(Kt);var Ms={},ui;function Yo(){if(ui)return Ms;ui=1,Object.defineProperty(Ms,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ms.default=t,Ms}var hi;function Xo(){if(hi)return ss;hi=1;var t=ss.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ss,"__esModule",{value:!0});const e=t(lu),s=t(Yo());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,p;let g=null,y=null,x=null,k=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const I=await u.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=I:y=JSON.parse(I))}const D=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");D&&C&&C.length>1&&(x=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,k=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const D=await u.text();try{g=JSON.parse(D),Array.isArray(g)&&u.status===404&&(y=[],g=null,k=200,S="OK")}catch{u.status===404&&D===""?(k=204,S="No Content"):g={message:D}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,k=200,S="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:y,count:x,status:k,statusText:S}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return ss.default=r,ss}var di;function Zo(){if(di)return ts;di=1;var t=ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ts,"__esModule",{value:!0});const e=t(Xo());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ts.default=s,ts}var fi;function bn(){if(fi)return es;fi=1;var t=es.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(es,"__esModule",{value:!0});const e=t(Zo());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return es.default=s,es}var pi;function ea(){if(pi)return Zt;pi=1;var t=Zt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zt,"__esModule",{value:!0});const e=t(bn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Zt.default=s,Zt}var rs={},ns={},gi;function cu(){return gi||(gi=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.version=void 0,ns.version="0.0.0-automated"),ns}var _i;function uu(){if(_i)return rs;_i=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.DEFAULT_HEADERS=void 0;const t=cu();return rs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},rs}var vi;function hu(){if(vi)return Xt;vi=1;var t=Xt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Xt,"__esModule",{value:!0});const e=t(ea()),s=t(bn()),r=uu();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([x,k])=>k!==void 0).map(([x,k])=>[x,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([x,k])=>{p.searchParams.append(x,k)})):(h="POST",g=a);const y=Object.assign({},this.headers);return c&&(y.Prefer=`count=${c}`),new s.default({method:h,url:p,headers:y,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Xt.default=n,Xt}var mi;function du(){if(mi)return ie;mi=1;var t=ie.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ie,"__esModule",{value:!0}),ie.PostgrestError=ie.PostgrestBuilder=ie.PostgrestTransformBuilder=ie.PostgrestFilterBuilder=ie.PostgrestQueryBuilder=ie.PostgrestClient=void 0;const e=t(hu());ie.PostgrestClient=e.default;const s=t(ea());ie.PostgrestQueryBuilder=s.default;const r=t(bn());ie.PostgrestFilterBuilder=r.default;const n=t(Zo());ie.PostgrestTransformBuilder=n.default;const i=t(Xo());ie.PostgrestBuilder=i.default;const o=t(Yo());return ie.PostgrestError=o.default,ie.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ie}var fu=du();const pu=su(fu),{PostgrestClient:gu,PostgrestQueryBuilder:Sd,PostgrestFilterBuilder:kd,PostgrestTransformBuilder:Td,PostgrestBuilder:Ed,PostgrestError:xd}=pu,_u="2.11.2",vu={"X-Client-Info":`realtime-js/${_u}`},mu="1.0.0",ta=1e4,yu=1e3;var Ft;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ft||(Ft={}));var Te;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Te||(Te={}));var Ce;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ce||(Ce={}));var Vr;(function(t){t.websocket="websocket"})(Vr||(Vr={}));var St;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(St||(St={}));class bu{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class sa{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const yi=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=wu(o,t,e,n),i),{})},wu=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?ra(i,o):Kr(o)},ra=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Eu(e,s)}switch(t){case Q.bool:return Su(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return ku(e);case Q.json:case Q.jsonb:return Tu(e);case Q.timestamp:return xu(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Kr(e);default:return Kr(e)}},Kr=t=>t,Su=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ku=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tu=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Eu=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>ra(e,a))}return t},xu=t=>typeof t=="string"?t.replace(" ","T"):t,na=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Or{constructor(e,s,r={},n=ta){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bi||(bi={}));class vs{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=vs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=vs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(k=>k.presence_ref),g=h.map(k=>k.presence_ref),y=c.filter(k=>g.indexOf(k.presence_ref)<0),x=h.filter(k=>p.indexOf(k.presence_ref)<0);y.length>0&&(a[u]=y),x.length>0&&(l[u]=x)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(g=>g.presence_ref),p=c.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wi||(wi={}));var Si;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Si||(Si={}));var ze;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ze||(ze={}));class wn{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Or(this,Ce.join,this.params,this.timeout),this.rejoinTimer=new sa(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ce.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new vs(this),this.broadcastEndpointURL=na(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(ze.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(ze.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){e==null||e(ze.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(h=p==null?void 0:p.length)!==null&&h!==void 0?h:0,y=[];for(let x=0;x<g;x++){const k=p[x],{filter:{event:S,schema:j,table:D,filter:C}}=k,I=c&&c[x];if(I&&I.event===S&&I.schema===j&&I.table===D&&I.filter===C)y.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),e==null||e(ze.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(ze.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(ze.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ze.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Te.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ce.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Or(this,Ce.leave,{},e);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Or(this,e,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ce;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var y,x,k;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(x=g.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,x,k,S,j,D;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const C=g.id,I=(y=g.filter)===null||y===void 0?void 0:y.event;return C&&((x=s.ids)===null||x===void 0?void 0:x.includes(C))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const C=(j=(S=g==null?void 0:g.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return C==="*"||C===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:x,table:k,commit_timestamp:S,type:j,errors:D}=y;p=Object.assign(Object.assign({},{schema:x,table:k,commit_timestamp:S,eventType:j,new:{},old:{},errors:D}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&wn.isEqual(n.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ce.close,{},e)}_onError(e){this._on(Ce.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=yi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=yi(e.columns,e.old_record)),s}}const Ou=()=>{},Pu=typeof WebSocket<"u",Cu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Au{constructor(e,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vu,this.params={},this.timeout=ta,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Ou,this.conn=null,this.sendBuffer=[],this.serializer=new bu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ht(async()=>{const{default:l}=await Promise.resolve().then(()=>Kt);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Vr.websocket}`,this.httpEndpoint=na(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sa(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Pu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ju(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ht(async()=>{const{default:e}=await import("./browser-D-XcZO65.js").then(s=>s.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mu}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return St.Connecting;case Ft.open:return St.Open;case Ft.closing:return St.Closing;default:return St.Closed}}isConnected(){return this.connectionState()===St.Open}channel(e,s={config:{}}){const r=new wn(`realtime:${e}`,s,this);return this.channels.push(r),r}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ce.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(yu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ce.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Cu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class ju{constructor(e,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ft.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Sn extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Ru extends Sn{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wr extends Sn{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var $u=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const ia=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ht(async()=>{const{default:r}=await Promise.resolve().then(()=>Kt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Iu=()=>$u(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ht(()=>Promise.resolve().then(()=>Kt),void 0)).Response:Response}),Jr=t=>{if(Array.isArray(t))return t.map(s=>Jr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Jr(r)}),e};var Pt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Pr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lu=(t,e,s)=>Pt(void 0,void 0,void 0,function*(){const r=yield Iu();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{e(new Ru(Pr(n),t.status||500))}).catch(n=>{e(new Wr(Pr(n),n))}):e(new Wr(Pr(t),t))}),Du=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function As(t,e,s,r,n,i){return Pt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Du(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Lu(l,a,r))})})}function sr(t,e,s,r){return Pt(this,void 0,void 0,function*(){return As(t,"GET",e,s,r)})}function it(t,e,s,r,n){return Pt(this,void 0,void 0,function*(){return As(t,"POST",e,r,n,s)})}function Uu(t,e,s,r,n){return Pt(this,void 0,void 0,function*(){return As(t,"PUT",e,r,n,s)})}function Mu(t,e,s,r){return Pt(this,void 0,void 0,function*(){return As(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function oa(t,e,s,r,n){return Pt(this,void 0,void 0,function*(){return As(t,"DELETE",e,r,n,s)})}var be=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Fu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ki={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nu{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ia(n)}uploadOrUpdate(e,s,r,n){return be(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ki),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(ne(i))return{data:null,error:i};throw i}})}upload(e,s,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return be(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ki.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return be(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield it(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Sn("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}update(e,s,r){return be(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return be(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}copy(e,s,r){return be(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return be(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield it(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return be(this,void 0,void 0,function*(){try{const n=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}download(e,s){return be(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield sr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ne(a))return{data:null,error:a};throw a}})}info(e){return be(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield sr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Jr(r),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}exists(e){return be(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Mu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ne(r)&&r instanceof Wr){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return be(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}list(e,s,r){return be(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Fu),s),{prefix:e||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Bu="2.7.1",Hu={"X-Client-Info":`storage-js/${Bu}`};var Rt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qu{constructor(e,s={},r){this.url=e,this.headers=Object.assign(Object.assign({},Hu),s),this.fetch=ia(r)}listBuckets(){return Rt(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ne(e))return{data:null,error:e};throw e}})}getBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield sr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Rt(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Rt(this,void 0,void 0,function*(){try{return{data:yield Uu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Rt(this,void 0,void 0,function*(){try{return{data:yield oa(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ne(s))return{data:null,error:s};throw s}})}}class Vu extends qu{constructor(e,s={},r){super(e,s,r)}from(e){return new Nu(this.url,this.headers,e,this.fetch)}}const Ku="2.47.13";let as="";typeof Deno<"u"?as="deno":typeof document<"u"?as="web":typeof navigator<"u"&&navigator.product==="ReactNative"?as="react-native":as="node";const Wu={"X-Client-Info":`supabase-js-${as}/${Ku}`},Ju={headers:Wu},zu={schema:"public"},Gu={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qu={};var Yu=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Xu=t=>{let e;return t?e=t:typeof fetch>"u"?e=Go:e=fetch,(...s)=>e(...s)},Zu=()=>typeof Headers>"u"?Qo:Headers,eh=(t,e,s)=>{const r=Xu(s),n=Zu();return(i,o)=>Yu(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var th=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function sh(t){return t.replace(/\/$/,"")}function rh(t,e){const{db:s,auth:r,realtime:n,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>th(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const aa="2.67.3",nh="http://localhost:9999",ih="supabase.auth.token",oh={"X-Client-Info":`gotrue-js/${aa}`},Ti=10,zr="X-Supabase-Api-Version",la={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function ah(t){return Math.round(Date.now()/1e3)+t}function lh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",vt={tested:!1,writable:!1},ms=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vt.tested)return vt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),vt.tested=!0,vt.writable=!0}catch{vt.tested=!0,vt.writable=!1}return vt.writable};function ch(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const ca=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ht(async()=>{const{default:r}=await Promise.resolve().then(()=>Kt);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},uh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ua=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Fs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ns=async(t,e)=>{await t.removeItem(e)};function hh(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(t=t.replace("-","+").replace("_","/");c<t.length;)o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=e.indexOf(t.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class pr{constructor(){this.promise=new pr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}pr.promiseConstructor=Promise;function Ei(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(hh(r))}async function dh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function fh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function ph(t){return("0"+t.toString(16)).substr(-2)}function gh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,ph).join("")}async function _h(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function vh(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await _h(t);return vh(s)}async function $t(t,e,s=!1){const r=gh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ua(t,`${e}-code-verifier`,n);const i=await mh(r);return[i,r===i?"plain":"s256"]}const yh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bh(t){const e=t.headers.get(zr);if(!e||!e.match(yh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class kn extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function M(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wh extends kn{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Sh(t){return M(t)&&t.name==="AuthApiError"}class ha extends kn{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Ct extends kn{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class tt extends Ct{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kh(t){return M(t)&&t.name==="AuthSessionMissingError"}class Cr extends Ct{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends Ct{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hs extends Ct{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Th(t){return M(t)&&t.name==="AuthImplicitGrantRedirectError"}class xi extends Ct{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Gr extends Ct{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ar(t){return M(t)&&t.name==="AuthRetryableFetchError"}class Oi extends Ct{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Eh=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const wt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xh=[502,503,504];async function Pi(t){var e;if(!uh(t))throw new Gr(wt(t),0);if(xh.includes(t.status))throw new Gr(wt(t),t.status);let s;try{s=await t.json()}catch(i){throw new ha(wt(i),i)}let r;const n=bh(t);if(n&&n.getTime()>=la["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Oi(wt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Oi(wt(s),t.status,s.weak_password.reasons);throw new wh(wt(s),t.status||500,r)}const Oh=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function N(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[zr]||(i[zr]=la["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ph(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ph(t,e,s,r,n,i){const o=Oh(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Gr(wt(l),0)}if(a.ok||await Pi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Pi(l)}}function st(t){var e;let s=null;Rh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=ah(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Ci(t){const e=st(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function at(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Ch(t){return{data:t,error:null}}function Ah(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=Eh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function jh(t){return t}function Rh(t){return t.access_token&&t.refresh_token&&t.expires_in}var $h=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class Ih{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=ca(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await N(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await N(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:at})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=$h(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await N(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Ah,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(M(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await N(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:at})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await N(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:jh});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);u[`${k}Page`]=x}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await N(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:at})}catch(s){if(M(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await N(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:at})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){try{return await N(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:at})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:s,error:r}=await N(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(M(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await N(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}}const Lh={getItem:t=>ms()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{ms()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{ms()&&globalThis.localStorage.removeItem(t)}};function Ai(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Dh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const It={debug:!!(globalThis&&ms()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class da extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Uh extends da{}async function Mh(t,e,s){It.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),It.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){It.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{It.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw It.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Uh(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(It.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Dh();const Fh={url:nh,storageKey:ih,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:oh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},is=30*1e3,ji=3;async function Ri(t,e,s){return await s()}class Es{constructor(e){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Es.nextInstanceID,Es.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Fh),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ih({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ca(n.fetch),this.lock=n.lock||Ri,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Mh:this.lock=Ri,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:ms()?this.storage=Lh:(this.memoryStorage={},this.storage=Ai(this.memoryStorage)):(this.memoryStorage={},this.storage=Ai(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=ch(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Th(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return M(s)?{error:s}:{error:new ha("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:st}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await $t(this.storage,this.storageKey)),i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:st})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await N(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:st})}else throw new Bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ci})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await N(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ci})}else throw new Bs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Cr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await Fs(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await N(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:st});if(await Ns(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Cr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await N(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:st}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Cr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await $t(this.storage,this.storageKey));const{error:h}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await N(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Bs("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:st});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await $t(this.storage,this.storageKey)),await N(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Ch})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new tt;const{error:n}=await N(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(M(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await N(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await N(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Bs("You must provide either an email or phone number and a type")}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:at}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tt}:await N(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:at})})}catch(s){if(M(s))return kh(s)&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await $t(this.storage,this.storageKey));const{data:u,error:c}=await N(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:at});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Ei(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=Ei(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(M(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new tt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new Hs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new xi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xi("No code detected.");const{data:j,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Hs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let p=c+h;l&&(p=parseInt(l));const g=p-c;g*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const y=p-h;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:x,error:k}=await this._getUser(i);if(k)throw k;const S={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=lh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await $t(this.storage,this.storageKey,!0));try{return await N(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(M(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await N(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await N(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await fh(async n=>(n>0&&await dh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await N(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:st})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Ar(i)&&Date.now()+o-r<is})}catch(r){if(this._debug(s,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Fs(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((e=r.expires_at)!==null&&e!==void 0?e:1/0)<n+Ti;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ti}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Ar(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new pr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),M(i)){const o={session:null,error:i};return Ar(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ua(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ns(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${is}ms, refresh threshold is ${ji} ticks`),n<=ji&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof da)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await $t(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await N(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(M(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await N(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(M(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Es.nextInstanceID=0;const Nh=Es;class Bh extends Nh{constructor(e){super(e)}}var Hh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class qh{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=sh(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:zu,realtime:Qu,auth:Object.assign(Object.assign({},Gu),{storageKey:l}),global:Ju},c=rh(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=eh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new gu(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new tu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vu(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Hh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var h;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bh({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(e){return new Au(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vh=(t,e,s)=>new qh(t,e,s),Qr=Vh("https://bdgrzywumdfuxrlsyyxi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkZ3J6eXd1bWRmdXhybHN5eXhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY4NTg4NjksImV4cCI6MjA1MjQzNDg2OX0.CfMRHLIqiyazh7Hkn9M9Zo4cVKJWTJSA5GwZaZxGfMc"),fa=vn("cards",()=>{const t=ce([]),e=mn();return{cards:t,fetchCards:async()=>{const r=t.value.find(n=>n.binder==e.currentBinder);if(r)return console.log("returning cached binder",e.currentBinder),r;console.log("loading new binder",e.currentBinder);try{const{data:n,error:i}=await Qr.from("cards").select().eq("binder",e.currentBinder).order("order",{ascending:!0});if(i)throw i;t.value.push({binder:e.currentBinder,data:n})}catch(n){console.log(n)}}}}),Tn=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Kh=["src","alt"],Wh={key:1,class:"empty"},Jh={__name:"Card",props:["card","missing"],setup(t){const e=t;return(s,r)=>e.card.url!=""?(oe(),_e("div",{key:0,class:Ne(["card",e.missing&&e.card.gotit?"missing":""])},[Y("img",{src:e.card.url,alt:"pokemon_"+e.card.pokemon},null,8,Kh)],2)):(oe(),_e("div",Wh))}},zh=Tn(Jh,[["__scopeId","data-v-e16e241f"]]),Gh={class:"page"},Qh={__name:"BinderPage",props:["cards","missing"],setup(t){const e=t;return(s,r)=>(oe(),_e("div",Gh,[(oe(!0),_e(Ae,null,vo(e.cards,(n,i)=>(oe(),Uo(zh,{key:i+"card",card:n,missing:t.missing},null,8,["card","missing"]))),128))]))}},mt=Tn(Qh,[["__scopeId","data-v-edb35430"]]),Yh={key:0,class:"binder"},Xh=["missing"],Zh=["missing"],ed=["missing"],td=["missing"],sd={__name:"Binder",props:["page","animation","direction","fill","missing"],setup(t){const e=t,s=fa(),r=mn(),n=ce(9),i=pe(()=>window.innerWidth<1200),o=pe(()=>a.value.slice(l(0),l(1))),a=pe(()=>s.cards.length?s.cards.find(S=>S.binder==r.currentBinder).data.filter(S=>!e.fill||S.url):[]);function l(S){return(e.page+S)*n.value}const u=pe(()=>a.value.slice(l(0),l(1))),c=pe(()=>a.value.slice(l(1),l(2))),h=pe(()=>a.value.slice(l(2),l(3))),p=pe(()=>a.value.slice(l(3),l(4))),g=pe(()=>a.value.slice(l(-1),l(-1))),y=pe(()=>a.value.slice(l(-1),l(0))),x=pe(()=>a.value.slice(0,n.value)),k=pe(()=>a.value.slice(n.value,2*n.value));return(S,j)=>(oe(),_e("div",{class:Ne(["binder-wrapper",i.value?"mobile":""])},[i.value?bt("",!0):(oe(),_e("div",Yh,[ae(mt,{cards:u.value,missing:e.missing,class:Ne(["left-page",e.animation&&(e.direction=="left"||e.direction=="first")?"flipping":""])},null,8,["cards","missing","class"]),ae(mt,{cards:c.value,missing:e.missing,class:Ne(["right-page",e.animation&&e.direction=="right"?"flipping":""])},null,8,["cards","missing","class"])])),i.value?(oe(),_e("div",{key:1,class:Ne(["binder",i.value?"mobile":""])},[ae(mt,{cards:o.value,missing:e.missing},null,8,["cards","missing"])],2)):bt("",!0),!i.value&&e.page>0?(oe(),_e("div",{key:2,missing:e.missing,class:Ne(["flip-helper","left",e.animation&&(e.direction=="left"||e.direction=="first")?"flipping":""])},[ae(mt,{cards:e.animation&&e.direction=="first"?k.value:y.value,class:"right-page-back"},null,8,["cards"])],10,Xh)):bt("",!0),i.value?bt("",!0):(oe(),_e("div",{key:3,class:Ne(["flip-helper","right",e.animation&&e.direction=="right"?"flipping":""]),missing:e.missing},[ae(mt,{cards:h.value,class:"left-page-back"},null,8,["cards"])],10,Zh)),!i.value&&e.page>0?(oe(),_e("div",{key:4,class:"backpage left",missing:e.missing},[ae(mt,{cards:e.animation&&e.direction=="first"?x.value:g.value,class:"right-page-back"},null,8,["cards"])],8,ed)):bt("",!0),i.value?bt("",!0):(oe(),_e("div",{key:5,class:"backpage right",missing:e.missing},[ae(mt,{cards:p.value,class:"right-page-back"},null,8,["cards"])],8,td))],2))}},rd=Tn(sd,[["__scopeId","data-v-e536e570"]]),nd={class:"wrapper"},id={class:"buttons"},od=["disabled"],ad=["disabled"],ld={style:{color:"#fff"}},cd=["disabled"],ud={class:"options"},hd={class:"field"},dd={key:0},fd={style:{color:"yellow"}},pd={class:"field"},gd=["value"],_d={class:"field"},vd={class:"checkbox"},md={class:"field"},yd={class:"checkbox"},bd={__name:"App",setup(t){const e=Jc(),s=mn(),r=fa(),n=pe(()=>window.innerWidth<1200),i=ce(""),o=async()=>{try{const{data:k,error:S}=await Qr.from("users").select().eq("username",i.value);if(S)throw S;e.loadUser(k[0].username,k[0].id)}catch{}l(),localStorage.setItem("currentUser",e.currentUser),i.value=""},a=ce(1),l=async()=>{try{const{data:k,error:S}=await Qr.from("binders").select().eq("user",e.currentId).order("title",{ascending:!0});if(S)throw S;s.loadBinders(k),a.value=18}catch(k){console.log(k)}};go(()=>{const k=localStorage.getItem("currentUser");k&&(i.value=k,o())}),ps(a,async(k,S)=>{s.selectBinder(k),r.fetchCards(),u.value=0});const u=ce(0),c=ce(!1),h=ce(""),p=async k=>{c.value=!0,h.value=k,setTimeout(()=>{switch(c.value=!1,h.value="",k){case"left":u.value-=n?1:2;break;case"right":u.value+=n?1:2;break;case"first":u.value=0;break}},n?0:1e3)},g=pe(()=>{if(r.cards.length){const k=r.cards.find(S=>S.binder==s.currentBinder).data.filter(S=>!x.value||S.url).length;return n?k<9*(u.value+1):k<18*(u.value/2+1)}else return!0}),y=ce(!1),x=ce(!1);return(k,S)=>(oe(),_e("div",nd,[ae(rd,{missing:y.value,fill:x.value,page:u.value,animation:c.value,direction:h.value},null,8,["missing","fill","page","animation","direction"]),Y("div",id,[Y("button",{disabled:u.value<=0||c.value,onClick:S[0]||(S[0]=j=>p("first"))},"<<",8,od),Y("button",{disabled:u.value<=0||c.value,onClick:S[1]||(S[1]=j=>p("left"))},"<",8,ad),Y("div",null,[Y("span",ld,"Pag "+Vs(parseInt(u.value)+1),1)]),Y("button",{disabled:g.value||c.value,onClick:S[2]||(S[2]=j=>p("right"))},">",8,cd)]),Y("div",ud,[Y("div",hd,[S[7]||(S[7]=Y("label",{for:"user"},"User",-1)),Us(Y("input",{type:"text","onUpdate:modelValue":S[3]||(S[3]=j=>i.value=j),name:"user"},null,512),[[$c,i.value]]),Y("button",{onClick:o},"login")]),Ks(e).currentId?(oe(),_e("div",dd,[S[8]||(S[8]=No("Logged in as ")),Y("span",fd,Vs(Ks(e).currentUser),1)])):bt("",!0),Y("div",pd,[S[9]||(S[9]=Y("label",{for:"generation"},"Binder",-1)),Us(Y("select",{"onUpdate:modelValue":S[4]||(S[4]=j=>a.value=j),name:"genselect",id:"genselect"},[(oe(!0),_e(Ae,null,vo(Ks(s).userBinders,(j,D)=>(oe(),_e("option",{key:D+"index",value:j.id},Vs(j.title),9,gd))),128))],512),[[Ic,a.value]])]),Y("div",_d,[Y("div",vd,[Us(Y("input",{type:"checkbox","onUpdate:modelValue":S[5]||(S[5]=j=>x.value=j),id:"fill",name:"fill"},null,512),[[ri,x.value]]),S[10]||(S[10]=Y("label",{for:"fill"},"Fill pockets",-1))])]),Y("div",md,[Y("div",yd,[Us(Y("input",{type:"checkbox","onUpdate:modelValue":S[6]||(S[6]=j=>y.value=j),id:"possession",name:"possession"},null,512),[[ri,y.value]]),S[11]||(S[11]=Y("label",{for:"possession"},"Highlight missing",-1))])])])]))}},pa=Uc(bd);pa.use(Bc());pa.mount("#app");export{su as g};
