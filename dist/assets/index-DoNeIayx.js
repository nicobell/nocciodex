(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function un(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const re={},zt=[],Ye=()=>{},Ca=()=>!1,hr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),dn=e=>e.startsWith("onUpdate:"),ke=Object.assign,hn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ea=Object.prototype.hasOwnProperty,ee=(e,t)=>Ea.call(e,t),F=Array.isArray,Qt=e=>Ms(e)==="[object Map]",ns=e=>Ms(e)==="[object Set]",Fn=e=>Ms(e)==="[object Date]",q=e=>typeof e=="function",he=e=>typeof e=="string",et=e=>typeof e=="symbol",le=e=>e!==null&&typeof e=="object",Vi=e=>(le(e)||q(e))&&q(e.then)&&q(e.catch),qi=Object.prototype.toString,Ms=e=>qi.call(e),Ta=e=>Ms(e).slice(8,-1),Wi=e=>Ms(e)==="[object Object]",fn=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ws=un(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Oa=/-(\w)/g,wt=fr(e=>e.replace(Oa,(t,s)=>s?s.toUpperCase():"")),xa=/\B([A-Z])/g,Bt=fr(e=>e.replace(xa,"-$1").toLowerCase()),Ki=fr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Tr=fr(e=>e?`on${Ki(e)}`:""),mt=(e,t)=>!Object.is(e,t),Xs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ji=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},rr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Nn;const pr=()=>Nn||(Nn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gr(e){if(F(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=he(r)?Ia(r):gr(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(he(e)||le(e))return e}const Pa=/;(?![^(]*\))/g,Ra=/:([^]+)/,ja=/\/\*[^]*?\*\//g;function Ia(e){const t={};return e.replace(ja,"").split(Pa).forEach(s=>{if(s){const r=s.split(Ra);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ne(e){let t="";if(he(e))t=e;else if(F(e))for(let s=0;s<e.length;s++){const r=ne(e[s]);r&&(t+=r+" ")}else if(le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const $a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ua=un($a);function Gi(e){return!!e||e===""}function La(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=Lt(e[r],t[r]);return s}function Lt(e,t){if(e===t)return!0;let s=Fn(e),r=Fn(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=et(e),r=et(t),s||r)return e===t;if(s=F(e),r=F(t),s||r)return s&&r?La(e,t):!1;if(s=le(e),r=le(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Lt(e[o],t[o]))return!1}}return String(e)===String(t)}function pn(e,t){return e.findIndex(s=>Lt(s,t))}const zi=e=>!!(e&&e.__v_isRef===!0),Ze=e=>he(e)?e:e==null?"":F(e)||le(e)&&(e.toString===qi||!q(e.toString))?zi(e)?Ze(e.value):JSON.stringify(e,Qi,2):String(e),Qi=(e,t)=>zi(t)?Qi(e,t.value):Qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[Or(r,i)+" =>"]=n,s),{})}:ns(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Or(s))}:et(t)?Or(t):le(t)&&!F(t)&&!Wi(t)?String(t):t,Or=(e,t="")=>{var s;return et(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let we;class Xi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=we,!t&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=we;try{return we=this,t()}finally{we=s}}}on(){we=this}off(){we=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Yi(e){return new Xi(e)}function Zi(){return we}function Ma(e,t=!1){we&&we.cleanups.push(e)}let ae;const xr=new WeakSet;class eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,we&&we.active&&we.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xr.has(this)&&(xr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||so(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Hn(this),ro(this);const t=ae,s=Ne;ae=this,Ne=!0;try{return this.fn()}finally{no(this),ae=t,Ne=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)mn(t);this.deps=this.depsTail=void 0,Hn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){qr(this)&&this.run()}get dirty(){return qr(this)}}let to=0,As,ks;function so(e,t=!1){if(e.flags|=8,t){e.next=ks,ks=e;return}e.next=As,As=e}function gn(){to++}function vn(){if(--to>0)return;if(ks){let t=ks;for(ks=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;As;){let t=As;for(As=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function ro(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function no(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),mn(r),Da(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function qr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(io(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function io(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Rs))return;e.globalVersion=Rs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!qr(e)){e.flags&=-3;return}const s=ae,r=Ne;ae=e,Ne=!0;try{ro(e);const n=e.fn(e._value);(t.version===0||mt(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ae=s,Ne=r,no(e),e.flags&=-3}}function mn(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)mn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Da(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ne=!0;const oo=[];function kt(){oo.push(Ne),Ne=!1}function St(){const e=oo.pop();Ne=e===void 0?!0:e}function Hn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ae;ae=void 0;try{t()}finally{ae=s}}}let Rs=0;class Ba{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class _n{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ae||!Ne||ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ae)s=this.activeLink=new Ba(ae,this),ae.deps?(s.prevDep=ae.depsTail,ae.depsTail.nextDep=s,ae.depsTail=s):ae.deps=ae.depsTail=s,ao(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ae.depsTail,s.nextDep=void 0,ae.depsTail.nextDep=s,ae.depsTail=s,ae.deps===s&&(ae.deps=r)}return s}trigger(t){this.version++,Rs++,this.notify(t)}notify(t){gn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vn()}}}function ao(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ao(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const nr=new WeakMap,It=Symbol(""),Wr=Symbol(""),js=Symbol("");function me(e,t,s){if(Ne&&ae){let r=nr.get(e);r||nr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new _n),n.map=r,n.key=s),n.track()}}function ot(e,t,s,r,n,i){const o=nr.get(e);if(!o){Rs++;return}const a=l=>{l&&l.trigger()};if(gn(),t==="clear")o.forEach(a);else{const l=F(e),c=l&&fn(s);if(l&&s==="length"){const u=Number(r);o.forEach((d,p)=>{(p==="length"||p===js||!et(p)&&p>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(js)),t){case"add":l?c&&a(o.get("length")):(a(o.get(It)),Qt(e)&&a(o.get(Wr)));break;case"delete":l||(a(o.get(It)),Qt(e)&&a(o.get(Wr)));break;case"set":Qt(e)&&a(o.get(It));break}}vn()}function Fa(e,t){const s=nr.get(e);return s&&s.get(t)}function Ht(e){const t=Y(e);return t===e?t:(me(t,"iterate",js),De(e)?t:t.map(_e))}function vr(e){return me(e=Y(e),"iterate",js),e}const Na={__proto__:null,[Symbol.iterator](){return Pr(this,Symbol.iterator,_e)},concat(...e){return Ht(this).concat(...e.map(t=>F(t)?Ht(t):t))},entries(){return Pr(this,"entries",e=>(e[1]=_e(e[1]),e))},every(e,t){return rt(this,"every",e,t,void 0,arguments)},filter(e,t){return rt(this,"filter",e,t,s=>s.map(_e),arguments)},find(e,t){return rt(this,"find",e,t,_e,arguments)},findIndex(e,t){return rt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rt(this,"findLast",e,t,_e,arguments)},findLastIndex(e,t){return rt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Rr(this,"includes",e)},indexOf(...e){return Rr(this,"indexOf",e)},join(e){return Ht(this).join(e)},lastIndexOf(...e){return Rr(this,"lastIndexOf",e)},map(e,t){return rt(this,"map",e,t,void 0,arguments)},pop(){return cs(this,"pop")},push(...e){return cs(this,"push",e)},reduce(e,...t){return Vn(this,"reduce",e,t)},reduceRight(e,...t){return Vn(this,"reduceRight",e,t)},shift(){return cs(this,"shift")},some(e,t){return rt(this,"some",e,t,void 0,arguments)},splice(...e){return cs(this,"splice",e)},toReversed(){return Ht(this).toReversed()},toSorted(e){return Ht(this).toSorted(e)},toSpliced(...e){return Ht(this).toSpliced(...e)},unshift(...e){return cs(this,"unshift",e)},values(){return Pr(this,"values",_e)}};function Pr(e,t,s){const r=vr(e),n=r[t]();return r!==e&&!De(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ha=Array.prototype;function rt(e,t,s,r,n,i){const o=vr(e),a=o!==e&&!De(e),l=o[t];if(l!==Ha[t]){const d=l.apply(e,i);return a?_e(d):d}let c=s;o!==e&&(a?c=function(d,p){return s.call(this,_e(d),p,e)}:s.length>2&&(c=function(d,p){return s.call(this,d,p,e)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Vn(e,t,s,r){const n=vr(e);let i=s;return n!==e&&(De(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,_e(a),l,e)}),n[t](i,...r)}function Rr(e,t,s){const r=Y(e);me(r,"iterate",js);const n=r[t](...s);return(n===-1||n===!1)&&wn(s[0])?(s[0]=Y(s[0]),r[t](...s)):n}function cs(e,t,s=[]){kt(),gn();const r=Y(e)[t].apply(e,s);return vn(),St(),r}const Va=un("__proto__,__v_isRef,__isVue"),lo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(et));function qa(e){et(e)||(e=String(e));const t=Y(this);return me(t,"has",e),t.hasOwnProperty(e)}class co{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?el:po:i?fo:ho).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=F(t);if(!n){let l;if(o&&(l=Na[s]))return l;if(s==="hasOwnProperty")return qa}const a=Reflect.get(t,s,ue(t)?t:r);return(et(s)?lo.has(s):Va(s))||(n||me(t,"get",s),i)?a:ue(a)?o&&fn(s)?a:a.value:le(a)?n?go(a):mr(a):a}}class uo extends co{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Mt(i);if(!De(r)&&!Mt(r)&&(i=Y(i),r=Y(r)),!F(t)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=F(t)&&fn(s)?Number(s)<t.length:ee(t,s),a=Reflect.set(t,s,r,ue(t)?t:n);return t===Y(n)&&(o?mt(r,i)&&ot(t,"set",s,r):ot(t,"add",s,r)),a}deleteProperty(t,s){const r=ee(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&ot(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!et(s)||!lo.has(s))&&me(t,"has",s),r}ownKeys(t){return me(t,"iterate",F(t)?"length":It),Reflect.ownKeys(t)}}class Wa extends co{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ka=new uo,Ja=new Wa,Ga=new uo(!0);const Kr=e=>e,Vs=e=>Reflect.getPrototypeOf(e);function za(e,t,s){return function(...r){const n=this.__v_raw,i=Y(n),o=Qt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...r),u=s?Kr:t?Jr:_e;return!t&&me(i,"iterate",l?Wr:It),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function qs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qa(e,t){const s={get(n){const i=this.__v_raw,o=Y(i),a=Y(n);e||(mt(n,a)&&me(o,"get",n),me(o,"get",a));const{has:l}=Vs(o),c=t?Kr:e?Jr:_e;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&me(Y(n),"iterate",It),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=Y(i),a=Y(n);return e||(mt(n,a)&&me(o,"has",n),me(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=Y(a),c=t?Kr:e?Jr:_e;return!e&&me(l,"iterate",It),a.forEach((u,d)=>n.call(i,c(u),c(d),o))}};return ke(s,e?{add:qs("add"),set:qs("set"),delete:qs("delete"),clear:qs("clear")}:{add(n){!t&&!De(n)&&!Mt(n)&&(n=Y(n));const i=Y(this);return Vs(i).has.call(i,n)||(i.add(n),ot(i,"add",n,n)),this},set(n,i){!t&&!De(i)&&!Mt(i)&&(i=Y(i));const o=Y(this),{has:a,get:l}=Vs(o);let c=a.call(o,n);c||(n=Y(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?mt(i,u)&&ot(o,"set",n,i):ot(o,"add",n,i),this},delete(n){const i=Y(this),{has:o,get:a}=Vs(i);let l=o.call(i,n);l||(n=Y(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&ot(i,"delete",n,void 0),c},clear(){const n=Y(this),i=n.size!==0,o=n.clear();return i&&ot(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=za(n,e,t)}),s}function yn(e,t){const s=Qa(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(ee(s,n)&&n in r?s:r,n,i)}const Xa={get:yn(!1,!1)},Ya={get:yn(!1,!0)},Za={get:yn(!0,!1)};const ho=new WeakMap,fo=new WeakMap,po=new WeakMap,el=new WeakMap;function tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sl(e){return e.__v_skip||!Object.isExtensible(e)?0:tl(Ta(e))}function mr(e){return Mt(e)?e:bn(e,!1,Ka,Xa,ho)}function rl(e){return bn(e,!1,Ga,Ya,fo)}function go(e){return bn(e,!0,Ja,Za,po)}function bn(e,t,s,r,n){if(!le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=sl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function _t(e){return Mt(e)?_t(e.__v_raw):!!(e&&e.__v_isReactive)}function Mt(e){return!!(e&&e.__v_isReadonly)}function De(e){return!!(e&&e.__v_isShallow)}function wn(e){return e?!!e.__v_raw:!1}function Y(e){const t=e&&e.__v_raw;return t?Y(t):e}function An(e){return!ee(e,"__v_skip")&&Object.isExtensible(e)&&Ji(e,"__v_skip",!0),e}const _e=e=>le(e)?mr(e):e,Jr=e=>le(e)?go(e):e;function ue(e){return e?e.__v_isRef===!0:!1}function J(e){return vo(e,!1)}function nl(e){return vo(e,!0)}function vo(e,t){return ue(e)?e:new il(e,t)}class il{constructor(t,s){this.dep=new _n,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Y(t),this._value=s?t:_e(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||De(t)||Mt(t);t=r?t:Y(t),mt(t,s)&&(this._rawValue=t,this._value=r?t:_e(t),this.dep.trigger())}}function Xt(e){return ue(e)?e.value:e}const ol={get:(e,t,s)=>t==="__v_raw"?e:Xt(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function mo(e){return _t(e)?e:new Proxy(e,ol)}function al(e){const t=F(e)?new Array(e.length):{};for(const s in e)t[s]=cl(e,s);return t}class ll{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Fa(Y(this._object),this._key)}}function cl(e,t,s){const r=e[t];return ue(r)?r:new ll(e,t,s)}class ul{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new _n(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Rs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return so(this,!0),!0}get value(){const t=this.dep.track();return io(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function dl(e,t,s=!1){let r,n;return q(e)?r=e:(r=e.get,n=e.set),new ul(r,n,s)}const Ws={},ir=new WeakMap;let xt;function hl(e,t=!1,s=xt){if(s){let r=ir.get(s);r||ir.set(s,r=[]),r.push(e)}}function fl(e,t,s=re){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=m=>n?m:De(m)||n===!1||n===0?at(m,1):at(m);let u,d,p,g,y=!1,T=!1;if(ue(e)?(d=()=>e.value,y=De(e)):_t(e)?(d=()=>c(e),y=!0):F(e)?(T=!0,y=e.some(m=>_t(m)||De(m)),d=()=>e.map(m=>{if(ue(m))return m.value;if(_t(m))return c(m);if(q(m))return l?l(m,2):m()})):q(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){kt();try{p()}finally{St()}}const m=xt;xt=u;try{return l?l(e,3,[g]):e(g)}finally{xt=m}}:d=Ye,t&&n){const m=d,j=n===!0?1/0:n;d=()=>at(m(),j)}const C=Zi(),I=()=>{u.stop(),C&&C.active&&hn(C.effects,u)};if(i&&t){const m=t;t=(...j)=>{m(...j),I()}}let U=T?new Array(e.length).fill(Ws):Ws;const E=m=>{if(!(!(u.flags&1)||!u.dirty&&!m))if(t){const j=u.run();if(n||y||(T?j.some((Ue,fe)=>mt(Ue,U[fe])):mt(j,U))){p&&p();const Ue=xt;xt=u;try{const fe=[j,U===Ws?void 0:T&&U[0]===Ws?[]:U,g];l?l(t,3,fe):t(...fe),U=j}finally{xt=Ue}}}else u.run()};return a&&a(E),u=new eo(d),u.scheduler=o?()=>o(E,!1):E,g=m=>hl(m,!1,u),p=u.onStop=()=>{const m=ir.get(u);if(m){if(l)l(m,4);else for(const j of m)j();ir.delete(u)}},t?r?E(!0):U=u.run():o?o(E.bind(null,!0),!0):u.run(),I.pause=u.pause.bind(u),I.resume=u.resume.bind(u),I.stop=I,I}function at(e,t=1/0,s){if(t<=0||!le(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ue(e))at(e.value,t,s);else if(F(e))for(let r=0;r<e.length;r++)at(e[r],t,s);else if(ns(e)||Qt(e))e.forEach(r=>{at(r,t,s)});else if(Wi(e)){for(const r in e)at(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&at(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ds(e,t,s,r){try{return r?e(...r):e()}catch(n){_r(n,t,s)}}function tt(e,t,s,r){if(q(e)){const n=Ds(e,t,s,r);return n&&Vi(n)&&n.catch(i=>{_r(i,t,s)}),n}if(F(e)){const n=[];for(let i=0;i<e.length;i++)n.push(tt(e[i],t,s,r));return n}}function _r(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||re;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){kt(),Ds(i,null,10,[e,l,c]),St();return}}pl(e,s,n,r,o)}function pl(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const Ae=[];let ze=-1;const Yt=[];let ft=null,Gt=0;const _o=Promise.resolve();let or=null;function kn(e){const t=or||_o;return e?t.then(this?e.bind(this):e):t}function gl(e){let t=ze+1,s=Ae.length;for(;t<s;){const r=t+s>>>1,n=Ae[r],i=Is(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function Sn(e){if(!(e.flags&1)){const t=Is(e),s=Ae[Ae.length-1];!s||!(e.flags&2)&&t>=Is(s)?Ae.push(e):Ae.splice(gl(t),0,e),e.flags|=1,yo()}}function yo(){or||(or=_o.then(wo))}function vl(e){F(e)?Yt.push(...e):ft&&e.id===-1?ft.splice(Gt+1,0,e):e.flags&1||(Yt.push(e),e.flags|=1),yo()}function qn(e,t,s=ze+1){for(;s<Ae.length;s++){const r=Ae[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ae.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bo(e){if(Yt.length){const t=[...new Set(Yt)].sort((s,r)=>Is(s)-Is(r));if(Yt.length=0,ft){ft.push(...t);return}for(ft=t,Gt=0;Gt<ft.length;Gt++){const s=ft[Gt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ft=null,Gt=0}}const Is=e=>e.id==null?e.flags&2?-1:1/0:e.id;function wo(e){try{for(ze=0;ze<Ae.length;ze++){const t=Ae[ze];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ds(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ze<Ae.length;ze++){const t=Ae[ze];t&&(t.flags&=-2)}ze=-1,Ae.length=0,bo(),or=null,(Ae.length||Yt.length)&&wo()}}let Te=null,Ao=null;function ar(e){const t=Te;return Te=e,Ao=e&&e.type.__scopeId||null,t}function ml(e,t=Te,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Zn(-1);const i=ar(t);let o;try{o=e(...n)}finally{ar(i),r._d&&Zn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function de(e,t){if(Te===null)return e;const s=Ar(Te),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=re]=t[n];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&at(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Et(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(kt(),tt(l,s,8,[e.el,a,e,t]),St())}}const _l=Symbol("_vte"),yl=e=>e.__isTeleport;function Cn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Cn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ko(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function bl(e){const t=mc(),s=nl(null);if(t){const n=t.refs===re?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>s.value,set:i=>s.value=i})}return s}function lr(e,t,s,r,n=!1){if(F(e)){e.forEach((y,T)=>lr(y,t&&(F(t)?t[T]:t),s,r,n));return}if(Ss(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&lr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?Ar(r.component):r.el,o=n?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===re?a.refs={}:a.refs,d=a.setupState,p=Y(d),g=d===re?()=>!1:y=>ee(p,y);if(c!=null&&c!==l&&(he(c)?(u[c]=null,g(c)&&(d[c]=null)):ue(c)&&(c.value=null)),q(l))Ds(l,a,12,[o,u]);else{const y=he(l),T=ue(l);if(y||T){const C=()=>{if(e.f){const I=y?g(l)?d[l]:u[l]:l.value;n?F(I)&&hn(I,i):F(I)?I.includes(i)||I.push(i):y?(u[l]=[i],g(l)&&(d[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else y?(u[l]=o,g(l)&&(d[l]=o)):T&&(l.value=o,e.k&&(u[e.k]=o))};o?(C.id=-1,Re(C,s)):C()}}}pr().requestIdleCallback;pr().cancelIdleCallback;const Ss=e=>!!e.type.__asyncLoader,So=e=>e.type.__isKeepAlive;function wl(e,t){Co(e,"a",t)}function Al(e,t){Co(e,"da",t)}function Co(e,t,s=ve){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(yr(t,r,s),s){let n=s.parent;for(;n&&n.parent;)So(n.parent.vnode)&&kl(r,t,s,n),n=n.parent}}function kl(e,t,s,r){const n=yr(t,e,r,!0);Eo(()=>{hn(r[t],n)},s)}function yr(e,t,s=ve,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{kt();const a=Fs(s),l=tt(t,s,e,o);return a(),St(),l});return r?n.unshift(i):n.push(i),i}}const ct=e=>(t,s=ve)=>{(!Us||e==="sp")&&yr(e,(...r)=>t(...r),s)},Sl=ct("bm"),En=ct("m"),Cl=ct("bu"),El=ct("u"),Tl=ct("bum"),Eo=ct("um"),Ol=ct("sp"),xl=ct("rtg"),Pl=ct("rtc");function Rl(e,t=ve){yr("ec",e,t)}const jl=Symbol.for("v-ndc");function $t(e,t,s,r){let n;const i=s,o=F(e);if(o||he(e)){const a=o&&_t(e);let l=!1;a&&(l=!De(e),e=vr(e)),n=new Array(e.length);for(let c=0,u=e.length;c<u;c++)n[c]=t(l?_e(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(le(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=t(e[u],u,l,i)}}else n=[];return n}const Gr=e=>e?Go(e)?Ar(e):Gr(e.parent):null,Cs=ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gr(e.parent),$root:e=>Gr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Oo(e),$forceUpdate:e=>e.f||(e.f=()=>{Sn(e.update)}),$nextTick:e=>e.n||(e.n=kn.bind(e.proxy)),$watch:e=>tc.bind(e)}),jr=(e,t)=>e!==re&&!e.__isScriptSetup&&ee(e,t),Il={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(jr(r,t))return o[t]=1,r[t];if(n!==re&&ee(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&ee(c,t))return o[t]=3,i[t];if(s!==re&&ee(s,t))return o[t]=4,s[t];zr&&(o[t]=0)}}const u=Cs[t];let d,p;if(u)return t==="$attrs"&&me(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==re&&ee(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,ee(p,t))return p[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return jr(n,t)?(n[t]=s,!0):r!==re&&ee(r,t)?(r[t]=s,!0):ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==re&&ee(e,o)||jr(t,o)||(a=i[0])&&ee(a,o)||ee(r,o)||ee(Cs,o)||ee(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ee(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Wn(e){return F(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let zr=!0;function $l(e){const t=Oo(e),s=e.proxy,r=e.ctx;zr=!1,t.beforeCreate&&Kn(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:p,beforeUpdate:g,updated:y,activated:T,deactivated:C,beforeDestroy:I,beforeUnmount:U,destroyed:E,unmounted:m,render:j,renderTracked:Ue,renderTriggered:fe,errorCaptured:K,serverPrefetch:G,expose:te,inheritAttrs:Se,components:Le,directives:He,filters:st}=t;if(c&&Ul(c,r,null),o)for(const V in o){const Z=o[V];q(Z)&&(r[V]=Z.bind(s))}if(n){const V=n.call(s,s);le(V)&&(e.data=mr(V))}if(zr=!0,i)for(const V in i){const Z=i[V],Ve=q(Z)?Z.bind(s,s):q(Z.get)?Z.get.bind(s,s):Ye,D=!q(Z)&&q(Z.set)?Z.set.bind(s):Ye,w=Oe({get:Ve,set:D});Object.defineProperty(r,V,{enumerable:!0,configurable:!0,get:()=>w.value,set:M=>w.value=M})}if(a)for(const V in a)To(a[V],r,s,V);if(l){const V=q(l)?l.call(s):l;Reflect.ownKeys(V).forEach(Z=>{Nl(Z,V[Z])})}u&&Kn(u,e,"c");function ce(V,Z){F(Z)?Z.forEach(Ve=>V(Ve.bind(s))):Z&&V(Z.bind(s))}if(ce(Sl,d),ce(En,p),ce(Cl,g),ce(El,y),ce(wl,T),ce(Al,C),ce(Rl,K),ce(Pl,Ue),ce(xl,fe),ce(Tl,U),ce(Eo,m),ce(Ol,G),F(te))if(te.length){const V=e.exposed||(e.exposed={});te.forEach(Z=>{Object.defineProperty(V,Z,{get:()=>s[Z],set:Ve=>s[Z]=Ve})})}else e.exposed||(e.exposed={});j&&e.render===Ye&&(e.render=j),Se!=null&&(e.inheritAttrs=Se),Le&&(e.components=Le),He&&(e.directives=He),G&&ko(e)}function Ul(e,t,s=Ye){F(e)&&(e=Qr(e));for(const r in e){const n=e[r];let i;le(n)?"default"in n?i=Es(n.from||r,n.default,!0):i=Es(n.from||r):i=Es(n),ue(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Kn(e,t,s){tt(F(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function To(e,t,s,r){let n=r.includes(".")?Ho(s,r):()=>s[r];if(he(e)){const i=t[e];q(i)&&yt(n,i)}else if(q(e))yt(n,e.bind(s));else if(le(e))if(F(e))e.forEach(i=>To(i,t,s,r));else{const i=q(e.handler)?e.handler.bind(s):t[e.handler];q(i)&&yt(n,i,e)}}function Oo(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(c=>cr(l,c,o,!0)),cr(l,t,o)),le(t)&&i.set(t,l),l}function cr(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&cr(e,i,s,!0),n&&n.forEach(o=>cr(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=Ll[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Ll={data:Jn,props:Gn,emits:Gn,methods:ys,computed:ys,beforeCreate:be,created:be,beforeMount:be,mounted:be,beforeUpdate:be,updated:be,beforeDestroy:be,beforeUnmount:be,destroyed:be,unmounted:be,activated:be,deactivated:be,errorCaptured:be,serverPrefetch:be,components:ys,directives:ys,watch:Dl,provide:Jn,inject:Ml};function Jn(e,t){return t?e?function(){return ke(q(e)?e.call(this,this):e,q(t)?t.call(this,this):t)}:t:e}function Ml(e,t){return ys(Qr(e),Qr(t))}function Qr(e){if(F(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function be(e,t){return e?[...new Set([].concat(e,t))]:t}function ys(e,t){return e?ke(Object.create(null),e,t):t}function Gn(e,t){return e?F(e)&&F(t)?[...new Set([...e,...t])]:ke(Object.create(null),Wn(e),Wn(t??{})):t}function Dl(e,t){if(!e)return t;if(!t)return e;const s=ke(Object.create(null),e);for(const r in t)s[r]=be(e[r],t[r]);return s}function xo(){return{app:null,config:{isNativeTag:Ca,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bl=0;function Fl(e,t){return function(r,n=null){q(r)||(r=ke({},r)),n!=null&&!le(n)&&(n=null);const i=xo(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Bl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:kc,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&q(u.install)?(o.add(u),u.install(c,...d)):q(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,p){if(!l){const g=c._ceVNode||$e(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(g,u,p),l=!0,c._container=u,u.__vue_app__=c,Ar(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(tt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Ut;Ut=c;try{return u()}finally{Ut=d}}};return c}}let Ut=null;function Nl(e,t){if(ve){let s=ve.provides;const r=ve.parent&&ve.parent.provides;r===s&&(s=ve.provides=Object.create(r)),s[e]=t}}function Es(e,t,s=!1){const r=ve||Te;if(r||Ut){const n=Ut?Ut._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&q(t)?t.call(r&&r.proxy):t}}function Hl(){return!!(ve||Te||Ut)}const Po={},Ro=()=>Object.create(Po),jo=e=>Object.getPrototypeOf(e)===Po;function Vl(e,t,s,r=!1){const n={},i=Ro();e.propsDefaults=Object.create(null),Io(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:rl(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function ql(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=Y(n),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let p=u[d];if(br(e.emitsOptions,p))continue;const g=t[p];if(l)if(ee(i,p))g!==i[p]&&(i[p]=g,c=!0);else{const y=wt(p);n[y]=Xr(l,a,y,g,e,!1)}else g!==i[p]&&(i[p]=g,c=!0)}}}else{Io(e,t,n,i)&&(c=!0);let u;for(const d in a)(!t||!ee(t,d)&&((u=Bt(d))===d||!ee(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(n[d]=Xr(l,a,d,void 0,e,!0)):delete n[d]);if(i!==a)for(const d in i)(!t||!ee(t,d))&&(delete i[d],c=!0)}c&&ot(e.attrs,"set","")}function Io(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ws(l))continue;const c=t[l];let u;n&&ee(n,u=wt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:br(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=Y(s),c=a||re;for(let u=0;u<i.length;u++){const d=i[u];s[d]=Xr(n,l,d,c[d],e,!ee(c,d))}}return o}function Xr(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=ee(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=Fs(n);r=c[s]=l.call(null,t),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Bt(s))&&(r=!0))}return r}const Wl=new WeakMap;function $o(e,t,s=!1){const r=s?Wl:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!q(e)){const u=d=>{l=!0;const[p,g]=$o(d,t,!0);ke(o,p),g&&a.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return le(e)&&r.set(e,zt),zt;if(F(i))for(let u=0;u<i.length;u++){const d=wt(i[u]);zn(d)&&(o[d]=re)}else if(i)for(const u in i){const d=wt(u);if(zn(d)){const p=i[u],g=o[d]=F(p)||q(p)?{type:p}:ke({},p),y=g.type;let T=!1,C=!0;if(F(y))for(let I=0;I<y.length;++I){const U=y[I],E=q(U)&&U.name;if(E==="Boolean"){T=!0;break}else E==="String"&&(C=!1)}else T=q(y)&&y.name==="Boolean";g[0]=T,g[1]=C,(T||ee(g,"default"))&&a.push(d)}}const c=[o,a];return le(e)&&r.set(e,c),c}function zn(e){return e[0]!=="$"&&!ws(e)}const Uo=e=>e[0]==="_"||e==="$stable",Tn=e=>F(e)?e.map(Qe):[Qe(e)],Kl=(e,t,s)=>{if(t._n)return t;const r=ml((...n)=>Tn(t(...n)),s);return r._c=!1,r},Lo=(e,t,s)=>{const r=e._ctx;for(const n in e){if(Uo(n))continue;const i=e[n];if(q(i))t[n]=Kl(n,i,r);else if(i!=null){const o=Tn(i);t[n]=()=>o}}},Mo=(e,t)=>{const s=Tn(t);e.slots.default=()=>s},Do=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},Jl=(e,t,s)=>{const r=e.slots=Ro();if(e.vnode.shapeFlag&32){const n=t._;n?(Do(r,t,s),s&&Ji(r,"_",n,!0)):Lo(t,r)}else t&&Mo(e,t)},Gl=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=re;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Do(n,t,s):(i=!t.$stable,Lo(t,n)),o=t}else t&&(Mo(e,t),o={default:1});if(i)for(const a in n)!Uo(a)&&o[a]==null&&delete n[a]},Re=lc;function zl(e){return Ql(e)}function Ql(e,t){const s=pr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:p,setScopeId:g=Ye,insertStaticContent:y}=e,T=(h,f,v,k=null,b=null,A=null,P=void 0,x=null,O=!!f.dynamicChildren)=>{if(h===f)return;h&&!us(h,f)&&(k=Hs(h),M(h,b,A,!0),h=null),f.patchFlag===-2&&(O=!1,f.dynamicChildren=null);const{type:S,ref:N,shapeFlag:R}=f;switch(S){case wr:C(h,f,v,k);break;case Dt:I(h,f,v,k);break;case $r:h==null&&U(f,v,k,P);break;case ye:Le(h,f,v,k,b,A,P,x,O);break;default:R&1?j(h,f,v,k,b,A,P,x,O):R&6?He(h,f,v,k,b,A,P,x,O):(R&64||R&128)&&S.process(h,f,v,k,b,A,P,x,O,as)}N!=null&&b&&lr(N,h&&h.ref,A,f||h,!f)},C=(h,f,v,k)=>{if(h==null)r(f.el=a(f.children),v,k);else{const b=f.el=h.el;f.children!==h.children&&c(b,f.children)}},I=(h,f,v,k)=>{h==null?r(f.el=l(f.children||""),v,k):f.el=h.el},U=(h,f,v,k)=>{[h.el,h.anchor]=y(h.children,f,v,k,h.el,h.anchor)},E=({el:h,anchor:f},v,k)=>{let b;for(;h&&h!==f;)b=p(h),r(h,v,k),h=b;r(f,v,k)},m=({el:h,anchor:f})=>{let v;for(;h&&h!==f;)v=p(h),n(h),h=v;n(f)},j=(h,f,v,k,b,A,P,x,O)=>{f.type==="svg"?P="svg":f.type==="math"&&(P="mathml"),h==null?Ue(f,v,k,b,A,P,x,O):G(h,f,b,A,P,x,O)},Ue=(h,f,v,k,b,A,P,x)=>{let O,S;const{props:N,shapeFlag:R,transition:B,dirs:H}=h;if(O=h.el=o(h.type,A,N&&N.is,N),R&8?u(O,h.children):R&16&&K(h.children,O,null,k,b,Ir(h,A),P,x),H&&Et(h,null,k,"created"),fe(O,h,h.scopeId,P,k),N){for(const ie in N)ie!=="value"&&!ws(ie)&&i(O,ie,null,N[ie],A,k);"value"in N&&i(O,"value",null,N.value,A),(S=N.onVnodeBeforeMount)&&Je(S,k,h)}H&&Et(h,null,k,"beforeMount");const X=Xl(b,B);X&&B.beforeEnter(O),r(O,f,v),((S=N&&N.onVnodeMounted)||X||H)&&Re(()=>{S&&Je(S,k,h),X&&B.enter(O),H&&Et(h,null,k,"mounted")},b)},fe=(h,f,v,k,b)=>{if(v&&g(h,v),k)for(let A=0;A<k.length;A++)g(h,k[A]);if(b){let A=b.subTree;if(f===A||qo(A.type)&&(A.ssContent===f||A.ssFallback===f)){const P=b.vnode;fe(h,P,P.scopeId,P.slotScopeIds,b.parent)}}},K=(h,f,v,k,b,A,P,x,O=0)=>{for(let S=O;S<h.length;S++){const N=h[S]=x?pt(h[S]):Qe(h[S]);T(null,N,f,v,k,b,A,P,x)}},G=(h,f,v,k,b,A,P)=>{const x=f.el=h.el;let{patchFlag:O,dynamicChildren:S,dirs:N}=f;O|=h.patchFlag&16;const R=h.props||re,B=f.props||re;let H;if(v&&Tt(v,!1),(H=B.onVnodeBeforeUpdate)&&Je(H,v,f,h),N&&Et(f,h,v,"beforeUpdate"),v&&Tt(v,!0),(R.innerHTML&&B.innerHTML==null||R.textContent&&B.textContent==null)&&u(x,""),S?te(h.dynamicChildren,S,x,v,k,Ir(f,b),A):P||Z(h,f,x,null,v,k,Ir(f,b),A,!1),O>0){if(O&16)Se(x,R,B,v,b);else if(O&2&&R.class!==B.class&&i(x,"class",null,B.class,b),O&4&&i(x,"style",R.style,B.style,b),O&8){const X=f.dynamicProps;for(let ie=0;ie<X.length;ie++){const se=X[ie],xe=R[se],Ce=B[se];(Ce!==xe||se==="value")&&i(x,se,xe,Ce,b,v)}}O&1&&h.children!==f.children&&u(x,f.children)}else!P&&S==null&&Se(x,R,B,v,b);((H=B.onVnodeUpdated)||N)&&Re(()=>{H&&Je(H,v,f,h),N&&Et(f,h,v,"updated")},k)},te=(h,f,v,k,b,A,P)=>{for(let x=0;x<f.length;x++){const O=h[x],S=f[x],N=O.el&&(O.type===ye||!us(O,S)||O.shapeFlag&70)?d(O.el):v;T(O,S,N,null,k,b,A,P,!0)}},Se=(h,f,v,k,b)=>{if(f!==v){if(f!==re)for(const A in f)!ws(A)&&!(A in v)&&i(h,A,f[A],null,b,k);for(const A in v){if(ws(A))continue;const P=v[A],x=f[A];P!==x&&A!=="value"&&i(h,A,x,P,b,k)}"value"in v&&i(h,"value",f.value,v.value,b)}},Le=(h,f,v,k,b,A,P,x,O)=>{const S=f.el=h?h.el:a(""),N=f.anchor=h?h.anchor:a("");let{patchFlag:R,dynamicChildren:B,slotScopeIds:H}=f;H&&(x=x?x.concat(H):H),h==null?(r(S,v,k),r(N,v,k),K(f.children||[],v,N,b,A,P,x,O)):R>0&&R&64&&B&&h.dynamicChildren?(te(h.dynamicChildren,B,v,b,A,P,x),(f.key!=null||b&&f===b.subTree)&&Bo(h,f,!0)):Z(h,f,v,N,b,A,P,x,O)},He=(h,f,v,k,b,A,P,x,O)=>{f.slotScopeIds=x,h==null?f.shapeFlag&512?b.ctx.activate(f,v,k,P,O):st(f,v,k,b,A,P,O):Ct(h,f,O)},st=(h,f,v,k,b,A,P)=>{const x=h.component=vc(h,k,b);if(So(h)&&(x.ctx.renderer=as),_c(x,!1,P),x.asyncDep){if(b&&b.registerDep(x,ce,P),!h.el){const O=x.subTree=$e(Dt);I(null,O,f,v)}}else ce(x,h,f,v,b,A,P)},Ct=(h,f,v)=>{const k=f.component=h.component;if(oc(h,f,v))if(k.asyncDep&&!k.asyncResolved){V(k,f,v);return}else k.next=f,k.update();else f.el=h.el,k.vnode=f},ce=(h,f,v,k,b,A,P)=>{const x=()=>{if(h.isMounted){let{next:R,bu:B,u:H,parent:X,vnode:ie}=h;{const We=Fo(h);if(We){R&&(R.el=ie.el,V(h,R,P)),We.asyncDep.then(()=>{h.isUnmounted||x()});return}}let se=R,xe;Tt(h,!1),R?(R.el=ie.el,V(h,R,P)):R=ie,B&&Xs(B),(xe=R.props&&R.props.onVnodeBeforeUpdate)&&Je(xe,X,R,ie),Tt(h,!0);const Ce=Xn(h),qe=h.subTree;h.subTree=Ce,T(qe,Ce,d(qe.el),Hs(qe),h,b,A),R.el=Ce.el,se===null&&ac(h,Ce.el),H&&Re(H,b),(xe=R.props&&R.props.onVnodeUpdated)&&Re(()=>Je(xe,X,R,ie),b)}else{let R;const{el:B,props:H}=f,{bm:X,m:ie,parent:se,root:xe,type:Ce}=h,qe=Ss(f);Tt(h,!1),X&&Xs(X),!qe&&(R=H&&H.onVnodeBeforeMount)&&Je(R,se,f),Tt(h,!0);{xe.ce&&xe.ce._injectChildStyle(Ce);const We=h.subTree=Xn(h);T(null,We,v,k,h,b,A),f.el=We.el}if(ie&&Re(ie,b),!qe&&(R=H&&H.onVnodeMounted)){const We=f;Re(()=>Je(R,se,We),b)}(f.shapeFlag&256||se&&Ss(se.vnode)&&se.vnode.shapeFlag&256)&&h.a&&Re(h.a,b),h.isMounted=!0,f=v=k=null}};h.scope.on();const O=h.effect=new eo(x);h.scope.off();const S=h.update=O.run.bind(O),N=h.job=O.runIfDirty.bind(O);N.i=h,N.id=h.uid,O.scheduler=()=>Sn(N),Tt(h,!0),S()},V=(h,f,v)=>{f.component=h;const k=h.vnode.props;h.vnode=f,h.next=null,ql(h,f.props,k,v),Gl(h,f.children,v),kt(),qn(h),St()},Z=(h,f,v,k,b,A,P,x,O=!1)=>{const S=h&&h.children,N=h?h.shapeFlag:0,R=f.children,{patchFlag:B,shapeFlag:H}=f;if(B>0){if(B&128){D(S,R,v,k,b,A,P,x,O);return}else if(B&256){Ve(S,R,v,k,b,A,P,x,O);return}}H&8?(N&16&&os(S,b,A),R!==S&&u(v,R)):N&16?H&16?D(S,R,v,k,b,A,P,x,O):os(S,b,A,!0):(N&8&&u(v,""),H&16&&K(R,v,k,b,A,P,x,O))},Ve=(h,f,v,k,b,A,P,x,O)=>{h=h||zt,f=f||zt;const S=h.length,N=f.length,R=Math.min(S,N);let B;for(B=0;B<R;B++){const H=f[B]=O?pt(f[B]):Qe(f[B]);T(h[B],H,v,null,b,A,P,x,O)}S>N?os(h,b,A,!0,!1,R):K(f,v,k,b,A,P,x,O,R)},D=(h,f,v,k,b,A,P,x,O)=>{let S=0;const N=f.length;let R=h.length-1,B=N-1;for(;S<=R&&S<=B;){const H=h[S],X=f[S]=O?pt(f[S]):Qe(f[S]);if(us(H,X))T(H,X,v,null,b,A,P,x,O);else break;S++}for(;S<=R&&S<=B;){const H=h[R],X=f[B]=O?pt(f[B]):Qe(f[B]);if(us(H,X))T(H,X,v,null,b,A,P,x,O);else break;R--,B--}if(S>R){if(S<=B){const H=B+1,X=H<N?f[H].el:k;for(;S<=B;)T(null,f[S]=O?pt(f[S]):Qe(f[S]),v,X,b,A,P,x,O),S++}}else if(S>B)for(;S<=R;)M(h[S],b,A,!0),S++;else{const H=S,X=S,ie=new Map;for(S=X;S<=B;S++){const Pe=f[S]=O?pt(f[S]):Qe(f[S]);Pe.key!=null&&ie.set(Pe.key,S)}let se,xe=0;const Ce=B-X+1;let qe=!1,We=0;const ls=new Array(Ce);for(S=0;S<Ce;S++)ls[S]=0;for(S=H;S<=R;S++){const Pe=h[S];if(xe>=Ce){M(Pe,b,A,!0);continue}let Ke;if(Pe.key!=null)Ke=ie.get(Pe.key);else for(se=X;se<=B;se++)if(ls[se-X]===0&&us(Pe,f[se])){Ke=se;break}Ke===void 0?M(Pe,b,A,!0):(ls[Ke-X]=S+1,Ke>=We?We=Ke:qe=!0,T(Pe,f[Ke],v,null,b,A,P,x,O),xe++)}const Dn=qe?Yl(ls):zt;for(se=Dn.length-1,S=Ce-1;S>=0;S--){const Pe=X+S,Ke=f[Pe],Bn=Pe+1<N?f[Pe+1].el:k;ls[S]===0?T(null,Ke,v,Bn,b,A,P,x,O):qe&&(se<0||S!==Dn[se]?w(Ke,v,Bn,2):se--)}}},w=(h,f,v,k,b=null)=>{const{el:A,type:P,transition:x,children:O,shapeFlag:S}=h;if(S&6){w(h.component.subTree,f,v,k);return}if(S&128){h.suspense.move(f,v,k);return}if(S&64){P.move(h,f,v,as);return}if(P===ye){r(A,f,v);for(let R=0;R<O.length;R++)w(O[R],f,v,k);r(h.anchor,f,v);return}if(P===$r){E(h,f,v);return}if(k!==2&&S&1&&x)if(k===0)x.beforeEnter(A),r(A,f,v),Re(()=>x.enter(A),b);else{const{leave:R,delayLeave:B,afterLeave:H}=x,X=()=>r(A,f,v),ie=()=>{R(A,()=>{X(),H&&H()})};B?B(A,X,ie):ie()}else r(A,f,v)},M=(h,f,v,k=!1,b=!1)=>{const{type:A,props:P,ref:x,children:O,dynamicChildren:S,shapeFlag:N,patchFlag:R,dirs:B,cacheIndex:H}=h;if(R===-2&&(b=!1),x!=null&&lr(x,null,v,h,!0),H!=null&&(f.renderCache[H]=void 0),N&256){f.ctx.deactivate(h);return}const X=N&1&&B,ie=!Ss(h);let se;if(ie&&(se=P&&P.onVnodeBeforeUnmount)&&Je(se,f,h),N&6)Sa(h.component,v,k);else{if(N&128){h.suspense.unmount(v,k);return}X&&Et(h,null,f,"beforeUnmount"),N&64?h.type.remove(h,f,v,as,k):S&&!S.hasOnce&&(A!==ye||R>0&&R&64)?os(S,f,v,!1,!0):(A===ye&&R&384||!b&&N&16)&&os(O,f,v),k&&Me(h)}(ie&&(se=P&&P.onVnodeUnmounted)||X)&&Re(()=>{se&&Je(se,f,h),X&&Et(h,null,f,"unmounted")},v)},Me=h=>{const{type:f,el:v,anchor:k,transition:b}=h;if(f===ye){ka(v,k);return}if(f===$r){m(h);return}const A=()=>{n(v),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(h.shapeFlag&1&&b&&!b.persisted){const{leave:P,delayLeave:x}=b,O=()=>P(v,A);x?x(h.el,A,O):O()}else A()},ka=(h,f)=>{let v;for(;h!==f;)v=p(h),n(h),h=v;n(f)},Sa=(h,f,v)=>{const{bum:k,scope:b,job:A,subTree:P,um:x,m:O,a:S}=h;Qn(O),Qn(S),k&&Xs(k),b.stop(),A&&(A.flags|=8,M(P,h,f,v)),x&&Re(x,f),Re(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},os=(h,f,v,k=!1,b=!1,A=0)=>{for(let P=A;P<h.length;P++)M(h[P],f,v,k,b)},Hs=h=>{if(h.shapeFlag&6)return Hs(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),v=f&&f[_l];return v?p(v):f};let Er=!1;const Mn=(h,f,v)=>{h==null?f._vnode&&M(f._vnode,null,null,!0):T(f._vnode||null,h,f,null,null,null,v),f._vnode=h,Er||(Er=!0,qn(),bo(),Er=!1)},as={p:T,um:M,m:w,r:Me,mt:st,mc:K,pc:Z,pbc:te,n:Hs,o:e};return{render:Mn,hydrate:void 0,createApp:Fl(Mn)}}function Ir({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Tt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Bo(e,t,s=!1){const r=e.children,n=t.children;if(F(r)&&F(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=pt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Bo(o,a)),a.type===wr&&(a.el=o.el)}}function Yl(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(n=s[s.length-1],e[n]<c){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<c?i=a+1:o=a;c<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Fo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fo(t)}function Qn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zl=Symbol.for("v-scx"),ec=()=>Es(Zl);function yt(e,t,s){return No(e,t,s)}function No(e,t,s=re){const{immediate:r,deep:n,flush:i,once:o}=s,a=ke({},s),l=t&&r||!t&&i!=="post";let c;if(Us){if(i==="sync"){const g=ec();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Ye,g.resume=Ye,g.pause=Ye,g}}const u=ve;a.call=(g,y,T)=>tt(g,u,y,T);let d=!1;i==="post"?a.scheduler=g=>{Re(g,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,y)=>{y?g():Sn(g)}),a.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const p=fl(e,t,a);return Us&&(c?c.push(p):l&&p()),p}function tc(e,t,s){const r=this.proxy,n=he(e)?e.includes(".")?Ho(r,e):()=>r[e]:e.bind(r,r);let i;q(t)?i=t:(i=t.handler,s=t);const o=Fs(this),a=No(n,i.bind(r),s);return o(),a}function Ho(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const sc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${wt(t)}Modifiers`]||e[`${Bt(t)}Modifiers`];function rc(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||re;let n=s;const i=t.startsWith("update:"),o=i&&sc(r,t.slice(7));o&&(o.trim&&(n=s.map(u=>he(u)?u.trim():u)),o.number&&(n=s.map(rr)));let a,l=r[a=Tr(t)]||r[a=Tr(wt(t))];!l&&i&&(l=r[a=Tr(Bt(t))]),l&&tt(l,e,6,n);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,tt(c,e,6,n)}}function Vo(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!q(e)){const l=c=>{const u=Vo(c,t,!0);u&&(a=!0,ke(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(le(e)&&r.set(e,null),null):(F(i)?i.forEach(l=>o[l]=null):ke(o,i),le(e)&&r.set(e,o),o)}function br(e,t){return!e||!hr(t)?!1:(t=t.slice(2).replace(/Once$/,""),ee(e,t[0].toLowerCase()+t.slice(1))||ee(e,Bt(t))||ee(e,t))}function Xn(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:p,setupState:g,ctx:y,inheritAttrs:T}=e,C=ar(e);let I,U;try{if(s.shapeFlag&4){const m=n||r,j=m;I=Qe(c.call(j,m,u,d,g,p,y)),U=a}else{const m=t;I=Qe(m.length>1?m(d,{attrs:a,slots:o,emit:l}):m(d,null)),U=t.props?a:nc(a)}}catch(m){Ts.length=0,_r(m,e,1),I=$e(Dt)}let E=I;if(U&&T!==!1){const m=Object.keys(U),{shapeFlag:j}=E;m.length&&j&7&&(i&&m.some(dn)&&(U=ic(U,i)),E=es(E,U,!1,!0))}return s.dirs&&(E=es(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&Cn(E,s.transition),I=E,ar(C),I}const nc=e=>{let t;for(const s in e)(s==="class"||s==="style"||hr(s))&&((t||(t={}))[s]=e[s]);return t},ic=(e,t)=>{const s={};for(const r in e)(!dn(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function oc(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Yn(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const p=u[d];if(o[p]!==r[p]&&!br(c,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Yn(r,o,c):!0:!!o;return!1}function Yn(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!br(s,i))return!0}return!1}function ac({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const qo=e=>e.__isSuspense;function lc(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):vl(e)}const ye=Symbol.for("v-fgt"),wr=Symbol.for("v-txt"),Dt=Symbol.for("v-cmt"),$r=Symbol.for("v-stc"),Ts=[];let Ie=null;function $(e=!1){Ts.push(Ie=e?null:[])}function cc(){Ts.pop(),Ie=Ts[Ts.length-1]||null}let $s=1;function Zn(e,t=!1){$s+=e,e<0&&Ie&&t&&(Ie.hasOnce=!0)}function Wo(e){return e.dynamicChildren=$s>0?Ie||zt:null,cc(),$s>0&&Ie&&Ie.push(e),e}function L(e,t,s,r,n,i){return Wo(_(e,t,s,r,n,i,!0))}function uc(e,t,s,r,n){return Wo($e(e,t,s,r,n,!0))}function Ko(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}const Jo=({key:e})=>e??null,Ys=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?he(e)||ue(e)||q(e)?{i:Te,r:e,k:t,f:!!s}:e:null);function _(e,t=null,s=null,r=0,n=null,i=e===ye?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jo(t),ref:t&&Ys(t),scopeId:Ao,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Te};return a?(On(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=he(s)?8:16),$s>0&&!o&&Ie&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ie.push(l),l}const $e=dc;function dc(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===jl)&&(e=Dt),Ko(e)){const a=es(e,t,!0);return s&&On(a,s),$s>0&&!i&&Ie&&(a.shapeFlag&6?Ie[Ie.indexOf(e)]=a:Ie.push(a)),a.patchFlag=-2,a}if(Ac(e)&&(e=e.__vccOpts),t){t=hc(t);let{class:a,style:l}=t;a&&!he(a)&&(t.class=ne(a)),le(l)&&(wn(l)&&!F(l)&&(l=ke({},l)),t.style=gr(l))}const o=he(e)?1:qo(e)?128:yl(e)?64:le(e)?4:q(e)?2:0;return _(e,t,s,r,n,o,i,!0)}function hc(e){return e?wn(e)||jo(e)?ke({},e):e:null}function es(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?fc(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Jo(c),ref:t&&t.ref?s&&i?F(i)?i.concat(Ys(t)):[i,Ys(t)]:Ys(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&es(e.ssContent),ssFallback:e.ssFallback&&es(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Cn(u,l.clone(u)),u}function Bs(e=" ",t=0){return $e(wr,null,e,t)}function z(e="",t=!1){return t?($(),uc(Dt,null,e)):$e(Dt,null,e)}function Qe(e){return e==null||typeof e=="boolean"?$e(Dt):F(e)?$e(ye,null,e.slice()):Ko(e)?pt(e):$e(wr,null,String(e))}function pt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:es(e)}function On(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(F(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),On(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!jo(t)?t._ctx=Te:n===3&&Te&&(Te.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else q(t)?(t={default:t,_ctx:Te},s=32):(t=String(t),r&64?(s=16,t=[Bs(t)]):s=8);e.children=t,e.shapeFlag|=s}function fc(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=ne([t.class,r.class]));else if(n==="style")t.style=gr([t.style,r.style]);else if(hr(n)){const i=t[n],o=r[n];o&&i!==o&&!(F(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function Je(e,t,s,r=null){tt(e,t,7,[s,r])}const pc=xo();let gc=0;function vc(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||pc,i={uid:gc++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$o(r,n),emitsOptions:Vo(r,n),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=rc.bind(null,i),e.ce&&e.ce(i),i}let ve=null;const mc=()=>ve||Te;let ur,Yr;{const e=pr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};ur=t("__VUE_INSTANCE_SETTERS__",s=>ve=s),Yr=t("__VUE_SSR_SETTERS__",s=>Us=s)}const Fs=e=>{const t=ve;return ur(e),e.scope.on(),()=>{e.scope.off(),ur(t)}},ei=()=>{ve&&ve.scope.off(),ur(null)};function Go(e){return e.vnode.shapeFlag&4}let Us=!1;function _c(e,t=!1,s=!1){t&&Yr(t);const{props:r,children:n}=e.vnode,i=Go(e);Vl(e,r,i,t),Jl(e,n,s);const o=i?yc(e,t):void 0;return t&&Yr(!1),o}function yc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Il);const{setup:r}=s;if(r){kt();const n=e.setupContext=r.length>1?wc(e):null,i=Fs(e),o=Ds(r,e,0,[e.props,n]),a=Vi(o);if(St(),i(),(a||e.sp)&&!Ss(e)&&ko(e),a){if(o.then(ei,ei),t)return o.then(l=>{ti(e,l)}).catch(l=>{_r(l,e,0)});e.asyncDep=o}else ti(e,o)}else zo(e)}function ti(e,t,s){q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:le(t)&&(e.setupState=mo(t)),zo(e)}function zo(e,t,s){const r=e.type;e.render||(e.render=r.render||Ye);{const n=Fs(e);kt();try{$l(e)}finally{St(),n()}}}const bc={get(e,t){return me(e,"get",""),e[t]}};function wc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,bc),slots:e.slots,emit:e.emit,expose:t}}function Ar(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mo(An(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Cs)return Cs[s](e)},has(t,s){return s in t||s in Cs}})):e.proxy}function Ac(e){return q(e)&&"__vccOpts"in e}const Oe=(e,t)=>dl(e,t,Us),kc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zr;const si=typeof window<"u"&&window.trustedTypes;if(si)try{Zr=si.createPolicy("vue",{createHTML:e=>e})}catch{}const Qo=Zr?e=>Zr.createHTML(e):e=>e,Sc="http://www.w3.org/2000/svg",Cc="http://www.w3.org/1998/Math/MathML",nt=typeof document<"u"?document:null,ri=nt&&nt.createElement("template"),Ec={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?nt.createElementNS(Sc,e):t==="mathml"?nt.createElementNS(Cc,e):s?nt.createElement(e,{is:s}):nt.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>nt.createTextNode(e),createComment:e=>nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ri.innerHTML=Qo(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ri.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Tc=Symbol("_vtc");function Oc(e,t,s){const r=e[Tc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ni=Symbol("_vod"),xc=Symbol("_vsh"),Pc=Symbol(""),Rc=/(^|;)\s*display\s*:/;function jc(e,t,s){const r=e.style,n=he(s);let i=!1;if(s&&!n){if(t)if(he(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Zs(r,a,"")}else for(const o in t)s[o]==null&&Zs(r,o,"");for(const o in s)o==="display"&&(i=!0),Zs(r,o,s[o])}else if(n){if(t!==s){const o=r[Pc];o&&(s+=";"+o),r.cssText=s,i=Rc.test(s)}}else t&&e.removeAttribute("style");ni in e&&(e[ni]=i?r.display:"",e[xc]&&(r.display="none"))}const ii=/\s*!important$/;function Zs(e,t,s){if(F(s))s.forEach(r=>Zs(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Ic(e,t);ii.test(s)?e.setProperty(Bt(r),s.replace(ii,""),"important"):e[r]=s}}const oi=["Webkit","Moz","ms"],Ur={};function Ic(e,t){const s=Ur[t];if(s)return s;let r=wt(t);if(r!=="filter"&&r in e)return Ur[t]=r;r=Ki(r);for(let n=0;n<oi.length;n++){const i=oi[n]+r;if(i in e)return Ur[t]=i}return t}const ai="http://www.w3.org/1999/xlink";function li(e,t,s,r,n,i=Ua(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ai,t.slice(6,t.length)):e.setAttributeNS(ai,t,s):s==null||i&&!Gi(s)?e.removeAttribute(t):e.setAttribute(t,i?"":et(s)?String(s):s)}function ci(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Qo(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Gi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function lt(e,t,s,r){e.addEventListener(t,s,r)}function $c(e,t,s,r){e.removeEventListener(t,s,r)}const ui=Symbol("_vei");function Uc(e,t,s,r,n=null){const i=e[ui]||(e[ui]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Lc(t);if(r){const c=i[t]=Bc(r,n);lt(e,a,c,l)}else o&&($c(e,a,o,l),i[t]=void 0)}}const di=/(?:Once|Passive|Capture)$/;function Lc(e){let t;if(di.test(e)){t={};let r;for(;r=e.match(di);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Bt(e.slice(2)),t]}let Lr=0;const Mc=Promise.resolve(),Dc=()=>Lr||(Mc.then(()=>Lr=0),Lr=Date.now());function Bc(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;tt(Fc(r,s.value),t,5,[r])};return s.value=e,s.attached=Dc(),s}function Fc(e,t){if(F(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Nc=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?Oc(e,r,o):t==="style"?jc(e,s,r):hr(t)?dn(t)||Uc(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hc(e,t,r,o))?(ci(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&li(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!he(r))?ci(e,wt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),li(e,t,r,o))};function Hc(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&hi(t)&&q(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return hi(t)&&he(s)?!1:t in e}const At=e=>{const t=e.props["onUpdate:modelValue"]||!1;return F(t)?s=>Xs(t,s):t};function Vc(e){e.target.composing=!0}function fi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Be=Symbol("_assign"),bt={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[Be]=At(n);const i=r||n.props&&n.props.type==="number";lt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=rr(a)),e[Be](a)}),s&&lt(e,"change",()=>{e.value=e.value.trim()}),t||(lt(e,"compositionstart",Vc),lt(e,"compositionend",fi),lt(e,"change",fi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[Be]=At(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?rr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},er={deep:!0,created(e,t,s){e[Be]=At(s),lt(e,"change",()=>{const r=e._modelValue,n=ts(e),i=e.checked,o=e[Be];if(F(r)){const a=pn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(ns(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Xo(e,i))})},mounted:pi,beforeUpdate(e,t,s){e[Be]=At(s),pi(e,t,s)}};function pi(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(F(t))n=pn(t,r.props.value)>-1;else if(ns(t))n=t.has(r.props.value);else{if(t===s)return;n=Lt(t,Xo(e,!0))}e.checked!==n&&(e.checked=n)}const Rt={created(e,{value:t},s){e.checked=Lt(t,s.props.value),e[Be]=At(s),lt(e,"change",()=>{e[Be](ts(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[Be]=At(r),t!==s&&(e.checked=Lt(t,r.props.value))}},qc={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=ns(t);lt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?rr(ts(o)):ts(o));e[Be](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,kn(()=>{e._assigning=!1})}),e[Be]=At(r)},mounted(e,{value:t}){gi(e,t)},beforeUpdate(e,t,s){e[Be]=At(s)},updated(e,{value:t}){e._assigning||gi(e,t)}};function gi(e,t){const s=e.multiple,r=F(t);if(!(s&&!r&&!ns(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=ts(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=pn(t,a)>-1}else o.selected=t.has(a);else if(Lt(ts(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ts(e){return"_value"in e?e._value:e.value}function Xo(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Wc=["ctrl","shift","alt","meta"],Kc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wc.some(s=>e[`${s}Key`]&&!t.includes(s))},Yo=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=Kc[t[o]];if(a&&a(n,t))return}return e(n,...i)})},Jc=ke({patchProp:Nc},Ec);let vi;function Gc(){return vi||(vi=zl(Jc))}const zc=(...e)=>{const t=Gc().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Xc(r);if(!n)return;const i=t._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Qc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Qc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xc(e){return he(e)?document.querySelector(e):e}var Yc=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Zo;const kr=e=>Zo=e,ea=Symbol();function en(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Os;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Os||(Os={}));function Zc(){const e=Yi(!0),t=e.run(()=>J({}));let s=[],r=[];const n=An({install(i){kr(n),n._a=i,i.provide(ea,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Yc?r.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const ta=()=>{};function mi(e,t,s,r=ta){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&Zi()&&Ma(n),n}function Vt(e,...t){e.slice().forEach(s=>{s(...t)})}const eu=e=>e(),_i=Symbol(),Mr=Symbol();function tn(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];en(n)&&en(r)&&e.hasOwnProperty(s)&&!ue(r)&&!_t(r)?e[s]=tn(n,r):e[s]=r}return e}const tu=Symbol();function su(e){return!en(e)||!e.hasOwnProperty(tu)}const{assign:ut}=Object;function ru(e){return!!(ue(e)&&e.effect)}function nu(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function c(){a||(s.state.value[e]=n?n():{});const u=al(s.state.value[e]);return ut(u,i,Object.keys(o||{}).reduce((d,p)=>(d[p]=An(Oe(()=>{kr(s);const g=s._s.get(e);return o[p].call(g,g)})),d),{}))}return l=sa(e,c,t,s,r,!0),l}function sa(e,t,s={},r,n,i){let o;const a=ut({actions:{}},s),l={deep:!0};let c,u,d=[],p=[],g;const y=r.state.value[e];!i&&!y&&(r.state.value[e]={}),J({});let T;function C(K){let G;c=u=!1,typeof K=="function"?(K(r.state.value[e]),G={type:Os.patchFunction,storeId:e,events:g}):(tn(r.state.value[e],K),G={type:Os.patchObject,payload:K,storeId:e,events:g});const te=T=Symbol();kn().then(()=>{T===te&&(c=!0)}),u=!0,Vt(d,G,r.state.value[e])}const I=i?function(){const{state:G}=s,te=G?G():{};this.$patch(Se=>{ut(Se,te)})}:ta;function U(){o.stop(),d=[],p=[],r._s.delete(e)}const E=(K,G="")=>{if(_i in K)return K[Mr]=G,K;const te=function(){kr(r);const Se=Array.from(arguments),Le=[],He=[];function st(V){Le.push(V)}function Ct(V){He.push(V)}Vt(p,{args:Se,name:te[Mr],store:j,after:st,onError:Ct});let ce;try{ce=K.apply(this&&this.$id===e?this:j,Se)}catch(V){throw Vt(He,V),V}return ce instanceof Promise?ce.then(V=>(Vt(Le,V),V)).catch(V=>(Vt(He,V),Promise.reject(V))):(Vt(Le,ce),ce)};return te[_i]=!0,te[Mr]=G,te},m={_p:r,$id:e,$onAction:mi.bind(null,p),$patch:C,$reset:I,$subscribe(K,G={}){const te=mi(d,K,G.detached,()=>Se()),Se=o.run(()=>yt(()=>r.state.value[e],Le=>{(G.flush==="sync"?u:c)&&K({storeId:e,type:Os.direct,events:g},Le)},ut({},l,G)));return te},$dispose:U},j=mr(m);r._s.set(e,j);const fe=(r._a&&r._a.runWithContext||eu)(()=>r._e.run(()=>(o=Yi()).run(()=>t({action:E}))));for(const K in fe){const G=fe[K];if(ue(G)&&!ru(G)||_t(G))i||(y&&su(G)&&(ue(G)?G.value=y[K]:tn(G,y[K])),r.state.value[e][K]=G);else if(typeof G=="function"){const te=E(G,K);fe[K]=te,a.actions[K]=G}}return ut(j,fe),ut(Y(j),fe),Object.defineProperty(j,"$state",{get:()=>r.state.value[e],set:K=>{C(G=>{ut(G,K)})}}),r._p.forEach(K=>{ut(j,o.run(()=>K({store:j,app:r._a,pinia:r,options:a})))}),y&&i&&s.hydrate&&s.hydrate(j.$state,y),c=!0,u=!0,j}/*! #__NO_SIDE_EFFECTS__ */function xn(e,t,s){let r,n;const i=typeof t=="function";typeof e=="string"?(r=e,n=i?s:t):(n=e,r=e.id);function o(a,l){const c=Hl();return a=a||(c?Es(ea,null):null),a&&kr(a),a=Zo,a._s.has(r)||(i?sa(r,t,n,a):nu(r,n,a)),a._s.get(r)}return o.$id=r,o}const tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABNdJREFUWIW9l2lsVFUUx3/nzhTKMq9UaOhMq6YE3BIhEgLGRHELBGJVZJFFomiZ6bB8UBMMxJgGosSExIWlU6KoSFTcEIIphBiJGI0REjFiokEgUOa11pZZgE7bmXf8MG/KSFCGKXg+3XvOuef3z3l37r0j/A8WiwbHC+YV4G6BTgfZ6zG6ylcZ+VOuNfyMveQ+o85uYHC+X6DFU+JM/FcB7e1P+0rOD/QWCirr8Z6XMeu7/wE/XX+HEfYDlks9ijIUqHTnG/oEqCLxaGiOQYIq3Hmx4gIsrbBsWCDSBBA/tWQ0HudbYGSWxSc+f+X8+Mk2n5Q4x0CGAb8agNbWhUMS0fpdIvKRCvcXAQfwCloLcK496Mfj7M3BEb7ynStZKNKQ7hkkvSAOgELGC1DqDN2K6EN5xU4g/IGihdIVSaijqzs7g2WZlGkGRrmhgz3enhkyJtKtGixJ2M524Do39oM3boenofqY6+hA5Mkyf+OXRXQAPfXsoHiqa4/CONfzu5EB0ysqIklVJGHLFmC6m/5XRs1qI6qL+gqIhIuG62xP0tP1vsA9AAhRR2Sqz7++HSBhh9eBPOGmnxc1jwyv2nTKKIx3nWfLKkd+VhwcidsjmhRmuq64k9Hp5f7ICYBYNLQS9Dk31ovILKtq03cAXqAcQOG4SINTjIBka2itoM+4dboMUlteHTkMEI/WLwRezmkVkcWWv7E5t9b0DaTwDZdvcTu8VFVecKcZAwusQOMBgMTpUC2wBcj93J+3/I3v5a839MPi0fB8VN90pypK0ApEdgAk7fBkFfmYbJcB1pQFIq9dXKNoAbHT4QdB38nVENEVVlVkC8DZ1uDtjuoOoBRA0M1lgchLsWhoQqy1rqbfAuJ2/UQRvgAGuPBXLX/TOoBYW3hUxjF7cfcWwi6f3780Fq2fKciP4nh/OXdyWaBoAUk7dBtKM+iQrEe3+SqbVmZjyysk4zQD/iyb/VYq9bhIQ1pUxrolBjslmTFFCehoqat2VJrJnWTKbsvvXySCdnQstxzt3QNyU7Yr/JzpLp0hNe+m/qtmwbddIhocoZh9wA2uK23ErBBpSOvxp0qT3b07+84U4agx6SlWzeuxy9UtuAOKZw1wS774DM6+My2hcfGBpR8o3Ov6bTUydejIt9oKqVtQB7KXiM52ZzEROanKWIEqMXII8LipccfRaeWByLFC6kKBHUjY8gAwHEBFPs+kSicDB9xwDp4y6MPl1U2HC4UXLEAxs3JjQT5lQKoGxc5LSYvqXF+g6ZsrgUMBn8Bt/6N9WlRfNMJd+SmihKyqpp1XCocCOpC0mYTbfrJnej68TVQX507AYuzym1C9jvuCynf+JCJv+M6WfHjxQ/SqC/AFNn2ftMNrFZ0ncCgjZmO5f9PX/YFeLEABHL305xBBoXEVsKpfJHFM362sTt/Vb4BOAIFRqg0Fn4xXzEduvjDztOcLOOiOByfstrnXAt7RUletMCU709hQf/ponwB19O0LqbohZtfPuZrwZHTJrV7j3QWUZT2yVWRzby4uAPFo/TZgQd66doEjCul+8m8ERnPhSXZCHM8Eq3pjRy7BC2B1p+oSA0sNMM/1V+RdLlfLfiOjtdb1F+DkKQMgboemg4RQJpH7W9U/S6IcQWS71d0VudTb4G9Gvd8qJCcW8AAAAABJRU5ErkJggg==",sr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAXdJREFUWIXtl09Kw0AUh7+pIhYVLyCCC72CdCsuqrtIyUI8jJ5DilLrplY9hngEl0q9QLs1PheZwKOdmEw6tQj5wZDwZt5vvvlLAkuWKdtQYAW4Ag4Kmr4BlwaSecBcAG0BKVnaZX0bHgxbi2jrA6AVGzC6AHEVo5k9IKlRRLrmWjtAy76/ACPP+gR4MvBQBDABNkvAV9HYwLYOuJbgkdA7OFVivf+BBPYFugKdAF6RwLXAnk/SjT3PkwAAE+vVddXnHcMN+wyxGTMP593gfQ8I9OyoOioW29itr1+Vi+icdFR6f5zZ2MVfAGQXlM5tTNUtFCCoaoAaoAaoApBMPQG+HbGFAfSBMTBUsaGN9Sr4zUpgkH3hBvDKvpQHrvq8GcimFIG1OTrXuc7lyQN4V+9HVQGA4xzP3yXQUlM3EjgRaHrkNwVOBT6Vz6EPOQL3Hn9CReXOq3M1in6IzgXW8/op/Dm1UxcBu8BqSf4v4AN4NvBaMmc5+gGfHcaoVFoh+gAAAABJRU5ErkJggg==",iu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAUBJREFUWIXt1j9OwzAUx/FPywHohIByBEYGWOESlArEGWCFCYG4BQLx7xLsMCBAMDKiDkwwU1oGp6KK4jZSGxian2TFen5+/vo5iR+lJl2ViH0ZDcxFxj+wh/cioI7RzdGeMTPqYukMbOIM3zjBHT4z5uxjES9YM8ZMPAi72xniNyNkYORMVFL9Nqqoo5UD4kbIxKsAH1MLV0JGB6p3vtVhjn0QvUzkaUfpAOl3oBuxD1INq5iKjE8LX9V24tPEZSxYj7QI7Sax7wc5FQlQT2J//RdANSt+3pdtHOpkGf8SIFMlQAlQAsQAigDLjNlvrPj9WcwWADCfPNsxgC6ekv56AQC9mI/9xvS128S5UJKd4lYoQEdRDSvYEq7jBq4HTTgUjiJvkZG3dXCQXixWeCxhAws5dzlMb7gwpBYoNZn6Ae/PY7gfB0OvAAAAAElFTkSuQmCC",ou="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF/SURBVFiF7dU/SJVhFMfxT4UIYZeohmgQB3ELaZUGhwLBXRzacmlzaXNQuEgKNjtEs4JtETg61iQtbjoZ1NVEGsr/Du+5KJf3vu/VHnPo/uDwPPAezvk+7znPc2irrTN1YhbfcJJj+/iCZ1cFMNMkcaMdYRI3UwNsRoKBJt9vYwKH4fcJ91IC1E9Ypueohe86nv5rAOiW9UNZuQ6wiqHUAGRNW9W8ac/bHh6nBmhFtzAfcat5Dsk7uUFH+Bz7R9cBcCE1lqAfK/ijvMat2jbeoqMMoIIfCRM32lwZwKvYr+F+/g+7lAYjbq0MYDn2rxMmhwcRd6sI4K7s3p6gLzHAy4i7WATwItaviZPDx4g9WgTwIdapxMm78Ft2qypFAL9ifZIYYMTZFM3V+WuygRuJARYi9lgrALn39C/UiV3Z0/ywFYBkMz40HHFXipzqyb/LplhKvYvY40VOW+G0JG39e/ETx+gpcnzj6t7++sEK1YFp6YfQDt7jThlAW/+nTgFJAtxxCNzOAwAAAABJRU5ErkJggg==",au="modulepreload",lu=function(e){return"/"+e},yi={},ss=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=lu(l),l in yi)return;yi[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":au,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},cu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ss(async()=>{const{default:r}=await Promise.resolve().then(()=>is);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class Pn extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class uu extends Pn{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class du extends Pn{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hu extends Pn{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sn;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sn||(sn={}));var fu=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class pu{constructor(t,{headers:s={},customFetch:r,region:n=sn.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=cu(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return fu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(y=>{throw new uu(y)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new du(u);if(!u.ok)throw new hu(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield u.json():p==="application/octet-stream"?g=yield u.blob():p==="text/event-stream"?g=u:p==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vu(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var ge={},ds={},hs={},fs={},ps={},gs={},mu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rs=mu();const _u=rs.fetch,ra=rs.fetch.bind(rs),na=rs.Headers,yu=rs.Request,bu=rs.Response,is=Object.freeze(Object.defineProperty({__proto__:null,Headers:na,Request:yu,Response:bu,default:ra,fetch:_u},Symbol.toStringTag,{value:"Module"})),wu=vu(is);var Ks={},bi;function ia(){if(bi)return Ks;bi=1,Object.defineProperty(Ks,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ks.default=e,Ks}var wi;function oa(){if(wi)return gs;wi=1;var e=gs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gs,"__esModule",{value:!0});const t=e(wu),s=e(ia());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,p;let g=null,y=null,T=null,C=c.status,I=c.statusText;if(c.ok){if(this.method!=="HEAD"){const j=await c.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=j:y=JSON.parse(j))}const E=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),m=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");E&&m&&m.length>1&&(T=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(g={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,T=null,C=406,I="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const E=await c.text();try{g=JSON.parse(E),Array.isArray(g)&&c.status===404&&(y=[],g=null,C=200,I="OK")}catch{c.status===404&&E===""?(C=204,I="No Content"):g={message:E}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,C=200,I="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:y,count:T,status:C,statusText:I}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,p;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=c==null?void 0:c.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return gs.default=r,gs}var Ai;function aa(){if(Ai)return ps;Ai=1;var e=ps.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ps,"__esModule",{value:!0});const t=e(oa());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${d};`,c==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ps.default=s,ps}var ki;function Rn(){if(ki)return fs;ki=1;var e=fs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(aa());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return fs.default=s,fs}var Si;function la(){if(Si)return hs;Si=1;var e=hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});const t=e(Rn());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const c=n.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const d=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return hs.default=s,hs}var vs={},ms={},Ci;function Au(){return Ci||(Ci=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.version=void 0,ms.version="0.0.0-automated"),ms}var Ei;function ku(){if(Ei)return vs;Ei=1,Object.defineProperty(vs,"__esModule",{value:!0}),vs.DEFAULT_HEADERS=void 0;const e=Au();return vs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},vs}var Ti;function Su(){if(Ti)return ds;Ti=1;var e=ds.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ds,"__esModule",{value:!0});const t=e(la()),s=e(Rn()),r=ku();class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let d;const p=new URL(`${this.url}/rpc/${o}`);let g;l||c?(d=l?"HEAD":"GET",Object.entries(a).filter(([T,C])=>C!==void 0).map(([T,C])=>[T,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([T,C])=>{p.searchParams.append(T,C)})):(d="POST",g=a);const y=Object.assign({},this.headers);return u&&(y.Prefer=`count=${u}`),new s.default({method:d,url:p,headers:y,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return ds.default=n,ds}var Oi;function Cu(){if(Oi)return ge;Oi=1;var e=ge.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const t=e(Su());ge.PostgrestClient=t.default;const s=e(la());ge.PostgrestQueryBuilder=s.default;const r=e(Rn());ge.PostgrestFilterBuilder=r.default;const n=e(aa());ge.PostgrestTransformBuilder=n.default;const i=e(oa());ge.PostgrestBuilder=i.default;const o=e(ia());return ge.PostgrestError=o.default,ge.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ge}var Eu=Cu();const Tu=gu(Eu),{PostgrestClient:Ou,PostgrestQueryBuilder:$f,PostgrestFilterBuilder:Uf,PostgrestTransformBuilder:Lf,PostgrestBuilder:Mf,PostgrestError:Df}=Tu,xu="2.11.2",Pu={"X-Client-Info":`realtime-js/${xu}`},Ru="1.0.0",ca=1e4,ju=1e3;var Zt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Zt||(Zt={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var Fe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fe||(Fe={}));var rn;(function(e){e.websocket="websocket"})(rn||(rn={}));var jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(jt||(jt={}));class Iu{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class ua{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(oe||(oe={}));const xi=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=$u(o,e,t,n),i),{})},$u=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?da(i,o):nn(o)},da=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Du(t,s)}switch(e){case oe.bool:return Uu(t);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Lu(t);case oe.json:case oe.jsonb:return Mu(t);case oe.timestamp:return Bu(t);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return nn(t);default:return nn(t)}},nn=e=>e,Uu=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lu=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mu=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Du=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>da(t,a))}return e},Bu=e=>typeof e=="string"?e.replace(" ","T"):e,ha=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Dr{constructor(t,s,r={},n=ca){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pi;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pi||(Pi={}));class xs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=xs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=xs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const p=u.map(C=>C.presence_ref),g=d.map(C=>C.presence_ref),y=u.filter(C=>g.indexOf(C.presence_ref)<0),T=d.filter(C=>p.indexOf(C.presence_ref)<0);y.length>0&&(a[c]=y),T.length>0&&(l[c]=T)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(g=>g.presence_ref),p=u.filter(g=>d.indexOf(g.presence_ref)<0);t[a].unshift(...p)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ri;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ri||(Ri={}));var ji;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ji||(ji={}));var it;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class jn{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Dr(this,Fe.join,this.params,this.timeout),this.rejoinTimer=new ua(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new xs(this),this.broadcastEndpointURL=ha(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(it.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(it.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(it.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,y=[];for(let T=0;T<g;T++){const C=p[T],{filter:{event:I,schema:U,table:E,filter:m}}=C,j=u&&u[T];if(j&&j.event===I&&j.schema===U&&j.table===E&&j.filter===m)y.push(Object.assign(Object.assign({},C),{id:j.id}));else{this.unsubscribe(),t==null||t(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(it.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Dr(this,Fe.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Dr(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Fe;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var y,T,C;return((y=g.filter)===null||y===void 0?void 0:y.event)==="*"||((C=(T=g.filter)===null||T===void 0?void 0:T.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var y,T,C,I,U,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const m=g.id,j=(y=g.filter)===null||y===void 0?void 0:y.event;return m&&((T=s.ids)===null||T===void 0?void 0:T.includes(m))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const m=(U=(I=g==null?void 0:g.filter)===null||I===void 0?void 0:I.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return m==="*"||m===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:T,table:C,commit_timestamp:I,type:U,errors:E}=y;p=Object.assign(Object.assign({},{schema:T,table:C,commit_timestamp:I,eventType:U,new:{},old:{},errors:E}),this._getPayloadRecords(y))}g.callback(p,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&jn.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fe.close,{},t)}_onError(t){this._on(Fe.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=xi(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=xi(t.columns,t.old_record)),s}}const Fu=()=>{},Nu=typeof WebSocket<"u",Hu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vu{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Pu,this.params={},this.timeout=ca,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new Iu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ss(async()=>{const{default:l}=await Promise.resolve().then(()=>is);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${rn.websocket}`,this.httpEndpoint=ha(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ua(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Nu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ss(async()=>{const{default:t}=await import("./browser-N_9y1dAB.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ru}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Zt.connecting:return jt.Connecting;case Zt.open:return jt.Open;case Zt.closing:return jt.Closing;default:return jt.Closed}}isConnected(){return this.connectionState()===jt.Open}channel(t,s={config:{}}){const r=new jn(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Fe.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ju,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fe.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([Hu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class qu{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Zt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class In extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Wu extends In{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class on extends In{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Ku=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const fa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ss(async()=>{const{default:r}=await Promise.resolve().then(()=>is);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Ju=()=>Ku(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ss(()=>Promise.resolve().then(()=>is),void 0)).Response:Response}),an=e=>{if(Array.isArray(e))return e.map(s=>an(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=an(r)}),t};var Ft=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Br=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gu=(e,t,s)=>Ft(void 0,void 0,void 0,function*(){const r=yield Ju();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new Wu(Br(n),e.status||500))}).catch(n=>{t(new on(Br(n),n))}):t(new on(Br(e),e))}),zu=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Ns(e,t,s,r,n,i){return Ft(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,zu(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gu(l,a,r))})})}function dr(e,t,s,r){return Ft(this,void 0,void 0,function*(){return Ns(e,"GET",t,s,r)})}function gt(e,t,s,r,n){return Ft(this,void 0,void 0,function*(){return Ns(e,"POST",t,r,n,s)})}function Qu(e,t,s,r,n){return Ft(this,void 0,void 0,function*(){return Ns(e,"PUT",t,r,n,s)})}function Xu(e,t,s,r){return Ft(this,void 0,void 0,function*(){return Ns(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function pa(e,t,s,r,n){return Ft(this,void 0,void 0,function*(){return Ns(e,"DELETE",t,r,n,s)})}var Ee=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Yu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ii={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zu{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=fa(n)}uploadOrUpdate(t,s,r,n){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ii),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(t,s,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Ii.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new In("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}update(t,s,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Ee(this,void 0,void 0,function*(){try{const n=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}download(t,s){return Ee(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield dr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}info(t){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield dr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:an(r),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}exists(t){return Ee(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Xu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pe(r)&&r instanceof on){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}list(t,s,r){return Ee(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Yu),s),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const ed="2.7.1",td={"X-Client-Info":`storage-js/${ed}`};var qt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class sd{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},td),s),this.fetch=fa(r)}listBuckets(){return qt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}getBucket(t){return qt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return qt(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return qt(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return qt(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return qt(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}}class rd extends sd{constructor(t,s={},r){super(t,s,r)}from(t){return new Zu(this.url,this.headers,t,this.fetch)}}const nd="2.47.13";let bs="";typeof Deno<"u"?bs="deno":typeof document<"u"?bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bs="react-native":bs="node";const id={"X-Client-Info":`supabase-js-${bs}/${nd}`},od={headers:id},ad={schema:"public"},ld={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cd={};var ud=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const dd=e=>{let t;return e?t=e:typeof fetch>"u"?t=ra:t=fetch,(...s)=>t(...s)},hd=()=>typeof Headers>"u"?na:Headers,fd=(e,t,s)=>{const r=dd(s),n=hd();return(i,o)=>ud(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var pd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function gd(e){return e.replace(/\/$/,"")}function vd(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i),accessToken:()=>pd(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const ga="2.67.3",md="http://localhost:9999",_d="supabase.auth.token",yd={"X-Client-Info":`gotrue-js/${ga}`},$i=10,ln="X-Supabase-Api-Version",va={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function bd(e){return Math.round(Date.now()/1e3)+e}function wd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",Ot={tested:!1,writable:!1},Ps=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ot.tested)return Ot.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ot.tested=!0,Ot.writable=!0}catch{Ot.tested=!0,Ot.writable=!1}return Ot.writable};function Ad(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const ma=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>ss(async()=>{const{default:r}=await Promise.resolve().then(()=>is);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},kd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_a=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Js=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Gs=async(e,t)=>{await e.removeItem(t)};function Sd(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|c,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),c!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Sr{constructor(){this.promise=new Sr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Sr.promiseConstructor=Promise;function Ui(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Sd(r))}async function Cd(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ed(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Td(e){return("0"+e.toString(16)).substr(-2)}function Od(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Td).join("")}async function xd(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Pd(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rd(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await xd(e);return Pd(s)}async function Wt(e,t,s=!1){const r=Od();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await _a(e,`${t}-code-verifier`,n);const i=await Rd(r);return[i,r===i?"plain":"s256"]}const jd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Id(e){const t=e.headers.get(ln);if(!t||!t.match(jd))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class $n extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function W(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $d extends $n{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Ud(e){return W(e)&&e.name==="AuthApiError"}class ya extends $n{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Nt extends $n{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class dt extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ld(e){return W(e)&&e.name==="AuthSessionMissingError"}class Fr extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zs extends Nt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qs extends Nt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Md(e){return W(e)&&e.name==="AuthImplicitGrantRedirectError"}class Li extends Nt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cn extends Nt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Nr(e){return W(e)&&e.name==="AuthRetryableFetchError"}class Mi extends Nt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Dd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Pt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bd=[502,503,504];async function Di(e){var t;if(!kd(e))throw new cn(Pt(e),0);if(Bd.includes(e.status))throw new cn(Pt(e),e.status);let s;try{s=await e.json()}catch(i){throw new ya(Pt(i),i)}let r;const n=Id(e);if(n&&n.getTime()>=va["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Mi(Pt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new dt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mi(Pt(s),e.status,s.weak_password.reasons);throw new $d(Pt(s),e.status||500,r)}const Fd=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function Q(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[ln]||(i[ln]=va["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Nd(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Nd(e,t,s,r,n,i){const o=Fd(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new cn(Pt(l),0)}if(a.ok||await Di(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Di(l)}}function ht(e){var t;let s=null;Wd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=bd(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Bi(e){const t=ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hd(e){return{data:e,error:null}}function Vd(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=Dd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qd(e){return e}function Wd(e){return e.access_token&&e.refresh_token&&e.expires_in}var Kd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class Jd{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=ma(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=Kd(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Vd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:qd});if(u.error)throw u.error;const d=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(y=>{const T=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(y.split(";")[1].split("=")[1]);c[`${C}Page`]=T}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:vt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:vt})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}}const Gd={getItem:e=>Ps()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ps()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ps()&&globalThis.localStorage.removeItem(e)}};function Fi(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function zd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Kt={debug:!!(globalThis&&Ps()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ba extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qd extends ba{}async function Xd(e,t,s){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Kt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Kt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}zd();const Yd={url:md,storageKey:_d,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},_s=30*1e3,Ni=3;async function Hi(e,t,s){return await s()}class Ls{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ls.nextInstanceID,Ls.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Yd),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Jd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ma(n.fetch),this.lock=n.lock||Hi,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ge()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Xd:this.lock=Hi,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ps()?this.storage=Gd:(this.memoryStorage={},this.storage=Fi(this.memoryStorage)):(this.memoryStorage={},this.storage=Fi(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ga}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Ad(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ge()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Md(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return W(s)?{error:s}:{error:new ya("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:ht}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:u,password:d,options:p}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Wt(this.storage,this.storageKey)),i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:y},xform:ht})}else if("phone"in t){const{phone:u,password:d,options:p}=t;i=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ht})}else throw new zs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bi})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bi})}else throw new zs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Js(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ht});if(await Gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ht}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Wt(this.storage,this.storageKey));const{error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new zs("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ht});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Wt(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Hd})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new dt;const{error:n}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(W(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await Q(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new zs("You must provide either an email or phone number and a type")}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Js(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dt}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:vt})})}catch(s){if(W(s))return Ld(s)&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new dt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Wt(this.storage,this.storageKey));const{data:c,error:u}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:vt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Ui(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=Ui(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(W(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new dt;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Ge())throw new Qs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Li("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Li("No code detected.");const{data:U,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const m=new URL(window.location.href);return m.searchParams.delete("code"),window.history.replaceState(window.history.state,"",m.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new Qs("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let p=u+d;l&&(p=parseInt(l));const g=p-u;g*1e3<=_s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const y=p-d;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,u);const{data:T,error:C}=await this._getUser(i);if(C)throw C;const I={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:c,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:t.type},error:null}}catch(r){if(W(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Js(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ud(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=wd(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Wt(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ge()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ed(async n=>(n>0&&await Cd(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ht})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Nr(i)&&Date.now()+o-r<_s})}catch(r){if(this._debug(s,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Ge()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Js(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<n+$i;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${$i}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Nr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new dt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Sr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new dt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),W(i)){const o={session:null,error:i};return Nr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _a(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/_s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${_s}ms, refresh threshold is ${Ni} ticks`),n<=Ni&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ba)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Wt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ls.nextInstanceID=0;const Zd=Ls;class eh extends Zd{constructor(t){super(t)}}var th=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class sh{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=gd(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ad,realtime:cd,auth:Object.assign(Object.assign({},ld),{storageKey:l}),global:od},u=vd(r??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=fd(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ou(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new pu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rd(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return th(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){var d;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eh({url:this.authUrl,headers:Object.assign(Object.assign({},p),c),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new Vu(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rh=(e,t,s)=>new sh(e,t,s),Xe=rh("https://bdgrzywumdfuxrlsyyxi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkZ3J6eXd1bWRmdXhybHN5eXhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY4NTg4NjksImV4cCI6MjA1MjQzNDg2OX0.CfMRHLIqiyazh7Hkn9M9Zo4cVKJWTJSA5GwZaZxGfMc"),Un=xn("user",()=>{const e=J(null),t=J(null);function s(r,n){e.value=r,t.value=n}return{currentUser:e,currentId:t,loadUser:s}}),Ln=xn("binder",()=>{const e=J(null),t=J(null),s=J(null);function r(o){e.value=o}function n(o){t.value=o}function i(o){s.value=o}return{userBinders:e,currentBinder:t,lastBinderOrder:s,loadBinders:r,selectBinder:n,setLastOrder:i}}),Cr=xn("data",()=>{const e=J([]),t=J(null);function s(n){e.value=n}function r(n){t.value=n}return{pokemons:e,editingCard:t,loadPokemons:s,setEditing:r}}),wa=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},nh={key:0,src:iu,alt:""},ih={key:1,src:ou,alt:""},oh={class:"userload baseline"},ah={class:"title"},lh={class:"userload"},ch={class:"title"},uh={class:"userload"},dh=["disabled"],hh={__name:"BinderEditor",emits:["select-binder"],setup(e,{emit:t}){const s=Oe(()=>window.innerWidth<1024),r=Un(),n=Ln(),i=Cr(),o=t,a=J(null),l=J(null),c=J(!1),u=()=>{c.value=!c.value},d=async()=>{try{const{data:T,error:C}=await Xe.from("users").select().eq("username",a.value);if(r.loadUser(T[0].username,T[0].id),C)throw C}catch{}p(),localStorage.setItem("currentUser",r.currentUser),a.value=""},p=async()=>{try{const{data:T,error:C}=await Xe.from("binders").select().eq("user",r.currentId);if(n.loadBinders(T),n.selectBinder(T[0].id),o("select-binder"),C)throw C}catch{}},g=async()=>{if(!r.currentId)return alert("Prima carica un profilo!"),!1;try{const{data:T,error:C}=await Xe.from("binders").insert({title:l.value,user:r.currentId}).select();if(C)throw C}catch{}p(),l.value=""};En(()=>{y(),localStorage.getItem("currentUser")&&(a.value=localStorage.getItem("currentUser"),d())});async function y(){const{data:T}=await Xe.from("pokemons").select();i.loadPokemons(T)}return(T,C)=>($(),L("div",{class:ne({loader:!0,mobile:s.value})},[_("button",{class:ne({loaderbutton:!0,addbinder:!0,close:c.value}),onClick:u},[c.value?($(),L("img",ih)):($(),L("img",nh))],2),_("div",{class:ne({interface:!0,open:c.value})},[_("div",oh,[C[4]||(C[4]=_("p",{class:"label"},"Current user:",-1)),_("p",ah,Ze(Xt(r).currentUser),1)]),_("div",lh,[de(_("input",{type:"text","onUpdate:modelValue":C[0]||(C[0]=I=>a.value=I),placeholder:"Username..."},null,512),[[bt,a.value]]),_("button",{class:"formbutton load",onClick:C[1]||(C[1]=I=>d())},"Load user")]),_("div",null,[_("p",ch,[Bs(Ze(Xt(r).currentUser)+" ",1),C[5]||(C[5]=_("span",{class:"label"},"'s binders",-1))]),_("ul",null,[($(!0),L(ye,null,$t(Xt(n).userBinders,(I,U)=>($(),L("li",{key:"binder"+U},Ze(I.title),1))),128))])]),_("div",uh,[de(_("input",{type:"text","onUpdate:modelValue":C[2]||(C[2]=I=>l.value=I),placeholder:"Binder name..."},null,512),[[bt,l.value]]),_("button",{disabled:!l.value,class:"formbutton create",onClick:C[3]||(C[3]=I=>g())},"Add binder",8,dh)])],2)],2))}},fh=wa(hh,[["__scopeId","data-v-0a1a34a1"]]),ph="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAaRJREFUWIXt189qU0EUx/FPay3UUipBqd6kropP4UrBhW+g+BzduHHvVnDvQgqCuOpLdO1G3JRq4l9QMIrQqoszpWmatJk712TjD4Ywczn3fDNzzr2/y4w1NzSfxz20a9zrAC/xpgTgPjaxXQNgFbdwPSdoYWi+gRd4WAMA/uQGzNdM1JhmDjB8BJNoETfwA3v4gP1pAjxHJaq+g8v4jLfp+mP00ryLd2l8awJgDrdT0u9p7RzWROtexTVcwc0EWiXQBezgbgKsBdDCz4HkxE500zhNy3giWv3R4WJuEXbEdtZRX9RNf3AxF6AqACCO6Vh8LsCJG/wHyNB5XMTHEoCSGqhS8oMSgLaz2+202BPw0zyCYoBF8c7/NCuACu/xe1YAjbdgLkDjT8FRAL/EC2ccQN0OmDh+A6+Ftxs1NgsA+lgpiPdMWPY6auHrqAvTKsKxsdMqwkYAWo47oRyNLcAcS/YUr7DryGh2hfnsCYfcw5cRsWN3YPjT7CxdEqaz7ciErqffjvinFwbg9sTT8w4eiK+uIoBJtJRgDuHWEszWP8hVrr/CNWIEYI4MdwAAAABJRU5ErkJggg==",gh={class:"radios"},vh={class:"field"},mh=["disabled"],_h={class:"field"},yh=["disabled"],bh={class:"autocomplete field"},wh=["disabled"],Ah={key:0,class:"suggestions"},kh=["onMousedown"],Sh=["disabled"],Ch={__name:"CardLoader",props:["isOpen","pulse"],emits:["add-card","toggle-loader","close-loader"],setup(e,{emit:t}){const s=Cr();Un();const r=Ln(),n=t,i=e,o=Oe(()=>window.innerWidth<1024),a=J(""),l=J(""),c=J("card"),u=()=>{n("toggle-loader")},d=J(""),p=J(null),g=J(!1),y=Oe(()=>d.value?s.pokemons.filter(E=>E.name.toLowerCase().includes(d.value.toLowerCase())):[]),T=E=>{d.value=E.name,p.value=E.pokedex_number,g.value=!1},C=E=>{g.value=E},I=()=>{n("add-card",{maincard:a.value,altcard:l.value,type:c.value,pokemonName:d.value,pokemonNumber:p.value,binder:r.currentBinder}),a.value="",l.value="",d.value="",p.value=null},U=Oe(()=>i.isOpen);return yt(U,async(E,m)=>{E||(a.value="",l.value="",d.value="",p.value=null)}),(E,m)=>($(),L("div",{class:ne({loader:!0,mobile:o.value})},[_("button",{class:ne({loaderbutton:!0,addcard:!0,close:e.isOpen}),onClick:u},m[9]||(m[9]=[_("img",{src:ph,alt:""},null,-1)]),2),_("div",{class:ne({interface:!0,open:e.isOpen,pulse:i.pulse})},[m[13]||(m[13]=_("div",null,"Select card or empty slot",-1)),_("div",gh,[_("div",{class:ne(["radio",{active:c.value=="card"}])},[de(_("input",{id:"card",type:"radio","onUpdate:modelValue":m[0]||(m[0]=j=>c.value=j),value:"card"},null,512),[[Rt,c.value]]),m[10]||(m[10]=_("label",{for:"card"},"Card",-1))],2),_("div",{class:ne(["radio",{active:c.value=="empty"}])},[de(_("input",{id:"empty",type:"radio","onUpdate:modelValue":m[1]||(m[1]=j=>c.value=j),value:"empty"},null,512),[[Rt,c.value]]),m[11]||(m[11]=_("label",{for:"empty"},"Empty slot",-1))],2)]),_("div",vh,[_("label",{class:ne({disabled:c.value=="empty"}),for:"mainimage"},"Main card",2),de(_("input",{disabled:c.value=="empty",type:"text",id:"mainimage","onUpdate:modelValue":m[2]||(m[2]=j=>a.value=j)},null,8,mh),[[bt,a.value]])]),_("div",_h,[_("label",{class:ne({disabled:c.value=="empty"}),for:"altimage"},"Alternative card",2),de(_("input",{disabled:c.value=="empty",type:"text",id:"altimage","onUpdate:modelValue":m[3]||(m[3]=j=>l.value=j)},null,8,yh),[[bt,l.value]])]),_("div",bh,[_("label",{class:ne({disabled:c.value=="empty"}),for:"pokemon"},"Selected pokemon",2),de(_("input",{disabled:c.value=="empty",id:"pokemon",type:"text","onUpdate:modelValue":m[4]||(m[4]=j=>d.value=j),onFocus:m[5]||(m[5]=j=>C(!0)),onBlur:m[6]||(m[6]=j=>C(!1)),onInput:m[7]||(m[7]=j=>C(!0)),placeholder:"Cerca Pokémon..."},null,40,wh),[[bt,d.value]]),g.value&&y.value.length?($(),L("ul",Ah,[($(!0),L(ye,null,$t(y.value,j=>($(),L("li",{key:j.pokedex_number,onMousedown:Yo(Ue=>T(j),["prevent"])},Ze(j.name),41,kh))),128))])):z("",!0)]),_("div",{class:ne({disabled:c.value=="empty",label:!0})},[m[12]||(m[12]=Bs("Pokedex number ")),_("span",null,Ze(p.value),1)],2),_("button",{class:ne(["formbutton","add",{disabled:c.value=="card"&&!a.value}]),onClick:I,disabled:c.value=="card"&&!a.value},"Add card",10,Sh),_("button",{class:"formbutton cancel",onClick:m[8]||(m[8]=j=>n("close-loader"))},"Cancel")],2)],2))}},Eh={class:"field"},Th={class:"field"},Oh={class:"autocomplete field"},xh={key:0,class:"suggestions"},Ph=["onMousedown"],Rh={class:"label"},jh={class:"checkbox"},Ih={__name:"CardEditor",props:["isOpen"],emits:["edit-card","close-editor"],setup(e,{emit:t}){const s=e,r=Oe(()=>s.isOpen),n=Cr();Oe(()=>window.innerWidth<1024);const i=J(""),o=J(""),a=J(!1),l=t,c=J(""),u=J(null),d=J(!1),p=Oe(()=>c.value?n.pokemons.filter(U=>U.name.toLowerCase().includes(c.value.toLowerCase())):[]),g=U=>{c.value=U.name,u.value=U.pokedex_number,d.value=!1},y=U=>{d.value=U},T=async()=>{try{console.log(a.value);const{data:U,error:E}=await Xe.from("cards").update({url:i.value,alturl:o.value,pokemon:u.value,gotit:a.value}).eq("id",n.editingCard.id).select();if(E)throw E}catch{}l("edit-card"),i.value="",o.value="",c.value="",u.value=null},C=Oe(()=>n.editingCard);yt(r,async(U,E)=>{U?(i.value=n.editingCard.url,o.value=n.editingCard.alturl,a.value=n.editingCard.gotit,n.editingCard.pokemon&&g(n.pokemons.find(m=>m.pokedex_number==n.editingCard.pokemon))):(i.value="",o.value="",c.value="",u.value=null,a.value=!1)});const I=J(!1);return yt(C,async(U,E)=>{E&&U&&(I.value=!0,setTimeout(()=>{I.value=!1},500)),U?(i.value=n.editingCard.url,o.value=n.editingCard.alturl,a.value=n.editingCard.gotit,n.editingCard.pokemon&&g(n.pokemons.find(m=>m.pokedex_number==n.editingCard.pokemon))):(i.value="",o.value="",c.value="",u.value=null,a.value=!1)}),(U,E)=>($(),L("div",{class:ne({interface:!0,open:s.isOpen,pulse:I.value})},[E[13]||(E[13]=_("div",null,"Edit selected Card",-1)),_("div",Eh,[E[8]||(E[8]=_("label",{for:"mainimage"},"Main card",-1)),de(_("input",{type:"text",id:"mainimage","onUpdate:modelValue":E[0]||(E[0]=m=>i.value=m)},null,512),[[bt,i.value]])]),_("div",Th,[E[9]||(E[9]=_("label",{for:"altimage"},"Alternative card",-1)),de(_("input",{type:"text",id:"altimage","onUpdate:modelValue":E[1]||(E[1]=m=>o.value=m)},null,512),[[bt,o.value]])]),_("div",Oh,[E[10]||(E[10]=_("label",{for:"pokemon"},"Selected pokemon",-1)),de(_("input",{id:"pokemon",type:"text","onUpdate:modelValue":E[2]||(E[2]=m=>c.value=m),onFocus:E[3]||(E[3]=m=>y(!0)),onBlur:E[4]||(E[4]=m=>y(!1)),onInput:E[5]||(E[5]=m=>y(!0)),placeholder:"Cerca Pokémon..."},null,544),[[bt,c.value]]),d.value&&p.value.length?($(),L("ul",xh,[($(!0),L(ye,null,$t(p.value,m=>($(),L("li",{key:m.pokedex_number,onMousedown:Yo(j=>g(m),["prevent"])},Ze(m.name),41,Ph))),128))])):z("",!0)]),_("div",Rh,[E[11]||(E[11]=Bs("Pokedex number ")),_("span",null,Ze(u.value),1)]),_("div",jh,[de(_("input",{type:"checkbox",name:"gotit",id:"gotit","onUpdate:modelValue":E[6]||(E[6]=m=>a.value=m)},null,512),[[er,a.value]]),E[12]||(E[12]=_("label",{for:"gotit"},"Already have",-1))]),_("button",{class:"formbutton add",onClick:T},"Edit card"),_("button",{class:"formbutton cancel",onClick:E[7]||(E[7]=m=>l("close-editor"))},"Cancel")],2))}},Hr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhxJREFUWIXtlrtuE1EQhr9Z22lMbOEICdYSL0BJaAJIPAAoFaXd+iDRQEG4KAjCRVSuEHHoCHQ0SECLkAgUQMsLEHlDFXk3l8KxPRS20fqy9opdY4r81Z45c2a+szuzGjjUlCXDjF61tNgSuSbIPGg6Yoo9Qb+hWs7k196OBfC2Sk9UZSla0gAUeJyxK3cCAbxqaVFF3gB1UZYTzeSr9MmnTpSkez+v2geJZkFEV4AZsbiUOV55N9S55piPrmO0Vr0S+xuoOeam6xj1nNIHv93yLwROA6RmmutxA6RSrRcAiswHAgBHANLHnm/FDeCLOTsK4J9r6gDJUZv64/KMm5t7IEoBQQV9Obu9fVdOva4DuI75DNLK2qvnu2faNhZ6I8mG3yc0wE4utyLKjTYNKLK0c3ROgVsdlwXQvlPSGrRpvyEcgCIFAFHrLNKwFOuTCkUfwIC6N3Udo+11ZejfNhQAig2QyT/70gn6xxaXRgN01L3NJDT1LggFkLUrMu5bThRgkgpVA+PUWyPBPf8XALLR28ND1+d6z3T3+31DyHWMTrLih8Wfeg38dwC70B6j4k60v2nynUcvEEDgO8BBslGMG6Ce0CKAaDtHV71doFpG5ILA/ZpjSDWS61GH0v1Nk68ntCjIPQC1pOzfHxzLHfNI4XaUpMHSh1l7bXkkAID3y1ykpdcVOUNnToygXVG+qiXl7InV9xFjHSp+/QbXaMgwQVy3iAAAAABJRU5ErkJggg==",Vr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyRJREFUWIXtlk9om2Ucxz/fJ5EJat9UZbRvGP4HvehluqK4KoLM6hjTgUjXbQfxbbqjgtftttMOgk0y1Fk3RTeR1SFTQQSV2VFP3sYEGW2S6qFJ2oHSpc/Pw5I0LnmTFb2t39Pz5P2+3+/nl7w8b2BDG7rZpfXeUPkjcz/etsoUYvTXU8omK6LabGrgvd//d4DqQmYIs1GMPcBAD3sJ6XO0+nEwcOzCfwJYLmWGV80OC4ZvBLQ93L4XHLojzP+wLoCl+YN3mfNHwfbF3Hde0hk8F71jE2YPyNiFGOrgNYwp/NU3gy3vL/YEqC68sQ1zX2CEHcIWgANBmPumE1W1GO0ATQGb2ykoSG53MDg5GwtQLUSvIX0A3Nqp3FztyV4PWWXh9fvkkzOdIIC/TexPDeZOtQFUi+NjwHEgEZO9o3Xycmn8GXkbkbQJ7FwQ5r9uZpWiEUxfxeSsgvYFYfaTJkC5GL3s0Kku5eeDMPdUY7NUio6Y6e1/OYzJIJ07uDZQZgZsWxyEzF7pS+enXXk+eszhPupSjqQzjfVyKTPcVn5tlIlKceL5NR4/HZcHJEw6uTiXedTJ6QTYbV3MYFxqonv/YiwofqRlcynOV9ftyaSdcE5YDyMea347ErfEcpquNtbOXK1XLoCr1TQGXOnhe6hZQuJcXH9C/mxj47GHe2ReqdU05u7ckv1VaAxYjXPK2NVYp8LJb4F3ri8XOtJ64gl2dylflWn0Wndd1eL4KDBF3MMojQSD2eb0lfnoOTleMmnFmT/bFx77qXFtqRDtNOnLuHKMvUE692kddE2VQvSqpA/pfBD9aa421Osgqs5NPEjC/wzcff01g7+Q9qcGs6cbn7lWQyqd/wy57QaFDtmb5ZMz1VLmhbjypUK0M64cmAM93VoOMS+jyuVMv5J2FHGgc5UuGH4aud+c9yteeqT+mz/RwWwmjrOit1L3ZMttSXHTACwXo+0Ghww9280XK/GdTIf7wuyP8ZYbULU08Tjm9yL2xLwlWxOLGKcNO5kK87/0ZlynyqXxe4VtlZHG1PhLtmiyollytj989/J6Mze0oZtb/wADUS0anuL7ZwAAAABJRU5ErkJggg==",Jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATpJREFUWIXtl0FKw0AUhr8Xs1AhERqEpuLGS3gQ7QFUBJd2qy7iAaR05yYXsD1WaVLEUBJQN81zYUFstCZDrRbylt/M/O8bGB6MYFCqgZ1F8a3CyYyErp8EIv1p1SzbRCCLxx2Fqw8iN1nsTYC7qlmWiYAqRwWWc2ySZSQA2iggwVuhwPKqFqgFaoH1FFDYnmcCWyZZohrYWTzuvI9X3f35BJsorW/WRiivJdo+iuQDp5l07TSKA+C6tLIuXPtarLjxQFUO08hzLeCsdPPl17nF4jv9ailMLdDwrwREJRTV9kYWe5eq0l7pIyR/cPykJ1WtASaji6HA3ufeDN3W/X7VLKM5IPA8zxReTLLWcxLWArVALfAPBCQpIOVpZQIi+aDItG+SZfQ7dppJN40aO4icAqCEjp/0TLLeAID5ZOIjYyYKAAAAAElFTkSuQmCC",$h=["onClick"],Uh={key:0,class:"empty"},Lh=["src"],Mh=["src"],Dh={key:3,class:"button alt"},Bh=["onClick"],Fh=["onClick"],Nh=["onClick"],Hh=["onClick"],Vh=["onClick"],qh={key:1,class:"cards doublepage",style:{"grid-template-columns":"1fr 1fr 1fr"}},Wh=["onClick"],Kh={key:0,class:"empty"},Jh=["src"],Gh=["src"],zh={key:3,class:"button alt"},Qh=["onClick"],Xh=["onClick"],Yh=["onClick"],Zh=["onClick"],ef=["onClick"],tf={key:2,class:"cards doublepage secondpage",style:{"grid-template-columns":"1fr 1fr 1fr"}},sf=["onClick"],rf={key:0,class:"empty"},nf=["src"],of=["src"],af={key:3,class:"button alt"},lf=["onClick"],cf=["onClick"],uf=["onClick"],df=["onClick"],hf=["onClick"],ff={__name:"CardPages",props:["cards","hidebuttons","seeMissing","computedcolumns","ncolumns","isMobile","page"],emits:["open-preview","delete-card","open-editor","add-card-position"],setup(e,{emit:t}){const s=t,r=e,n=i=>{i.alturl.length&&event.target.classList.toggle("fixed")};return(i,o)=>($(),L("div",{class:ne(["card-wrapper",{doublepage:r.ncolumns==5}])},[r.ncolumns<5||r.ncolumns==5&&r.page==0?($(),L("div",{key:0,class:"cards",style:gr("grid-template-columns: "+(r.ncolumns<5?r.computedcolumns:"1fr 1fr 1fr")+";")},[($(!0),L(ye,null,$t(r.cards.slice(0,r.ncolumns<5?r.cards.length:9),(a,l)=>($(),L("div",{class:"card",onClick:c=>n(a)},[a.url.length?z("",!0):($(),L("div",Uh)),a.url.length?($(),L("img",{key:1,class:ne(["maincard",{have:a.gotit&&r.seeMissing}]),src:a.url,alt:""},null,10,Lh)):z("",!0),a.alturl.length?($(),L("img",{key:2,class:"altcard",src:a.alturl,alt:""},null,8,Mh)):z("",!0),a.alturl.length&&!r.hidebuttons?($(),L("div",Dh,o[0]||(o[0]=[_("img",{src:Hr,alt:"alternative"},null,-1)]))):z("",!0),r.hidebuttons?z("",!0):($(),L("button",{key:4,class:"button edit",onClick:c=>s("open-editor",a)},o[1]||(o[1]=[_("img",{src:tr,alt:"edit"},null,-1)]),8,Bh)),a.url.length&&r.isMobile?($(),L("button",{key:5,class:"button eye",onClick:c=>s("open-preview",a)},o[2]||(o[2]=[_("img",{src:Vr,alt:"preview"},null,-1)]),8,Fh)):z("",!0),r.hidebuttons?z("",!0):($(),L("button",{key:6,class:"button delete",onClick:c=>s("delete-card",a)},o[3]||(o[3]=[_("img",{src:sr,alt:"delete"},null,-1)]),8,Nh)),r.hidebuttons?z("",!0):($(),L("button",{key:7,class:"button addleft",onClick:c=>s("add-card-position",a.order)},o[4]||(o[4]=[_("img",{src:Jt,alt:"add left"},null,-1)]),8,Hh)),r.hidebuttons?z("",!0):($(),L("button",{key:8,class:"button addright",onClick:c=>s("add-card-position",a.order+1)},o[5]||(o[5]=[_("img",{src:Jt,alt:"add right"},null,-1)]),8,Vh))],8,$h))),256))],4)):z("",!0),r.ncolumns==5&&r.page>0?($(),L("div",qh,[($(!0),L(ye,null,$t(r.cards.slice(0,9),(a,l)=>($(),L("div",{class:"card",onClick:c=>n(a)},[a.url.length?z("",!0):($(),L("div",Kh)),a.url.length?($(),L("img",{key:1,class:ne(["maincard",{have:a.gotit&&r.seeMissing}]),src:a.url,alt:""},null,10,Jh)):z("",!0),a.alturl.length?($(),L("img",{key:2,class:"altcard",src:a.alturl,alt:""},null,8,Gh)):z("",!0),a.alturl.length&&!r.hidebuttons?($(),L("div",zh,o[6]||(o[6]=[_("img",{src:Hr,alt:"alternative"},null,-1)]))):z("",!0),r.hidebuttons?z("",!0):($(),L("button",{key:4,class:"button edit",onClick:c=>s("open-editor",a)},o[7]||(o[7]=[_("img",{src:tr,alt:"edit"},null,-1)]),8,Qh)),a.url.length&&r.isMobile?($(),L("button",{key:5,class:"button eye",onClick:c=>s("open-preview",a)},o[8]||(o[8]=[_("img",{src:Vr,alt:"preview"},null,-1)]),8,Xh)):z("",!0),r.hidebuttons?z("",!0):($(),L("button",{key:6,class:"button delete",onClick:c=>s("delete-card",a)},o[9]||(o[9]=[_("img",{src:sr,alt:"delete"},null,-1)]),8,Yh)),r.hidebuttons?z("",!0):($(),L("button",{key:7,class:"button addleft",onClick:c=>s("add-card-position",a.order)},o[10]||(o[10]=[_("img",{src:Jt,alt:"add left"},null,-1)]),8,Zh)),r.hidebuttons?z("",!0):($(),L("button",{key:8,class:"button addright",onClick:c=>s("add-card-position",a.order+1)},o[11]||(o[11]=[_("img",{src:Jt,alt:"add right"},null,-1)]),8,ef))],8,Wh))),256))])):z("",!0),r.ncolumns==5&&r.page>0?($(),L("div",tf,[($(!0),L(ye,null,$t(r.cards.slice(9,r.cards.length),(a,l)=>($(),L("div",{class:"card",onClick:c=>n(a)},[a.url.length?z("",!0):($(),L("div",rf)),a.url.length?($(),L("img",{key:1,class:ne(["maincard",{have:a.gotit&&r.seeMissing}]),src:a.url,alt:""},null,10,nf)):z("",!0),a.alturl.length?($(),L("img",{key:2,class:"altcard",src:a.alturl,alt:""},null,8,of)):z("",!0),a.alturl.length&&!r.hidebuttons?($(),L("div",af,o[12]||(o[12]=[_("img",{src:Hr,alt:"alternative"},null,-1)]))):z("",!0),r.hidebuttons?z("",!0):($(),L("button",{key:4,class:"button edit",onClick:c=>s("open-editor",a)},o[13]||(o[13]=[_("img",{src:tr,alt:"edit"},null,-1)]),8,lf)),a.url.length&&r.isMobile?($(),L("button",{key:5,class:"button eye",onClick:c=>s("open-preview",a)},o[14]||(o[14]=[_("img",{src:Vr,alt:"preview"},null,-1)]),8,cf)):z("",!0),r.hidebuttons?z("",!0):($(),L("button",{key:6,class:"button delete",onClick:c=>s("delete-card",a)},o[15]||(o[15]=[_("img",{src:sr,alt:"delete"},null,-1)]),8,uf)),r.hidebuttons?z("",!0):($(),L("button",{key:7,class:"button addleft",onClick:c=>s("add-card-position",a.order)},o[16]||(o[16]=[_("img",{src:Jt,alt:"add left"},null,-1)]),8,df)),r.hidebuttons?z("",!0):($(),L("button",{key:8,class:"button addright",onClick:c=>s("add-card-position",a.order+1)},o[17]||(o[17]=[_("img",{src:Jt,alt:"add right"},null,-1)]),8,hf))],8,sf))),256))])):z("",!0)],2))}},pf=wa(ff,[["__scopeId","data-v-e3e31cd1"]]),gf={class:"buttons"},vf={key:0,class:"field columns"},mf={class:"radios"},_f=["disabled"],yf=["disabled"],bf={style:{color:"#fff"}},wf={class:"options"},Af={class:"field"},kf=["value"],Sf={class:"field"},Cf={class:"checkbox"},Ef={class:"checkbox"},Tf={class:"checkbox"},Of={key:0,class:"field columns"},xf={class:"radios"},Pf={key:0,class:"operations"},Rf={ref:"preview",src:"",alt:""},jf={__name:"App",setup(e){const t=Cr(),s=Ln(),r=Oe(()=>window.innerWidth<1024),n=J(!1),i=J(!1),o=J(!1),a=J(3),l=Oe(()=>a.value<5?a.value*3:9),c=Oe(()=>{let D="";for(let w=0;w<a.value;w++)D+=" 1fr";return D}),u=J(1),d=J(0),p=async D=>{switch(D){case"left":a.value<5||d.value==1?d.value--:d.value-=2;break;case"right":a.value<5||d.value==0?d.value++:d.value+=2;break;case"first":d.value=0;break;case"last":let w=[];n.value?w=V.value.filter(M=>M.url.length):w=V.value,d.value=Math.ceil(w.length/l.value)-1;break}localStorage.setItem("currentPage",d.value),document.querySelectorAll(".fixed").forEach(w=>w.classList.remove("fixed"))},g=Oe(()=>{let D=[];return n.value?D=V.value.filter(w=>w.url.length):D=V.value,a.value<5?D=D.slice(d.value*l.value,d.value*l.value+l.value):D=D.slice(d.value*l.value,d.value*l.value+l.value*2),D});En(()=>{localStorage.getItem("currentPage")&&(d.value=localStorage.getItem("currentPage")),localStorage.getItem("currentGen")&&(u.value=localStorage.getItem("currentGen"))}),yt(u,async(D,w)=>{localStorage.setItem("currentGen",D),s.selectBinder(D),Z(),d.value=0});const y=J(!1),T=Un(),C=J(!1),I=()=>{y.value=!y.value},U=()=>{y.value=!1},E=()=>{y.value=!0},m=J(null),j=D=>{E(),m.value&&Ue(),m.value=D,console.log("add card at "+m.value)},Ue=()=>{C.value=!0,setTimeout(()=>{C.value=!1},300)},fe=async D=>{if(!T.currentId)return alert("Prima carica un profilo!"),!1;if(!s.currentBinder)return alert("Prima scegli un binder!"),!1;let w=s.lastBinderOrder+1;if(m.value&&(w=m.value),m.value){console.log("update all cards from binder "+s.currentBinder+" from position "+w);try{const{data:M,error:Me}=await Xe.rpc("increment_order",{binder_id:s.currentBinder,min_order:w});if(Me)throw Me}catch(M){console.log(M)}}if(D.type=="card")try{const{data:M,error:Me}=await Xe.from("cards").insert({url:D.maincard,alturl:D.altcard,pokemon:D.pokemonNumber,binder:D.binder,order:w}).select();if(I(),Me)throw Me}catch(M){console.log(M)}else try{const{data:M,error:Me}=await Xe.from("cards").insert({url:"",alturl:"",pokemon:null,binder:D.binder,order:w}).select();if(I(),Me)throw Me}catch(M){console.log(M)}m.value=null,Z()},K=J(!1),G=J(null),te=bl("preview"),Se=D=>{K.value=!0,G.value=D,D.url&&!D.alturl?te.value.setAttribute("src",D.url):event.target.closest(".card").classList.contains("fixed")?te.value.setAttribute("src",D.alturl):te.value.setAttribute("src",D.url)},Le=()=>{K.value=!1,G.value=null},He=()=>{if(!r.value){let D=event.target;D.classList.contains("card")?(te.value.style.opacity=1,D.classList.contains("fixed")?te.value.setAttribute("src",D.querySelector(".altcard").getAttribute("src")):te.value.setAttribute("src",D.querySelector(".maincard").getAttribute("src"))):(te.value.setAttribute("src",""),te.value.style.opacity=0)}},st=J(!1),Ct=D=>{console.log(D),st.value=!0,t.setEditing(D),console.log(D)},ce=D=>{st.value=!1,t.setEditing(null),Z()},V=J([]),Z=async()=>{try{const{data:D,error:w}=await Xe.from("cards").select().eq("binder",s.currentBinder).order("order",{ascending:!0});if(V.value=D,s.setLastOrder(V.value[D.length-1].order),w)throw w}catch{}},Ve=async D=>{try{const{data:w,error:M}=await Xe.from("cards").delete().eq("id",D.id).select();if(Z(),M)throw M}catch{}};return(D,w)=>($(),L("div",{class:"wrapper",onMousemove:He},[$e(pf,{cards:g.value,computedcolumns:c.value,ncolumns:a.value,page:d.value,hidebuttons:i.value,seeMissing:o.value,isMobile:r.value,onOpenEditor:Ct,onOpenPreview:Se,onDeleteCard:Ve,onAddCardPosition:j},null,8,["cards","computedcolumns","ncolumns","page","hidebuttons","seeMissing","isMobile"]),_("div",gf,[r.value?($(),L("div",vf,[w[20]||(w[20]=_("label",{for:"ncolumns"},"Columns",-1)),_("div",mf,[_("div",{class:ne({radio:!0,active:a.value==3})},[de(_("input",{name:"ncolumns",id:"pp3",type:"radio","onUpdate:modelValue":w[0]||(w[0]=M=>a.value=M),value:"3"},null,512),[[Rt,a.value]]),w[18]||(w[18]=_("label",{for:"pp3"},"3",-1))],2),_("div",{class:ne({radio:!0,active:a.value==4})},[de(_("input",{name:"ncolumns",id:"pp4",type:"radio","onUpdate:modelValue":w[1]||(w[1]=M=>a.value=M),value:"4"},null,512),[[Rt,a.value]]),w[19]||(w[19]=_("label",{for:"pp4"},"4",-1))],2)])])):z("",!0),_("button",{disabled:d.value<=0,onClick:w[2]||(w[2]=M=>p("first"))}," <<",8,_f),_("button",{disabled:d.value<=0,onClick:w[3]||(w[3]=M=>p("left"))}," <",8,yf),_("div",null,[w[21]||(w[21]=Bs("Pag ")),_("span",bf,Ze(parseInt(d.value)+1),1)]),_("button",{onClick:w[4]||(w[4]=M=>p("right"))},">"),_("button",{onClick:w[5]||(w[5]=M=>p("last"))},">>")]),_("div",wf,[_("div",Af,[w[22]||(w[22]=_("label",{for:"generation"},"Binder",-1)),de(_("select",{"onUpdate:modelValue":w[6]||(w[6]=M=>u.value=M),name:"genselect",id:"genselect"},[($(!0),L(ye,null,$t(Xt(s).userBinders,(M,Me)=>($(),L("option",{value:M.id},Ze(M.title),9,kf))),256))],512),[[qc,u.value]])]),_("div",Sf,[_("div",Cf,[de(_("input",{type:"checkbox","onUpdate:modelValue":w[7]||(w[7]=M=>n.value=M),id:"fill",name:"fill"},null,512),[[er,n.value]]),w[23]||(w[23]=_("label",{for:"fill"},"Fill pockets",-1))]),_("div",Ef,[de(_("input",{type:"checkbox","onUpdate:modelValue":w[8]||(w[8]=M=>i.value=M),id:"hide",name:"hide"},null,512),[[er,i.value]]),w[24]||(w[24]=_("label",{for:"hide"},"Hide buttons",-1))]),_("div",Tf,[de(_("input",{type:"checkbox","onUpdate:modelValue":w[9]||(w[9]=M=>o.value=M),id:"possession",name:"possession"},null,512),[[er,o.value]]),w[25]||(w[25]=_("label",{for:"possession"},"See missing",-1))])]),r.value?z("",!0):($(),L("div",Of,[w[29]||(w[29]=_("label",{for:"ncolumns"},"Columns",-1)),_("div",xf,[_("div",{class:ne({radio:!0,active:a.value==3})},[w[26]||(w[26]=_("label",{for:"pp3"},"3",-1)),de(_("input",{name:"ncolumns",id:"pp3",type:"radio","onUpdate:modelValue":w[10]||(w[10]=M=>a.value=M),value:"3"},null,512),[[Rt,a.value]])],2),_("div",{class:ne({radio:!0,active:a.value==4})},[w[27]||(w[27]=_("label",{for:"pp4"},"4",-1)),de(_("input",{name:"ncolumns",id:"pp4",type:"radio","onUpdate:modelValue":w[11]||(w[11]=M=>a.value=M),value:"4"},null,512),[[Rt,a.value]])],2),_("div",{class:ne({radio:!0,active:a.value==5})},[w[28]||(w[28]=_("label",{for:"pp5"},"2P",-1)),de(_("input",{name:"ncolumns",id:"pp5",type:"radio","onUpdate:modelValue":w[12]||(w[12]=M=>a.value=M),value:"5"},null,512),[[Rt,a.value]])],2)])])),$e(Ch,{isOpen:y.value,pulse:C.value,onAddCard:fe,onToggleLoader:I,onCloseLoader:U},null,8,["isOpen","pulse"]),$e(fh,{onSelectBinder:w[13]||(w[13]=M=>u.value=Xt(s).currentBinder)})]),_("div",{class:ne({preview:!0,open:K.value}),onClick:Le},[r.value?($(),L("div",Pf,[_("button",{class:"button edit",onClick:w[14]||(w[14]=M=>Ct(G.value))},w[30]||(w[30]=[_("img",{src:tr,alt:""},null,-1)])),_("button",{class:"button delete",onClick:w[15]||(w[15]=M=>Ve(G.value))},w[31]||(w[31]=[_("img",{src:sr,alt:""},null,-1)]))])):z("",!0),_("img",Rf,null,512)],2),$e(Ih,{isOpen:st.value,onEditCard:w[16]||(w[16]=M=>ce()),onCloseEditor:w[17]||(w[17]=M=>ce())},null,8,["isOpen"])],32))}},Aa=zc(jf);Aa.use(Zc());Aa.mount("#app");export{gu as g};
