(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function an(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const re={},Jt=[],Xe=()=>{},Ca=()=>!1,cr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ln=e=>e.startsWith("onUpdate:"),Se=Object.assign,cn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ea=Object.prototype.hasOwnProperty,Z=(e,t)=>Ea.call(e,t),B=Array.isArray,Gt=e=>Us(e)==="[object Map]",ss=e=>Us(e)==="[object Set]",Dn=e=>Us(e)==="[object Date]",W=e=>typeof e=="function",fe=e=>typeof e=="string",Ze=e=>typeof e=="symbol",ae=e=>e!==null&&typeof e=="object",Vi=e=>(ae(e)||W(e))&&W(e.then)&&W(e.catch),qi=Object.prototype.toString,Us=e=>qi.call(e),Ta=e=>Us(e).slice(8,-1),Wi=e=>Us(e)==="[object Object]",un=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ys=an(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ur=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Oa=/-(\w)/g,bt=ur(e=>e.replace(Oa,(t,s)=>s?s.toUpperCase():"")),xa=/\B([A-Z])/g,Dt=ur(e=>e.replace(xa,"-$1").toLowerCase()),Ki=ur(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sr=ur(e=>e?`on${Ki(e)}`:""),vt=(e,t)=>!Object.is(e,t),zs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ji=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},er=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Bn;const dr=()=>Bn||(Bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hr(e){if(B(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=fe(r)?Ia(r):hr(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(fe(e)||ae(e))return e}const Pa=/;(?![^(]*\))/g,Ra=/:([^]+)/,ja=/\/\*[^]*?\*\//g;function Ia(e){const t={};return e.replace(ja,"").split(Pa).forEach(s=>{if(s){const r=s.split(Ra);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function le(e){let t="";if(fe(e))t=e;else if(B(e))for(let s=0;s<e.length;s++){const r=le(e[s]);r&&(t+=r+" ")}else if(ae(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const $a="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ua=an($a);function Gi(e){return!!e||e===""}function La(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=Ut(e[r],t[r]);return s}function Ut(e,t){if(e===t)return!0;let s=Dn(e),r=Dn(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=Ze(e),r=Ze(t),s||r)return e===t;if(s=B(e),r=B(t),s||r)return s&&r?La(e,t):!1;if(s=ae(e),r=ae(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ut(e[o],t[o]))return!1}}return String(e)===String(t)}function dn(e,t){return e.findIndex(s=>Ut(s,t))}const zi=e=>!!(e&&e.__v_isRef===!0),Ye=e=>fe(e)?e:e==null?"":B(e)||ae(e)&&(e.toString===qi||!W(e.toString))?zi(e)?Ye(e.value):JSON.stringify(e,Qi,2):String(e),Qi=(e,t)=>zi(t)?Qi(e,t.value):Gt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[Cr(r,i)+" =>"]=n,s),{})}:ss(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Cr(s))}:Ze(t)?Cr(t):ae(t)&&!B(t)&&!Wi(t)?String(t):t,Cr=(e,t="")=>{var s;return Ze(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ae;class Xi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!t&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ae;try{return Ae=this,t()}finally{Ae=s}}}on(){Ae=this}off(){Ae=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Yi(e){return new Xi(e)}function Zi(){return Ae}function Ma(e,t=!1){Ae&&Ae.cleanups.push(e)}let oe;const Er=new WeakSet;class eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Er.has(this)&&(Er.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||so(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fn(this),ro(this);const t=oe,s=He;oe=this,He=!0;try{return this.fn()}finally{no(this),oe=t,He=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)pn(t);this.deps=this.depsTail=void 0,Fn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Er.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Nr(this)&&this.run()}get dirty(){return Nr(this)}}let to=0,bs,ws;function so(e,t=!1){if(e.flags|=8,t){e.next=ws,ws=e;return}e.next=bs,bs=e}function hn(){to++}function fn(){if(--to>0)return;if(ws){let t=ws;for(ws=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;bs;){let t=bs;for(bs=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function ro(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function no(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),pn(r),Da(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function Nr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(io(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function io(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===xs))return;e.globalVersion=xs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Nr(e)){e.flags&=-3;return}const s=oe,r=He;oe=e,He=!0;try{ro(e);const n=e.fn(e._value);(t.version===0||vt(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{oe=s,He=r,no(e),e.flags&=-3}}function pn(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)pn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Da(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let He=!0;const oo=[];function At(){oo.push(He),He=!1}function kt(){const e=oo.pop();He=e===void 0?!0:e}function Fn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=oe;oe=void 0;try{t()}finally{oe=s}}}let xs=0;class Ba{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class gn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!oe||!He||oe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==oe)s=this.activeLink=new Ba(oe,this),oe.deps?(s.prevDep=oe.depsTail,oe.depsTail.nextDep=s,oe.depsTail=s):oe.deps=oe.depsTail=s,ao(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=oe.depsTail,s.nextDep=void 0,oe.depsTail.nextDep=s,oe.depsTail=s,oe.deps===s&&(oe.deps=r)}return s}trigger(t){this.version++,xs++,this.notify(t)}notify(t){hn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{fn()}}}function ao(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ao(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const tr=new WeakMap,jt=Symbol(""),Hr=Symbol(""),Ps=Symbol("");function _e(e,t,s){if(He&&oe){let r=tr.get(e);r||tr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new gn),n.map=r,n.key=s),n.track()}}function nt(e,t,s,r,n,i){const o=tr.get(e);if(!o){xs++;return}const a=l=>{l&&l.trigger()};if(hn(),t==="clear")o.forEach(a);else{const l=B(e),u=l&&un(s);if(l&&s==="length"){const c=Number(r);o.forEach((d,p)=>{(p==="length"||p===Ps||!Ze(p)&&p>=c)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Ps)),t){case"add":l?u&&a(o.get("length")):(a(o.get(jt)),Gt(e)&&a(o.get(Hr)));break;case"delete":l||(a(o.get(jt)),Gt(e)&&a(o.get(Hr)));break;case"set":Gt(e)&&a(o.get(jt));break}}fn()}function Fa(e,t){const s=tr.get(e);return s&&s.get(t)}function Nt(e){const t=X(e);return t===e?t:(_e(t,"iterate",Ps),Be(e)?t:t.map(ye))}function fr(e){return _e(e=X(e),"iterate",Ps),e}const Na={__proto__:null,[Symbol.iterator](){return Tr(this,Symbol.iterator,ye)},concat(...e){return Nt(this).concat(...e.map(t=>B(t)?Nt(t):t))},entries(){return Tr(this,"entries",e=>(e[1]=ye(e[1]),e))},every(e,t){return tt(this,"every",e,t,void 0,arguments)},filter(e,t){return tt(this,"filter",e,t,s=>s.map(ye),arguments)},find(e,t){return tt(this,"find",e,t,ye,arguments)},findIndex(e,t){return tt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return tt(this,"findLast",e,t,ye,arguments)},findLastIndex(e,t){return tt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return tt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Or(this,"includes",e)},indexOf(...e){return Or(this,"indexOf",e)},join(e){return Nt(this).join(e)},lastIndexOf(...e){return Or(this,"lastIndexOf",e)},map(e,t){return tt(this,"map",e,t,void 0,arguments)},pop(){return as(this,"pop")},push(...e){return as(this,"push",e)},reduce(e,...t){return Nn(this,"reduce",e,t)},reduceRight(e,...t){return Nn(this,"reduceRight",e,t)},shift(){return as(this,"shift")},some(e,t){return tt(this,"some",e,t,void 0,arguments)},splice(...e){return as(this,"splice",e)},toReversed(){return Nt(this).toReversed()},toSorted(e){return Nt(this).toSorted(e)},toSpliced(...e){return Nt(this).toSpliced(...e)},unshift(...e){return as(this,"unshift",e)},values(){return Tr(this,"values",ye)}};function Tr(e,t,s){const r=fr(e),n=r[t]();return r!==e&&!Be(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Ha=Array.prototype;function tt(e,t,s,r,n,i){const o=fr(e),a=o!==e&&!Be(e),l=o[t];if(l!==Ha[t]){const d=l.apply(e,i);return a?ye(d):d}let u=s;o!==e&&(a?u=function(d,p){return s.call(this,ye(d),p,e)}:s.length>2&&(u=function(d,p){return s.call(this,d,p,e)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Nn(e,t,s,r){const n=fr(e);let i=s;return n!==e&&(Be(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,ye(a),l,e)}),n[t](i,...r)}function Or(e,t,s){const r=X(e);_e(r,"iterate",Ps);const n=r[t](...s);return(n===-1||n===!1)&&_n(s[0])?(s[0]=X(s[0]),r[t](...s)):n}function as(e,t,s=[]){At(),hn();const r=X(e)[t].apply(e,s);return fn(),kt(),r}const Va=an("__proto__,__v_isRef,__isVue"),lo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ze));function qa(e){Ze(e)||(e=String(e));const t=X(this);return _e(t,"has",e),t.hasOwnProperty(e)}class co{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?el:po:i?fo:ho).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=B(t);if(!n){let l;if(o&&(l=Na[s]))return l;if(s==="hasOwnProperty")return qa}const a=Reflect.get(t,s,ue(t)?t:r);return(Ze(s)?lo.has(s):Va(s))||(n||_e(t,"get",s),i)?a:ue(a)?o&&un(s)?a:a.value:ae(a)?n?go(a):pr(a):a}}class uo extends co{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Lt(i);if(!Be(r)&&!Lt(r)&&(i=X(i),r=X(r)),!B(t)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=B(t)&&un(s)?Number(s)<t.length:Z(t,s),a=Reflect.set(t,s,r,ue(t)?t:n);return t===X(n)&&(o?vt(r,i)&&nt(t,"set",s,r):nt(t,"add",s,r)),a}deleteProperty(t,s){const r=Z(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&nt(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!Ze(s)||!lo.has(s))&&_e(t,"has",s),r}ownKeys(t){return _e(t,"iterate",B(t)?"length":jt),Reflect.ownKeys(t)}}class Wa extends co{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ka=new uo,Ja=new Wa,Ga=new uo(!0);const Vr=e=>e,Ns=e=>Reflect.getPrototypeOf(e);function za(e,t,s){return function(...r){const n=this.__v_raw,i=X(n),o=Gt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=s?Vr:t?qr:ye;return!t&&_e(i,"iterate",l?Hr:jt),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[c(d[0]),c(d[1])]:c(d),done:p}},[Symbol.iterator](){return this}}}}function Hs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Qa(e,t){const s={get(n){const i=this.__v_raw,o=X(i),a=X(n);e||(vt(n,a)&&_e(o,"get",n),_e(o,"get",a));const{has:l}=Ns(o),u=t?Vr:e?qr:ye;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&_e(X(n),"iterate",jt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=X(i),a=X(n);return e||(vt(n,a)&&_e(o,"has",n),_e(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=X(a),u=t?Vr:e?qr:ye;return!e&&_e(l,"iterate",jt),a.forEach((c,d)=>n.call(i,u(c),u(d),o))}};return Se(s,e?{add:Hs("add"),set:Hs("set"),delete:Hs("delete"),clear:Hs("clear")}:{add(n){!t&&!Be(n)&&!Lt(n)&&(n=X(n));const i=X(this);return Ns(i).has.call(i,n)||(i.add(n),nt(i,"add",n,n)),this},set(n,i){!t&&!Be(i)&&!Lt(i)&&(i=X(i));const o=X(this),{has:a,get:l}=Ns(o);let u=a.call(o,n);u||(n=X(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?vt(i,c)&&nt(o,"set",n,i):nt(o,"add",n,i),this},delete(n){const i=X(this),{has:o,get:a}=Ns(i);let l=o.call(i,n);l||(n=X(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&nt(i,"delete",n,void 0),u},clear(){const n=X(this),i=n.size!==0,o=n.clear();return i&&nt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=za(n,e,t)}),s}function vn(e,t){const s=Qa(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(Z(s,n)&&n in r?s:r,n,i)}const Xa={get:vn(!1,!1)},Ya={get:vn(!1,!0)},Za={get:vn(!0,!1)};const ho=new WeakMap,fo=new WeakMap,po=new WeakMap,el=new WeakMap;function tl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sl(e){return e.__v_skip||!Object.isExtensible(e)?0:tl(Ta(e))}function pr(e){return Lt(e)?e:mn(e,!1,Ka,Xa,ho)}function rl(e){return mn(e,!1,Ga,Ya,fo)}function go(e){return mn(e,!0,Ja,Za,po)}function mn(e,t,s,r,n){if(!ae(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=sl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function mt(e){return Lt(e)?mt(e.__v_raw):!!(e&&e.__v_isReactive)}function Lt(e){return!!(e&&e.__v_isReadonly)}function Be(e){return!!(e&&e.__v_isShallow)}function _n(e){return e?!!e.__v_raw:!1}function X(e){const t=e&&e.__v_raw;return t?X(t):e}function yn(e){return!Z(e,"__v_skip")&&Object.isExtensible(e)&&Ji(e,"__v_skip",!0),e}const ye=e=>ae(e)?pr(e):e,qr=e=>ae(e)?go(e):e;function ue(e){return e?e.__v_isRef===!0:!1}function G(e){return vo(e,!1)}function nl(e){return vo(e,!0)}function vo(e,t){return ue(e)?e:new il(e,t)}class il{constructor(t,s){this.dep=new gn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:X(t),this._value=s?t:ye(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Be(t)||Lt(t);t=r?t:X(t),vt(t,s)&&(this._rawValue=t,this._value=r?t:ye(t),this.dep.trigger())}}function zt(e){return ue(e)?e.value:e}const ol={get:(e,t,s)=>t==="__v_raw"?e:zt(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function mo(e){return mt(e)?e:new Proxy(e,ol)}function al(e){const t=B(e)?new Array(e.length):{};for(const s in e)t[s]=cl(e,s);return t}class ll{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Fa(X(this._object),this._key)}}function cl(e,t,s){const r=e[t];return ue(r)?r:new ll(e,t,s)}class ul{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new gn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return so(this,!0),!0}get value(){const t=this.dep.track();return io(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function dl(e,t,s=!1){let r,n;return W(e)?r=e:(r=e.get,n=e.set),new ul(r,n,s)}const Vs={},sr=new WeakMap;let Ot;function hl(e,t=!1,s=Ot){if(s){let r=sr.get(s);r||sr.set(s,r=[]),r.push(e)}}function fl(e,t,s=re){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=y=>n?y:Be(y)||n===!1||n===0?it(y,1):it(y);let c,d,p,g,b=!1,E=!1;if(ue(e)?(d=()=>e.value,b=Be(e)):mt(e)?(d=()=>u(e),b=!0):B(e)?(E=!0,b=e.some(y=>mt(y)||Be(y)),d=()=>e.map(y=>{if(ue(y))return y.value;if(mt(y))return u(y);if(W(y))return l?l(y,2):y()})):W(e)?t?d=l?()=>l(e,2):e:d=()=>{if(p){At();try{p()}finally{kt()}}const y=Ot;Ot=c;try{return l?l(e,3,[g]):e(g)}finally{Ot=y}}:d=Xe,t&&n){const y=d,$=n===!0?1/0:n;d=()=>it(y(),$)}const A=Zi(),R=()=>{c.stop(),A&&A.active&&cn(A.effects,c)};if(i&&t){const y=t;t=(...$)=>{y(...$),R()}}let j=E?new Array(e.length).fill(Vs):Vs;const O=y=>{if(!(!(c.flags&1)||!c.dirty&&!y))if(t){const $=c.run();if(n||b||(E?$.some((Le,de)=>vt(Le,j[de])):vt($,j))){p&&p();const Le=Ot;Ot=c;try{const de=[$,j===Vs?void 0:E&&j[0]===Vs?[]:j,g];l?l(t,3,de):t(...de),j=$}finally{Ot=Le}}}else c.run()};return a&&a(O),c=new eo(d),c.scheduler=o?()=>o(O,!1):O,g=y=>hl(y,!1,c),p=c.onStop=()=>{const y=sr.get(c);if(y){if(l)l(y,4);else for(const $ of y)$();sr.delete(c)}},t?r?O(!0):j=c.run():o?o(O.bind(null,!0),!0):c.run(),R.pause=c.pause.bind(c),R.resume=c.resume.bind(c),R.stop=R,R}function it(e,t=1/0,s){if(t<=0||!ae(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ue(e))it(e.value,t,s);else if(B(e))for(let r=0;r<e.length;r++)it(e[r],t,s);else if(ss(e)||Gt(e))e.forEach(r=>{it(r,t,s)});else if(Wi(e)){for(const r in e)it(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&it(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ls(e,t,s,r){try{return r?e(...r):e()}catch(n){gr(n,t,s)}}function et(e,t,s,r){if(W(e)){const n=Ls(e,t,s,r);return n&&Vi(n)&&n.catch(i=>{gr(i,t,s)}),n}if(B(e)){const n=[];for(let i=0;i<e.length;i++)n.push(et(e[i],t,s,r));return n}}function gr(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||re;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}a=a.parent}if(i){At(),Ls(i,null,10,[e,l,u]),kt();return}}pl(e,s,n,r,o)}function pl(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const ke=[];let Ge=-1;const Qt=[];let ht=null,Kt=0;const _o=Promise.resolve();let rr=null;function bn(e){const t=rr||_o;return e?t.then(this?e.bind(this):e):t}function gl(e){let t=Ge+1,s=ke.length;for(;t<s;){const r=t+s>>>1,n=ke[r],i=Rs(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function wn(e){if(!(e.flags&1)){const t=Rs(e),s=ke[ke.length-1];!s||!(e.flags&2)&&t>=Rs(s)?ke.push(e):ke.splice(gl(t),0,e),e.flags|=1,yo()}}function yo(){rr||(rr=_o.then(wo))}function vl(e){B(e)?Qt.push(...e):ht&&e.id===-1?ht.splice(Kt+1,0,e):e.flags&1||(Qt.push(e),e.flags|=1),yo()}function Hn(e,t,s=Ge+1){for(;s<ke.length;s++){const r=ke[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ke.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function bo(e){if(Qt.length){const t=[...new Set(Qt)].sort((s,r)=>Rs(s)-Rs(r));if(Qt.length=0,ht){ht.push(...t);return}for(ht=t,Kt=0;Kt<ht.length;Kt++){const s=ht[Kt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ht=null,Kt=0}}const Rs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function wo(e){try{for(Ge=0;Ge<ke.length;Ge++){const t=ke[Ge];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ls(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ge<ke.length;Ge++){const t=ke[Ge];t&&(t.flags&=-2)}Ge=-1,ke.length=0,bo(),rr=null,(ke.length||Qt.length)&&wo()}}let Oe=null,Ao=null;function nr(e){const t=Oe;return Oe=e,Ao=e&&e.type.__scopeId||null,t}function ml(e,t=Oe,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Xn(-1);const i=nr(t);let o;try{o=e(...n)}finally{nr(i),r._d&&Xn(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ge(e,t){if(Oe===null)return e;const s=yr(Oe),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=re]=t[n];i&&(W(i)&&(i={mounted:i,updated:i}),i.deep&&it(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ct(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(At(),et(l,s,8,[e.el,a,e,t]),kt())}}const _l=Symbol("_vte"),yl=e=>e.__isTeleport;function An(e,t){e.shapeFlag&6&&e.component?(e.transition=t,An(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ko(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function bl(e){const t=mc(),s=nl(null);if(t){const n=t.refs===re?t.refs={}:t.refs;Object.defineProperty(n,e,{enumerable:!0,get:()=>s.value,set:i=>s.value=i})}return s}function ir(e,t,s,r,n=!1){if(B(e)){e.forEach((b,E)=>ir(b,t&&(B(t)?t[E]:t),s,r,n));return}if(As(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&ir(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?yr(r.component):r.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===re?a.refs={}:a.refs,d=a.setupState,p=X(d),g=d===re?()=>!1:b=>Z(p,b);if(u!=null&&u!==l&&(fe(u)?(c[u]=null,g(u)&&(d[u]=null)):ue(u)&&(u.value=null)),W(l))Ls(l,a,12,[o,c]);else{const b=fe(l),E=ue(l);if(b||E){const A=()=>{if(e.f){const R=b?g(l)?d[l]:c[l]:l.value;n?B(R)&&cn(R,i):B(R)?R.includes(i)||R.push(i):b?(c[l]=[i],g(l)&&(d[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else b?(c[l]=o,g(l)&&(d[l]=o)):E&&(l.value=o,e.k&&(c[e.k]=o))};o?(A.id=-1,je(A,s)):A()}}}dr().requestIdleCallback;dr().cancelIdleCallback;const As=e=>!!e.type.__asyncLoader,So=e=>e.type.__isKeepAlive;function wl(e,t){Co(e,"a",t)}function Al(e,t){Co(e,"da",t)}function Co(e,t,s=me){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(vr(t,r,s),s){let n=s.parent;for(;n&&n.parent;)So(n.parent.vnode)&&kl(r,t,s,n),n=n.parent}}function kl(e,t,s,r){const n=vr(t,e,r,!0);Eo(()=>{cn(r[t],n)},s)}function vr(e,t,s=me,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{At();const a=Ds(s),l=et(t,s,e,o);return a(),kt(),l});return r?n.unshift(i):n.push(i),i}}const at=e=>(t,s=me)=>{(!Is||e==="sp")&&vr(e,(...r)=>t(...r),s)},Sl=at("bm"),kn=at("m"),Cl=at("bu"),El=at("u"),Tl=at("bum"),Eo=at("um"),Ol=at("sp"),xl=at("rtg"),Pl=at("rtc");function Rl(e,t=me){vr("ec",e,t)}const jl=Symbol.for("v-ndc");function It(e,t,s,r){let n;const i=s,o=B(e);if(o||fe(e)){const a=o&&mt(e);let l=!1;a&&(l=!Be(e),e=fr(e)),n=new Array(e.length);for(let u=0,c=e.length;u<c;u++)n[u]=t(l?ye(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(ae(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=t(e[c],c,l,i)}}else n=[];return n}const Wr=e=>e?Go(e)?yr(e):Wr(e.parent):null,ks=Se(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wr(e.parent),$root:e=>Wr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Oo(e),$forceUpdate:e=>e.f||(e.f=()=>{wn(e.update)}),$nextTick:e=>e.n||(e.n=bn.bind(e.proxy)),$watch:e=>tc.bind(e)}),xr=(e,t)=>e!==re&&!e.__isScriptSetup&&Z(e,t),Il={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(xr(r,t))return o[t]=1,r[t];if(n!==re&&Z(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&Z(u,t))return o[t]=3,i[t];if(s!==re&&Z(s,t))return o[t]=4,s[t];Kr&&(o[t]=0)}}const c=ks[t];let d,p;if(c)return t==="$attrs"&&_e(e.attrs,"get",""),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==re&&Z(s,t))return o[t]=4,s[t];if(p=l.config.globalProperties,Z(p,t))return p[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return xr(n,t)?(n[t]=s,!0):r!==re&&Z(r,t)?(r[t]=s,!0):Z(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==re&&Z(e,o)||xr(t,o)||(a=i[0])&&Z(a,o)||Z(r,o)||Z(ks,o)||Z(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Z(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Vn(e){return B(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Kr=!0;function $l(e){const t=Oo(e),s=e.proxy,r=e.ctx;Kr=!1,t.beforeCreate&&qn(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:p,beforeUpdate:g,updated:b,activated:E,deactivated:A,beforeDestroy:R,beforeUnmount:j,destroyed:O,unmounted:y,render:$,renderTracked:Le,renderTriggered:de,errorCaptured:J,serverPrefetch:V,expose:ce,inheritAttrs:Ce,components:Me,directives:De,filters:lt}=t;if(u&&Ul(u,r,null),o)for(const q in o){const ee=o[q];W(ee)&&(r[q]=ee.bind(s))}if(n){const q=n.call(s,s);ae(q)&&(e.data=pr(q))}if(Kr=!0,i)for(const q in i){const ee=i[q],U=W(ee)?ee.bind(s,s):W(ee.get)?ee.get.bind(s,s):Xe,C=!W(ee)&&W(ee.set)?ee.set.bind(s):Xe,F=xe({get:U,set:C});Object.defineProperty(r,q,{enumerable:!0,configurable:!0,get:()=>F.value,set:he=>F.value=he})}if(a)for(const q in a)To(a[q],r,s,q);if(l){const q=W(l)?l.call(s):l;Reflect.ownKeys(q).forEach(ee=>{Nl(ee,q[ee])})}c&&qn(c,e,"c");function se(q,ee){B(ee)?ee.forEach(U=>q(U.bind(s))):ee&&q(ee.bind(s))}if(se(Sl,d),se(kn,p),se(Cl,g),se(El,b),se(wl,E),se(Al,A),se(Rl,J),se(Pl,Le),se(xl,de),se(Tl,j),se(Eo,y),se(Ol,V),B(ce))if(ce.length){const q=e.exposed||(e.exposed={});ce.forEach(ee=>{Object.defineProperty(q,ee,{get:()=>s[ee],set:U=>s[ee]=U})})}else e.exposed||(e.exposed={});$&&e.render===Xe&&(e.render=$),Ce!=null&&(e.inheritAttrs=Ce),Me&&(e.components=Me),De&&(e.directives=De),V&&ko(e)}function Ul(e,t,s=Xe){B(e)&&(e=Jr(e));for(const r in e){const n=e[r];let i;ae(n)?"default"in n?i=Ss(n.from||r,n.default,!0):i=Ss(n.from||r):i=Ss(n),ue(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function qn(e,t,s){et(B(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function To(e,t,s,r){let n=r.includes(".")?Ho(s,r):()=>s[r];if(fe(e)){const i=t[e];W(i)&&_t(n,i)}else if(W(e))_t(n,e.bind(s));else if(ae(e))if(B(e))e.forEach(i=>To(i,t,s,r));else{const i=W(e.handler)?e.handler.bind(s):t[e.handler];W(i)&&_t(n,i,e)}}function Oo(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(u=>or(l,u,o,!0)),or(l,t,o)),ae(t)&&i.set(t,l),l}function or(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&or(e,i,s,!0),n&&n.forEach(o=>or(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=Ll[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const Ll={data:Wn,props:Kn,emits:Kn,methods:ms,computed:ms,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:ms,directives:ms,watch:Dl,provide:Wn,inject:Ml};function Wn(e,t){return t?e?function(){return Se(W(e)?e.call(this,this):e,W(t)?t.call(this,this):t)}:t:e}function Ml(e,t){return ms(Jr(e),Jr(t))}function Jr(e){if(B(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function we(e,t){return e?[...new Set([].concat(e,t))]:t}function ms(e,t){return e?Se(Object.create(null),e,t):t}function Kn(e,t){return e?B(e)&&B(t)?[...new Set([...e,...t])]:Se(Object.create(null),Vn(e),Vn(t??{})):t}function Dl(e,t){if(!e)return t;if(!t)return e;const s=Se(Object.create(null),e);for(const r in t)s[r]=we(e[r],t[r]);return s}function xo(){return{app:null,config:{isNativeTag:Ca,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bl=0;function Fl(e,t){return function(r,n=null){W(r)||(r=Se({},r)),n!=null&&!ae(n)&&(n=null);const i=xo(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Bl++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:kc,get config(){return i.config},set config(c){},use(c,...d){return o.has(c)||(c&&W(c.install)?(o.add(c),c.install(u,...d)):W(c)&&(o.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,p){if(!l){const g=u._ceVNode||Ue(r,n);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),e(g,c,p),l=!0,u._container=c,c.__vue_app__=u,yr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(et(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=$t;$t=u;try{return c()}finally{$t=d}}};return u}}let $t=null;function Nl(e,t){if(me){let s=me.provides;const r=me.parent&&me.parent.provides;r===s&&(s=me.provides=Object.create(r)),s[e]=t}}function Ss(e,t,s=!1){const r=me||Oe;if(r||$t){const n=$t?$t._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&W(t)?t.call(r&&r.proxy):t}}function Hl(){return!!(me||Oe||$t)}const Po={},Ro=()=>Object.create(Po),jo=e=>Object.getPrototypeOf(e)===Po;function Vl(e,t,s,r=!1){const n={},i=Ro();e.propsDefaults=Object.create(null),Io(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:rl(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function ql(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=X(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let p=c[d];if(mr(e.emitsOptions,p))continue;const g=t[p];if(l)if(Z(i,p))g!==i[p]&&(i[p]=g,u=!0);else{const b=bt(p);n[b]=Gr(l,a,b,g,e,!1)}else g!==i[p]&&(i[p]=g,u=!0)}}}else{Io(e,t,n,i)&&(u=!0);let c;for(const d in a)(!t||!Z(t,d)&&((c=Dt(d))===d||!Z(t,c)))&&(l?s&&(s[d]!==void 0||s[c]!==void 0)&&(n[d]=Gr(l,a,d,void 0,e,!0)):delete n[d]);if(i!==a)for(const d in i)(!t||!Z(t,d))&&(delete i[d],u=!0)}u&&nt(e.attrs,"set","")}function Io(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ys(l))continue;const u=t[l];let c;n&&Z(n,c=bt(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:mr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=X(s),u=a||re;for(let c=0;c<i.length;c++){const d=i[c];s[d]=Gr(n,l,d,u[d],e,!Z(u,d))}}return o}function Gr(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=Z(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&W(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Ds(n);r=u[s]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Dt(s))&&(r=!0))}return r}const Wl=new WeakMap;function $o(e,t,s=!1){const r=s?Wl:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!W(e)){const c=d=>{l=!0;const[p,g]=$o(d,t,!0);Se(o,p),g&&a.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return ae(e)&&r.set(e,Jt),Jt;if(B(i))for(let c=0;c<i.length;c++){const d=bt(i[c]);Jn(d)&&(o[d]=re)}else if(i)for(const c in i){const d=bt(c);if(Jn(d)){const p=i[c],g=o[d]=B(p)||W(p)?{type:p}:Se({},p),b=g.type;let E=!1,A=!0;if(B(b))for(let R=0;R<b.length;++R){const j=b[R],O=W(j)&&j.name;if(O==="Boolean"){E=!0;break}else O==="String"&&(A=!1)}else E=W(b)&&b.name==="Boolean";g[0]=E,g[1]=A,(E||Z(g,"default"))&&a.push(d)}}const u=[o,a];return ae(e)&&r.set(e,u),u}function Jn(e){return e[0]!=="$"&&!ys(e)}const Uo=e=>e[0]==="_"||e==="$stable",Sn=e=>B(e)?e.map(ze):[ze(e)],Kl=(e,t,s)=>{if(t._n)return t;const r=ml((...n)=>Sn(t(...n)),s);return r._c=!1,r},Lo=(e,t,s)=>{const r=e._ctx;for(const n in e){if(Uo(n))continue;const i=e[n];if(W(i))t[n]=Kl(n,i,r);else if(i!=null){const o=Sn(i);t[n]=()=>o}}},Mo=(e,t)=>{const s=Sn(t);e.slots.default=()=>s},Do=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},Jl=(e,t,s)=>{const r=e.slots=Ro();if(e.vnode.shapeFlag&32){const n=t._;n?(Do(r,t,s),s&&Ji(r,"_",n,!0)):Lo(t,r)}else t&&Mo(e,t)},Gl=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=re;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Do(n,t,s):(i=!t.$stable,Lo(t,n)),o=t}else t&&(Mo(e,t),o={default:1});if(i)for(const a in n)!Uo(a)&&o[a]==null&&delete n[a]},je=lc;function zl(e){return Ql(e)}function Ql(e,t){const s=dr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:p,setScopeId:g=Xe,insertStaticContent:b}=e,E=(h,f,v,k=null,_=null,w=null,P=void 0,x=null,T=!!f.dynamicChildren)=>{if(h===f)return;h&&!ls(h,f)&&(k=Fs(h),he(h,_,w,!0),h=null),f.patchFlag===-2&&(T=!1,f.dynamicChildren=null);const{type:S,ref:N,shapeFlag:I}=f;switch(S){case _r:A(h,f,v,k);break;case Mt:R(h,f,v,k);break;case Rr:h==null&&j(f,v,k,P);break;case be:Me(h,f,v,k,_,w,P,x,T);break;default:I&1?$(h,f,v,k,_,w,P,x,T):I&6?De(h,f,v,k,_,w,P,x,T):(I&64||I&128)&&S.process(h,f,v,k,_,w,P,x,T,is)}N!=null&&_&&ir(N,h&&h.ref,w,f||h,!f)},A=(h,f,v,k)=>{if(h==null)r(f.el=a(f.children),v,k);else{const _=f.el=h.el;f.children!==h.children&&u(_,f.children)}},R=(h,f,v,k)=>{h==null?r(f.el=l(f.children||""),v,k):f.el=h.el},j=(h,f,v,k)=>{[h.el,h.anchor]=b(h.children,f,v,k,h.el,h.anchor)},O=({el:h,anchor:f},v,k)=>{let _;for(;h&&h!==f;)_=p(h),r(h,v,k),h=_;r(f,v,k)},y=({el:h,anchor:f})=>{let v;for(;h&&h!==f;)v=p(h),n(h),h=v;n(f)},$=(h,f,v,k,_,w,P,x,T)=>{f.type==="svg"?P="svg":f.type==="math"&&(P="mathml"),h==null?Le(f,v,k,_,w,P,x,T):V(h,f,_,w,P,x,T)},Le=(h,f,v,k,_,w,P,x)=>{let T,S;const{props:N,shapeFlag:I,transition:M,dirs:H}=h;if(T=h.el=o(h.type,w,N&&N.is,N),I&8?c(T,h.children):I&16&&J(h.children,T,null,k,_,Pr(h,w),P,x),H&&Ct(h,null,k,"created"),de(T,h,h.scopeId,P,k),N){for(const ne in N)ne!=="value"&&!ys(ne)&&i(T,ne,null,N[ne],w,k);"value"in N&&i(T,"value",null,N.value,w),(S=N.onVnodeBeforeMount)&&Ke(S,k,h)}H&&Ct(h,null,k,"beforeMount");const Q=Xl(_,M);Q&&M.beforeEnter(T),r(T,f,v),((S=N&&N.onVnodeMounted)||Q||H)&&je(()=>{S&&Ke(S,k,h),Q&&M.enter(T),H&&Ct(h,null,k,"mounted")},_)},de=(h,f,v,k,_)=>{if(v&&g(h,v),k)for(let w=0;w<k.length;w++)g(h,k[w]);if(_){let w=_.subTree;if(f===w||qo(w.type)&&(w.ssContent===f||w.ssFallback===f)){const P=_.vnode;de(h,P,P.scopeId,P.slotScopeIds,_.parent)}}},J=(h,f,v,k,_,w,P,x,T=0)=>{for(let S=T;S<h.length;S++){const N=h[S]=x?ft(h[S]):ze(h[S]);E(null,N,f,v,k,_,w,P,x)}},V=(h,f,v,k,_,w,P)=>{const x=f.el=h.el;let{patchFlag:T,dynamicChildren:S,dirs:N}=f;T|=h.patchFlag&16;const I=h.props||re,M=f.props||re;let H;if(v&&Et(v,!1),(H=M.onVnodeBeforeUpdate)&&Ke(H,v,f,h),N&&Ct(f,h,v,"beforeUpdate"),v&&Et(v,!0),(I.innerHTML&&M.innerHTML==null||I.textContent&&M.textContent==null)&&c(x,""),S?ce(h.dynamicChildren,S,x,v,k,Pr(f,_),w):P||ee(h,f,x,null,v,k,Pr(f,_),w,!1),T>0){if(T&16)Ce(x,I,M,v,_);else if(T&2&&I.class!==M.class&&i(x,"class",null,M.class,_),T&4&&i(x,"style",I.style,M.style,_),T&8){const Q=f.dynamicProps;for(let ne=0;ne<Q.length;ne++){const te=Q[ne],Pe=I[te],Ee=M[te];(Ee!==Pe||te==="value")&&i(x,te,Pe,Ee,_,v)}}T&1&&h.children!==f.children&&c(x,f.children)}else!P&&S==null&&Ce(x,I,M,v,_);((H=M.onVnodeUpdated)||N)&&je(()=>{H&&Ke(H,v,f,h),N&&Ct(f,h,v,"updated")},k)},ce=(h,f,v,k,_,w,P)=>{for(let x=0;x<f.length;x++){const T=h[x],S=f[x],N=T.el&&(T.type===be||!ls(T,S)||T.shapeFlag&70)?d(T.el):v;E(T,S,N,null,k,_,w,P,!0)}},Ce=(h,f,v,k,_)=>{if(f!==v){if(f!==re)for(const w in f)!ys(w)&&!(w in v)&&i(h,w,f[w],null,_,k);for(const w in v){if(ys(w))continue;const P=v[w],x=f[w];P!==x&&w!=="value"&&i(h,w,x,P,_,k)}"value"in v&&i(h,"value",f.value,v.value,_)}},Me=(h,f,v,k,_,w,P,x,T)=>{const S=f.el=h?h.el:a(""),N=f.anchor=h?h.anchor:a("");let{patchFlag:I,dynamicChildren:M,slotScopeIds:H}=f;H&&(x=x?x.concat(H):H),h==null?(r(S,v,k),r(N,v,k),J(f.children||[],v,N,_,w,P,x,T)):I>0&&I&64&&M&&h.dynamicChildren?(ce(h.dynamicChildren,M,v,_,w,P,x),(f.key!=null||_&&f===_.subTree)&&Bo(h,f,!0)):ee(h,f,v,N,_,w,P,x,T)},De=(h,f,v,k,_,w,P,x,T)=>{f.slotScopeIds=x,h==null?f.shapeFlag&512?_.ctx.activate(f,v,k,P,T):lt(f,v,k,_,w,P,T):St(h,f,T)},lt=(h,f,v,k,_,w,P)=>{const x=h.component=vc(h,k,_);if(So(h)&&(x.ctx.renderer=is),_c(x,!1,P),x.asyncDep){if(_&&_.registerDep(x,se,P),!h.el){const T=x.subTree=Ue(Mt);R(null,T,f,v)}}else se(x,h,f,v,_,w,P)},St=(h,f,v)=>{const k=f.component=h.component;if(oc(h,f,v))if(k.asyncDep&&!k.asyncResolved){q(k,f,v);return}else k.next=f,k.update();else f.el=h.el,k.vnode=f},se=(h,f,v,k,_,w,P)=>{const x=()=>{if(h.isMounted){let{next:I,bu:M,u:H,parent:Q,vnode:ne}=h;{const qe=Fo(h);if(qe){I&&(I.el=ne.el,q(h,I,P)),qe.asyncDep.then(()=>{h.isUnmounted||x()});return}}let te=I,Pe;Et(h,!1),I?(I.el=ne.el,q(h,I,P)):I=ne,M&&zs(M),(Pe=I.props&&I.props.onVnodeBeforeUpdate)&&Ke(Pe,Q,I,ne),Et(h,!0);const Ee=zn(h),Ve=h.subTree;h.subTree=Ee,E(Ve,Ee,d(Ve.el),Fs(Ve),h,_,w),I.el=Ee.el,te===null&&ac(h,Ee.el),H&&je(H,_),(Pe=I.props&&I.props.onVnodeUpdated)&&je(()=>Ke(Pe,Q,I,ne),_)}else{let I;const{el:M,props:H}=f,{bm:Q,m:ne,parent:te,root:Pe,type:Ee}=h,Ve=As(f);Et(h,!1),Q&&zs(Q),!Ve&&(I=H&&H.onVnodeBeforeMount)&&Ke(I,te,f),Et(h,!0);{Pe.ce&&Pe.ce._injectChildStyle(Ee);const qe=h.subTree=zn(h);E(null,qe,v,k,h,_,w),f.el=qe.el}if(ne&&je(ne,_),!Ve&&(I=H&&H.onVnodeMounted)){const qe=f;je(()=>Ke(I,te,qe),_)}(f.shapeFlag&256||te&&As(te.vnode)&&te.vnode.shapeFlag&256)&&h.a&&je(h.a,_),h.isMounted=!0,f=v=k=null}};h.scope.on();const T=h.effect=new eo(x);h.scope.off();const S=h.update=T.run.bind(T),N=h.job=T.runIfDirty.bind(T);N.i=h,N.id=h.uid,T.scheduler=()=>wn(N),Et(h,!0),S()},q=(h,f,v)=>{f.component=h;const k=h.vnode.props;h.vnode=f,h.next=null,ql(h,f.props,k,v),Gl(h,f.children,v),At(),Hn(h),kt()},ee=(h,f,v,k,_,w,P,x,T=!1)=>{const S=h&&h.children,N=h?h.shapeFlag:0,I=f.children,{patchFlag:M,shapeFlag:H}=f;if(M>0){if(M&128){C(S,I,v,k,_,w,P,x,T);return}else if(M&256){U(S,I,v,k,_,w,P,x,T);return}}H&8?(N&16&&ns(S,_,w),I!==S&&c(v,I)):N&16?H&16?C(S,I,v,k,_,w,P,x,T):ns(S,_,w,!0):(N&8&&c(v,""),H&16&&J(I,v,k,_,w,P,x,T))},U=(h,f,v,k,_,w,P,x,T)=>{h=h||Jt,f=f||Jt;const S=h.length,N=f.length,I=Math.min(S,N);let M;for(M=0;M<I;M++){const H=f[M]=T?ft(f[M]):ze(f[M]);E(h[M],H,v,null,_,w,P,x,T)}S>N?ns(h,_,w,!0,!1,I):J(f,v,k,_,w,P,x,T,I)},C=(h,f,v,k,_,w,P,x,T)=>{let S=0;const N=f.length;let I=h.length-1,M=N-1;for(;S<=I&&S<=M;){const H=h[S],Q=f[S]=T?ft(f[S]):ze(f[S]);if(ls(H,Q))E(H,Q,v,null,_,w,P,x,T);else break;S++}for(;S<=I&&S<=M;){const H=h[I],Q=f[M]=T?ft(f[M]):ze(f[M]);if(ls(H,Q))E(H,Q,v,null,_,w,P,x,T);else break;I--,M--}if(S>I){if(S<=M){const H=M+1,Q=H<N?f[H].el:k;for(;S<=M;)E(null,f[S]=T?ft(f[S]):ze(f[S]),v,Q,_,w,P,x,T),S++}}else if(S>M)for(;S<=I;)he(h[S],_,w,!0),S++;else{const H=S,Q=S,ne=new Map;for(S=Q;S<=M;S++){const Re=f[S]=T?ft(f[S]):ze(f[S]);Re.key!=null&&ne.set(Re.key,S)}let te,Pe=0;const Ee=M-Q+1;let Ve=!1,qe=0;const os=new Array(Ee);for(S=0;S<Ee;S++)os[S]=0;for(S=H;S<=I;S++){const Re=h[S];if(Pe>=Ee){he(Re,_,w,!0);continue}let We;if(Re.key!=null)We=ne.get(Re.key);else for(te=Q;te<=M;te++)if(os[te-Q]===0&&ls(Re,f[te])){We=te;break}We===void 0?he(Re,_,w,!0):(os[We-Q]=S+1,We>=qe?qe=We:Ve=!0,E(Re,f[We],v,null,_,w,P,x,T),Pe++)}const Ln=Ve?Yl(os):Jt;for(te=Ln.length-1,S=Ee-1;S>=0;S--){const Re=Q+S,We=f[Re],Mn=Re+1<N?f[Re+1].el:k;os[S]===0?E(null,We,v,Mn,_,w,P,x,T):Ve&&(te<0||S!==Ln[te]?F(We,v,Mn,2):te--)}}},F=(h,f,v,k,_=null)=>{const{el:w,type:P,transition:x,children:T,shapeFlag:S}=h;if(S&6){F(h.component.subTree,f,v,k);return}if(S&128){h.suspense.move(f,v,k);return}if(S&64){P.move(h,f,v,is);return}if(P===be){r(w,f,v);for(let I=0;I<T.length;I++)F(T[I],f,v,k);r(h.anchor,f,v);return}if(P===Rr){O(h,f,v);return}if(k!==2&&S&1&&x)if(k===0)x.beforeEnter(w),r(w,f,v),je(()=>x.enter(w),_);else{const{leave:I,delayLeave:M,afterLeave:H}=x,Q=()=>r(w,f,v),ne=()=>{I(w,()=>{Q(),H&&H()})};M?M(w,Q,ne):ne()}else r(w,f,v)},he=(h,f,v,k=!1,_=!1)=>{const{type:w,props:P,ref:x,children:T,dynamicChildren:S,shapeFlag:N,patchFlag:I,dirs:M,cacheIndex:H}=h;if(I===-2&&(_=!1),x!=null&&ir(x,null,v,h,!0),H!=null&&(f.renderCache[H]=void 0),N&256){f.ctx.deactivate(h);return}const Q=N&1&&M,ne=!As(h);let te;if(ne&&(te=P&&P.onVnodeBeforeUnmount)&&Ke(te,f,h),N&6)Sa(h.component,v,k);else{if(N&128){h.suspense.unmount(v,k);return}Q&&Ct(h,null,f,"beforeUnmount"),N&64?h.type.remove(h,f,v,is,k):S&&!S.hasOnce&&(w!==be||I>0&&I&64)?ns(S,f,v,!1,!0):(w===be&&I&384||!_&&N&16)&&ns(T,f,v),k&&$n(h)}(ne&&(te=P&&P.onVnodeUnmounted)||Q)&&je(()=>{te&&Ke(te,f,h),Q&&Ct(h,null,f,"unmounted")},v)},$n=h=>{const{type:f,el:v,anchor:k,transition:_}=h;if(f===be){ka(v,k);return}if(f===Rr){y(h);return}const w=()=>{n(v),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(h.shapeFlag&1&&_&&!_.persisted){const{leave:P,delayLeave:x}=_,T=()=>P(v,w);x?x(h.el,w,T):T()}else w()},ka=(h,f)=>{let v;for(;h!==f;)v=p(h),n(h),h=v;n(f)},Sa=(h,f,v)=>{const{bum:k,scope:_,job:w,subTree:P,um:x,m:T,a:S}=h;Gn(T),Gn(S),k&&zs(k),_.stop(),w&&(w.flags|=8,he(P,h,f,v)),x&&je(x,f),je(()=>{h.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ns=(h,f,v,k=!1,_=!1,w=0)=>{for(let P=w;P<h.length;P++)he(h[P],f,v,k,_)},Fs=h=>{if(h.shapeFlag&6)return Fs(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const f=p(h.anchor||h.el),v=f&&f[_l];return v?p(v):f};let kr=!1;const Un=(h,f,v)=>{h==null?f._vnode&&he(f._vnode,null,null,!0):E(f._vnode||null,h,f,null,null,null,v),f._vnode=h,kr||(kr=!0,Hn(),bo(),kr=!1)},is={p:E,um:he,m:F,r:$n,mt:lt,mc:J,pc:ee,pbc:ce,n:Fs,o:e};return{render:Un,hydrate:void 0,createApp:Fl(Un)}}function Pr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Et({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xl(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Bo(e,t,s=!1){const r=e.children,n=t.children;if(B(r)&&B(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=ft(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Bo(o,a)),a.type===_r&&(a.el=o.el)}}function Yl(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=s[s.length-1],e[n]<u){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Fo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Fo(t)}function Gn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zl=Symbol.for("v-scx"),ec=()=>Ss(Zl);function _t(e,t,s){return No(e,t,s)}function No(e,t,s=re){const{immediate:r,deep:n,flush:i,once:o}=s,a=Se({},s),l=t&&r||!t&&i!=="post";let u;if(Is){if(i==="sync"){const g=ec();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=Xe,g.resume=Xe,g.pause=Xe,g}}const c=me;a.call=(g,b,E)=>et(g,c,b,E);let d=!1;i==="post"?a.scheduler=g=>{je(g,c&&c.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,b)=>{b?g():wn(g)}),a.augmentJob=g=>{t&&(g.flags|=4),d&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const p=fl(e,t,a);return Is&&(u?u.push(p):l&&p()),p}function tc(e,t,s){const r=this.proxy,n=fe(e)?e.includes(".")?Ho(r,e):()=>r[e]:e.bind(r,r);let i;W(t)?i=t:(i=t.handler,s=t);const o=Ds(this),a=No(n,i.bind(r),s);return o(),a}function Ho(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const sc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${bt(t)}Modifiers`]||e[`${Dt(t)}Modifiers`];function rc(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||re;let n=s;const i=t.startsWith("update:"),o=i&&sc(r,t.slice(7));o&&(o.trim&&(n=s.map(c=>fe(c)?c.trim():c)),o.number&&(n=s.map(er)));let a,l=r[a=Sr(t)]||r[a=Sr(bt(t))];!l&&i&&(l=r[a=Sr(Dt(t))]),l&&et(l,e,6,n);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,et(u,e,6,n)}}function Vo(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!W(e)){const l=u=>{const c=Vo(u,t,!0);c&&(a=!0,Se(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ae(e)&&r.set(e,null),null):(B(i)?i.forEach(l=>o[l]=null):Se(o,i),ae(e)&&r.set(e,o),o)}function mr(e,t){return!e||!cr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Z(e,t[0].toLowerCase()+t.slice(1))||Z(e,Dt(t))||Z(e,t))}function zn(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:d,data:p,setupState:g,ctx:b,inheritAttrs:E}=e,A=nr(e);let R,j;try{if(s.shapeFlag&4){const y=n||r,$=y;R=ze(u.call($,y,c,d,g,p,b)),j=a}else{const y=t;R=ze(y.length>1?y(d,{attrs:a,slots:o,emit:l}):y(d,null)),j=t.props?a:nc(a)}}catch(y){Cs.length=0,gr(y,e,1),R=Ue(Mt)}let O=R;if(j&&E!==!1){const y=Object.keys(j),{shapeFlag:$}=O;y.length&&$&7&&(i&&y.some(ln)&&(j=ic(j,i)),O=Yt(O,j,!1,!0))}return s.dirs&&(O=Yt(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(s.dirs):s.dirs),s.transition&&An(O,s.transition),R=O,nr(A),R}const nc=e=>{let t;for(const s in e)(s==="class"||s==="style"||cr(s))&&((t||(t={}))[s]=e[s]);return t},ic=(e,t)=>{const s={};for(const r in e)(!ln(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function oc(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Qn(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const p=c[d];if(o[p]!==r[p]&&!mr(u,p))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Qn(r,o,u):!0:!!o;return!1}function Qn(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!mr(s,i))return!0}return!1}function ac({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const qo=e=>e.__isSuspense;function lc(e,t){t&&t.pendingBranch?B(e)?t.effects.push(...e):t.effects.push(e):vl(e)}const be=Symbol.for("v-fgt"),_r=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),Rr=Symbol.for("v-stc"),Cs=[];let $e=null;function L(e=!1){Cs.push($e=e?null:[])}function cc(){Cs.pop(),$e=Cs[Cs.length-1]||null}let js=1;function Xn(e,t=!1){js+=e,e<0&&$e&&t&&($e.hasOnce=!0)}function Wo(e){return e.dynamicChildren=js>0?$e||Jt:null,cc(),js>0&&$e&&$e.push(e),e}function D(e,t,s,r,n,i){return Wo(m(e,t,s,r,n,i,!0))}function uc(e,t,s,r,n){return Wo(Ue(e,t,s,r,n,!0))}function Ko(e){return e?e.__v_isVNode===!0:!1}function ls(e,t){return e.type===t.type&&e.key===t.key}const Jo=({key:e})=>e??null,Qs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||ue(e)||W(e)?{i:Oe,r:e,k:t,f:!!s}:e:null);function m(e,t=null,s=null,r=0,n=null,i=e===be?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jo(t),ref:t&&Qs(t),scopeId:Ao,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Oe};return a?(Cn(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=fe(s)?8:16),js>0&&!o&&$e&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$e.push(l),l}const Ue=dc;function dc(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===jl)&&(e=Mt),Ko(e)){const a=Yt(e,t,!0);return s&&Cn(a,s),js>0&&!i&&$e&&(a.shapeFlag&6?$e[$e.indexOf(e)]=a:$e.push(a)),a.patchFlag=-2,a}if(Ac(e)&&(e=e.__vccOpts),t){t=hc(t);let{class:a,style:l}=t;a&&!fe(a)&&(t.class=le(a)),ae(l)&&(_n(l)&&!B(l)&&(l=Se({},l)),t.style=hr(l))}const o=fe(e)?1:qo(e)?128:yl(e)?64:ae(e)?4:W(e)?2:0;return m(e,t,s,r,n,o,i,!0)}function hc(e){return e?_n(e)||jo(e)?Se({},e):e:null}function Yt(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?fc(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Jo(u),ref:t&&t.ref?s&&i?B(i)?i.concat(Qs(t)):[i,Qs(t)]:Qs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==be?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yt(e.ssContent),ssFallback:e.ssFallback&&Yt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&An(c,l.clone(c)),c}function Ms(e=" ",t=0){return Ue(_r,null,e,t)}function Y(e="",t=!1){return t?(L(),uc(Mt,null,e)):Ue(Mt,null,e)}function ze(e){return e==null||typeof e=="boolean"?Ue(Mt):B(e)?Ue(be,null,e.slice()):Ko(e)?ft(e):Ue(_r,null,String(e))}function ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yt(e)}function Cn(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(B(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),Cn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!jo(t)?t._ctx=Oe:n===3&&Oe&&(Oe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else W(t)?(t={default:t,_ctx:Oe},s=32):(t=String(t),r&64?(s=16,t=[Ms(t)]):s=8);e.children=t,e.shapeFlag|=s}function fc(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=le([t.class,r.class]));else if(n==="style")t.style=hr([t.style,r.style]);else if(cr(n)){const i=t[n],o=r[n];o&&i!==o&&!(B(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function Ke(e,t,s,r=null){et(e,t,7,[s,r])}const pc=xo();let gc=0;function vc(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||pc,i={uid:gc++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Xi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$o(r,n),emitsOptions:Vo(r,n),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=rc.bind(null,i),e.ce&&e.ce(i),i}let me=null;const mc=()=>me||Oe;let ar,zr;{const e=dr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};ar=t("__VUE_INSTANCE_SETTERS__",s=>me=s),zr=t("__VUE_SSR_SETTERS__",s=>Is=s)}const Ds=e=>{const t=me;return ar(e),e.scope.on(),()=>{e.scope.off(),ar(t)}},Yn=()=>{me&&me.scope.off(),ar(null)};function Go(e){return e.vnode.shapeFlag&4}let Is=!1;function _c(e,t=!1,s=!1){t&&zr(t);const{props:r,children:n}=e.vnode,i=Go(e);Vl(e,r,i,t),Jl(e,n,s);const o=i?yc(e,t):void 0;return t&&zr(!1),o}function yc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Il);const{setup:r}=s;if(r){At();const n=e.setupContext=r.length>1?wc(e):null,i=Ds(e),o=Ls(r,e,0,[e.props,n]),a=Vi(o);if(kt(),i(),(a||e.sp)&&!As(e)&&ko(e),a){if(o.then(Yn,Yn),t)return o.then(l=>{Zn(e,l)}).catch(l=>{gr(l,e,0)});e.asyncDep=o}else Zn(e,o)}else zo(e)}function Zn(e,t,s){W(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ae(t)&&(e.setupState=mo(t)),zo(e)}function zo(e,t,s){const r=e.type;e.render||(e.render=r.render||Xe);{const n=Ds(e);At();try{$l(e)}finally{kt(),n()}}}const bc={get(e,t){return _e(e,"get",""),e[t]}};function wc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,bc),slots:e.slots,emit:e.emit,expose:t}}function yr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mo(yn(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ks)return ks[s](e)},has(t,s){return s in t||s in ks}})):e.proxy}function Ac(e){return W(e)&&"__vccOpts"in e}const xe=(e,t)=>dl(e,t,Is),kc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qr;const ei=typeof window<"u"&&window.trustedTypes;if(ei)try{Qr=ei.createPolicy("vue",{createHTML:e=>e})}catch{}const Qo=Qr?e=>Qr.createHTML(e):e=>e,Sc="http://www.w3.org/2000/svg",Cc="http://www.w3.org/1998/Math/MathML",st=typeof document<"u"?document:null,ti=st&&st.createElement("template"),Ec={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?st.createElementNS(Sc,e):t==="mathml"?st.createElementNS(Cc,e):s?st.createElement(e,{is:s}):st.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>st.createTextNode(e),createComment:e=>st.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>st.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ti.innerHTML=Qo(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ti.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Tc=Symbol("_vtc");function Oc(e,t,s){const r=e[Tc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const si=Symbol("_vod"),xc=Symbol("_vsh"),Pc=Symbol(""),Rc=/(^|;)\s*display\s*:/;function jc(e,t,s){const r=e.style,n=fe(s);let i=!1;if(s&&!n){if(t)if(fe(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Xs(r,a,"")}else for(const o in t)s[o]==null&&Xs(r,o,"");for(const o in s)o==="display"&&(i=!0),Xs(r,o,s[o])}else if(n){if(t!==s){const o=r[Pc];o&&(s+=";"+o),r.cssText=s,i=Rc.test(s)}}else t&&e.removeAttribute("style");si in e&&(e[si]=i?r.display:"",e[xc]&&(r.display="none"))}const ri=/\s*!important$/;function Xs(e,t,s){if(B(s))s.forEach(r=>Xs(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Ic(e,t);ri.test(s)?e.setProperty(Dt(r),s.replace(ri,""),"important"):e[r]=s}}const ni=["Webkit","Moz","ms"],jr={};function Ic(e,t){const s=jr[t];if(s)return s;let r=bt(t);if(r!=="filter"&&r in e)return jr[t]=r;r=Ki(r);for(let n=0;n<ni.length;n++){const i=ni[n]+r;if(i in e)return jr[t]=i}return t}const ii="http://www.w3.org/1999/xlink";function oi(e,t,s,r,n,i=Ua(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ii,t.slice(6,t.length)):e.setAttributeNS(ii,t,s):s==null||i&&!Gi(s)?e.removeAttribute(t):e.setAttribute(t,i?"":Ze(s)?String(s):s)}function ai(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Qo(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=Gi(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function ot(e,t,s,r){e.addEventListener(t,s,r)}function $c(e,t,s,r){e.removeEventListener(t,s,r)}const li=Symbol("_vei");function Uc(e,t,s,r,n=null){const i=e[li]||(e[li]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=Lc(t);if(r){const u=i[t]=Bc(r,n);ot(e,a,u,l)}else o&&($c(e,a,o,l),i[t]=void 0)}}const ci=/(?:Once|Passive|Capture)$/;function Lc(e){let t;if(ci.test(e)){t={};let r;for(;r=e.match(ci);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dt(e.slice(2)),t]}let Ir=0;const Mc=Promise.resolve(),Dc=()=>Ir||(Mc.then(()=>Ir=0),Ir=Date.now());function Bc(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;et(Fc(r,s.value),t,5,[r])};return s.value=e,s.attached=Dc(),s}function Fc(e,t){if(B(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const ui=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Nc=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?Oc(e,r,o):t==="style"?jc(e,s,r):cr(t)?ln(t)||Uc(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Hc(e,t,r,o))?(ai(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&oi(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(r))?ai(e,bt(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),oi(e,t,r,o))};function Hc(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&ui(t)&&W(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ui(t)&&fe(s)?!1:t in e}const wt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return B(t)?s=>zs(t,s):t};function Vc(e){e.target.composing=!0}function di(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Fe=Symbol("_assign"),yt={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[Fe]=wt(n);const i=r||n.props&&n.props.type==="number";ot(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=er(a)),e[Fe](a)}),s&&ot(e,"change",()=>{e.value=e.value.trim()}),t||(ot(e,"compositionstart",Vc),ot(e,"compositionend",di),ot(e,"change",di))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[Fe]=wt(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?er(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},hi={deep:!0,created(e,t,s){e[Fe]=wt(s),ot(e,"change",()=>{const r=e._modelValue,n=Zt(e),i=e.checked,o=e[Fe];if(B(r)){const a=dn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(ss(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Xo(e,i))})},mounted:fi,beforeUpdate(e,t,s){e[Fe]=wt(s),fi(e,t,s)}};function fi(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(B(t))n=dn(t,r.props.value)>-1;else if(ss(t))n=t.has(r.props.value);else{if(t===s)return;n=Ut(t,Xo(e,!0))}e.checked!==n&&(e.checked=n)}const Pt={created(e,{value:t},s){e.checked=Ut(t,s.props.value),e[Fe]=wt(s),ot(e,"change",()=>{e[Fe](Zt(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[Fe]=wt(r),t!==s&&(e.checked=Ut(t,r.props.value))}},qc={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=ss(t);ot(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?er(Zt(o)):Zt(o));e[Fe](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,bn(()=>{e._assigning=!1})}),e[Fe]=wt(r)},mounted(e,{value:t}){pi(e,t)},beforeUpdate(e,t,s){e[Fe]=wt(s)},updated(e,{value:t}){e._assigning||pi(e,t)}};function pi(e,t){const s=e.multiple,r=B(t);if(!(s&&!r&&!ss(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=Zt(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=dn(t,a)>-1}else o.selected=t.has(a);else if(Ut(Zt(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Zt(e){return"_value"in e?e._value:e.value}function Xo(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Wc=["ctrl","shift","alt","meta"],Kc={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Wc.some(s=>e[`${s}Key`]&&!t.includes(s))},Yo=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=Kc[t[o]];if(a&&a(n,t))return}return e(n,...i)})},Jc=Se({patchProp:Nc},Ec);let gi;function Gc(){return gi||(gi=zl(Jc))}const zc=(...e)=>{const t=Gc().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Xc(r);if(!n)return;const i=t._component;!W(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Qc(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function Qc(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Xc(e){return fe(e)?document.querySelector(e):e}var Yc=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let Zo;const br=e=>Zo=e,ea=Symbol();function Xr(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Es;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Es||(Es={}));function Zc(){const e=Yi(!0),t=e.run(()=>G({}));let s=[],r=[];const n=yn({install(i){br(n),n._a=i,i.provide(ea,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Yc?r.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const ta=()=>{};function vi(e,t,s,r=ta){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&Zi()&&Ma(n),n}function Ht(e,...t){e.slice().forEach(s=>{s(...t)})}const eu=e=>e(),mi=Symbol(),$r=Symbol();function Yr(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];Xr(n)&&Xr(r)&&e.hasOwnProperty(s)&&!ue(r)&&!mt(r)?e[s]=Yr(n,r):e[s]=r}return e}const tu=Symbol();function su(e){return!Xr(e)||!e.hasOwnProperty(tu)}const{assign:ct}=Object;function ru(e){return!!(ue(e)&&e.effect)}function nu(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const c=al(s.state.value[e]);return ct(c,i,Object.keys(o||{}).reduce((d,p)=>(d[p]=yn(xe(()=>{br(s);const g=s._s.get(e);return o[p].call(g,g)})),d),{}))}return l=sa(e,u,t,s,r,!0),l}function sa(e,t,s={},r,n,i){let o;const a=ct({actions:{}},s),l={deep:!0};let u,c,d=[],p=[],g;const b=r.state.value[e];!i&&!b&&(r.state.value[e]={}),G({});let E;function A(J){let V;u=c=!1,typeof J=="function"?(J(r.state.value[e]),V={type:Es.patchFunction,storeId:e,events:g}):(Yr(r.state.value[e],J),V={type:Es.patchObject,payload:J,storeId:e,events:g});const ce=E=Symbol();bn().then(()=>{E===ce&&(u=!0)}),c=!0,Ht(d,V,r.state.value[e])}const R=i?function(){const{state:V}=s,ce=V?V():{};this.$patch(Ce=>{ct(Ce,ce)})}:ta;function j(){o.stop(),d=[],p=[],r._s.delete(e)}const O=(J,V="")=>{if(mi in J)return J[$r]=V,J;const ce=function(){br(r);const Ce=Array.from(arguments),Me=[],De=[];function lt(q){Me.push(q)}function St(q){De.push(q)}Ht(p,{args:Ce,name:ce[$r],store:$,after:lt,onError:St});let se;try{se=J.apply(this&&this.$id===e?this:$,Ce)}catch(q){throw Ht(De,q),q}return se instanceof Promise?se.then(q=>(Ht(Me,q),q)).catch(q=>(Ht(De,q),Promise.reject(q))):(Ht(Me,se),se)};return ce[mi]=!0,ce[$r]=V,ce},y={_p:r,$id:e,$onAction:vi.bind(null,p),$patch:A,$reset:R,$subscribe(J,V={}){const ce=vi(d,J,V.detached,()=>Ce()),Ce=o.run(()=>_t(()=>r.state.value[e],Me=>{(V.flush==="sync"?c:u)&&J({storeId:e,type:Es.direct,events:g},Me)},ct({},l,V)));return ce},$dispose:j},$=pr(y);r._s.set(e,$);const de=(r._a&&r._a.runWithContext||eu)(()=>r._e.run(()=>(o=Yi()).run(()=>t({action:O}))));for(const J in de){const V=de[J];if(ue(V)&&!ru(V)||mt(V))i||(b&&su(V)&&(ue(V)?V.value=b[J]:Yr(V,b[J])),r.state.value[e][J]=V);else if(typeof V=="function"){const ce=O(V,J);de[J]=ce,a.actions[J]=V}}return ct($,de),ct(X($),de),Object.defineProperty($,"$state",{get:()=>r.state.value[e],set:J=>{A(V=>{ct(V,J)})}}),r._p.forEach(J=>{ct($,o.run(()=>J({store:$,app:r._a,pinia:r,options:a})))}),b&&i&&s.hydrate&&s.hydrate($.$state,b),u=!0,c=!0,$}/*! #__NO_SIDE_EFFECTS__ */function En(e,t,s){let r,n;const i=typeof t=="function";typeof e=="string"?(r=e,n=i?s:t):(n=e,r=e.id);function o(a,l){const u=Hl();return a=a||(u?Ss(ea,null):null),a&&br(a),a=Zo,a._s.has(r)||(i?sa(r,t,n,a):nu(r,n,a)),a._s.get(r)}return o.$id=r,o}const Ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABNdJREFUWIW9l2lsVFUUx3/nzhTKMq9UaOhMq6YE3BIhEgLGRHELBGJVZJFFomiZ6bB8UBMMxJgGosSExIWlU6KoSFTcEIIphBiJGI0REjFiokEgUOa11pZZgE7bmXf8MG/KSFCGKXg+3XvOuef3z3l37r0j/A8WiwbHC+YV4G6BTgfZ6zG6ylcZ+VOuNfyMveQ+o85uYHC+X6DFU+JM/FcB7e1P+0rOD/QWCirr8Z6XMeu7/wE/XX+HEfYDlks9ijIUqHTnG/oEqCLxaGiOQYIq3Hmx4gIsrbBsWCDSBBA/tWQ0HudbYGSWxSc+f+X8+Mk2n5Q4x0CGAb8agNbWhUMS0fpdIvKRCvcXAQfwCloLcK496Mfj7M3BEb7ynStZKNKQ7hkkvSAOgELGC1DqDN2K6EN5xU4g/IGihdIVSaijqzs7g2WZlGkGRrmhgz3enhkyJtKtGixJ2M524Do39oM3boenofqY6+hA5Mkyf+OXRXQAPfXsoHiqa4/CONfzu5EB0ysqIklVJGHLFmC6m/5XRs1qI6qL+gqIhIuG62xP0tP1vsA9AAhRR2Sqz7++HSBhh9eBPOGmnxc1jwyv2nTKKIx3nWfLKkd+VhwcidsjmhRmuq64k9Hp5f7ICYBYNLQS9Dk31ovILKtq03cAXqAcQOG4SINTjIBka2itoM+4dboMUlteHTkMEI/WLwRezmkVkcWWv7E5t9b0DaTwDZdvcTu8VFVecKcZAwusQOMBgMTpUC2wBcj93J+3/I3v5a839MPi0fB8VN90pypK0ApEdgAk7fBkFfmYbJcB1pQFIq9dXKNoAbHT4QdB38nVENEVVlVkC8DZ1uDtjuoOoBRA0M1lgchLsWhoQqy1rqbfAuJ2/UQRvgAGuPBXLX/TOoBYW3hUxjF7cfcWwi6f3780Fq2fKciP4nh/OXdyWaBoAUk7dBtKM+iQrEe3+SqbVmZjyysk4zQD/iyb/VYq9bhIQ1pUxrolBjslmTFFCehoqat2VJrJnWTKbsvvXySCdnQstxzt3QNyU7Yr/JzpLp0hNe+m/qtmwbddIhocoZh9wA2uK23ErBBpSOvxp0qT3b07+84U4agx6SlWzeuxy9UtuAOKZw1wS774DM6+My2hcfGBpR8o3Ov6bTUydejIt9oKqVtQB7KXiM52ZzEROanKWIEqMXII8LipccfRaeWByLFC6kKBHUjY8gAwHEBFPs+kSicDB9xwDp4y6MPl1U2HC4UXLEAxs3JjQT5lQKoGxc5LSYvqXF+g6ZsrgUMBn8Bt/6N9WlRfNMJd+SmihKyqpp1XCocCOpC0mYTbfrJnej68TVQX507AYuzym1C9jvuCynf+JCJv+M6WfHjxQ/SqC/AFNn2ftMNrFZ0ncCgjZmO5f9PX/YFeLEABHL305xBBoXEVsKpfJHFM362sTt/Vb4BOAIFRqg0Fn4xXzEduvjDztOcLOOiOByfstrnXAt7RUletMCU709hQf/ponwB19O0LqbohZtfPuZrwZHTJrV7j3QWUZT2yVWRzby4uAPFo/TZgQd66doEjCul+8m8ERnPhSXZCHM8Eq3pjRy7BC2B1p+oSA0sNMM/1V+RdLlfLfiOjtdb1F+DkKQMgboemg4RQJpH7W9U/S6IcQWS71d0VudTb4G9Gvd8qJCcW8AAAAABJRU5ErkJggg==",Zs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAXdJREFUWIXtl09Kw0AUh7+pIhYVLyCCC72CdCsuqrtIyUI8jJ5DilLrplY9hngEl0q9QLs1PheZwKOdmEw6tQj5wZDwZt5vvvlLAkuWKdtQYAW4Ag4Kmr4BlwaSecBcAG0BKVnaZX0bHgxbi2jrA6AVGzC6AHEVo5k9IKlRRLrmWjtAy76/ACPP+gR4MvBQBDABNkvAV9HYwLYOuJbgkdA7OFVivf+BBPYFugKdAF6RwLXAnk/SjT3PkwAAE+vVddXnHcMN+wyxGTMP593gfQ8I9OyoOioW29itr1+Vi+icdFR6f5zZ2MVfAGQXlM5tTNUtFCCoaoAaoAaoApBMPQG+HbGFAfSBMTBUsaGN9Sr4zUpgkH3hBvDKvpQHrvq8GcimFIG1OTrXuc7lyQN4V+9HVQGA4xzP3yXQUlM3EjgRaHrkNwVOBT6Vz6EPOQL3Hn9CReXOq3M1in6IzgXW8/op/Dm1UxcBu8BqSf4v4AN4NvBaMmc5+gGfHcaoVFoh+gAAAABJRU5ErkJggg==",iu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAUBJREFUWIXt1j9OwzAUx/FPywHohIByBEYGWOESlArEGWCFCYG4BQLx7xLsMCBAMDKiDkwwU1oGp6KK4jZSGxian2TFen5+/vo5iR+lJl2ViH0ZDcxFxj+wh/cioI7RzdGeMTPqYukMbOIM3zjBHT4z5uxjES9YM8ZMPAi72xniNyNkYORMVFL9Nqqoo5UD4kbIxKsAH1MLV0JGB6p3vtVhjn0QvUzkaUfpAOl3oBuxD1INq5iKjE8LX9V24tPEZSxYj7QI7Sax7wc5FQlQT2J//RdANSt+3pdtHOpkGf8SIFMlQAlQAsQAigDLjNlvrPj9WcwWADCfPNsxgC6ekv56AQC9mI/9xvS128S5UJKd4lYoQEdRDSvYEq7jBq4HTTgUjiJvkZG3dXCQXixWeCxhAws5dzlMb7gwpBYoNZn6Ae/PY7gfB0OvAAAAAElFTkSuQmCC",ou="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAF/SURBVFiF7dU/SJVhFMfxT4UIYZeohmgQB3ELaZUGhwLBXRzacmlzaXNQuEgKNjtEs4JtETg61iQtbjoZ1NVEGsr/Du+5KJf3vu/VHnPo/uDwPPAezvk+7znPc2irrTN1YhbfcJJj+/iCZ1cFMNMkcaMdYRI3UwNsRoKBJt9vYwKH4fcJ91IC1E9Ypueohe86nv5rAOiW9UNZuQ6wiqHUAGRNW9W8ac/bHh6nBmhFtzAfcat5Dsk7uUFH+Bz7R9cBcCE1lqAfK/ijvMat2jbeoqMMoIIfCRM32lwZwKvYr+F+/g+7lAYjbq0MYDn2rxMmhwcRd6sI4K7s3p6gLzHAy4i7WATwItaviZPDx4g9WgTwIdapxMm78Ft2qypFAL9ifZIYYMTZFM3V+WuygRuJARYi9lgrALn39C/UiV3Z0/ywFYBkMz40HHFXipzqyb/LplhKvYvY40VOW+G0JG39e/ETx+gpcnzj6t7++sEK1YFp6YfQDt7jThlAW/+nTgFJAtxxCNzOAwAAAABJRU5ErkJggg==",au="modulepreload",lu=function(e){return"/"+e},_i={},es=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=lu(l),l in _i)return;_i[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":au,u||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,g)=>{d.addEventListener("load",p),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},cu=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>rs);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class Tn extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class uu extends Tn{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class du extends Tn{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hu extends Tn{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zr;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zr||(Zr={}));var fu=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class pu{constructor(t,{headers:s={},customFetch:r,region:n=Zr.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=cu(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return fu(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(b=>{throw new uu(b)}),d=c.headers.get("x-relay-error");if(d&&d==="true")throw new du(c);if(!c.ok)throw new hu(c);let p=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield c.json():p==="application/octet-stream"?g=yield c.blob():p==="text/event-stream"?g=c:p==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function gu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vu(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var ve={},cs={},us={},ds={},hs={},fs={},mu=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ts=mu();const _u=ts.fetch,ra=ts.fetch.bind(ts),na=ts.Headers,yu=ts.Request,bu=ts.Response,rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:na,Request:yu,Response:bu,default:ra,fetch:_u},Symbol.toStringTag,{value:"Module"})),wu=vu(rs);var qs={},yi;function ia(){if(yi)return qs;yi=1,Object.defineProperty(qs,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return qs.default=e,qs}var bi;function oa(){if(bi)return fs;bi=1;var e=fs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fs,"__esModule",{value:!0});const t=e(wu),s=e(ia());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,d,p;let g=null,b=null,E=null,A=u.status,R=u.statusText;if(u.ok){if(this.method!=="HEAD"){const $=await u.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=$:b=JSON.parse($))}const O=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),y=(d=u.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");O&&y&&y.length>1&&(E=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,E=null,A=406,R="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const O=await u.text();try{g=JSON.parse(O),Array.isArray(g)&&u.status===404&&(b=[],g=null,A=200,R="OK")}catch{u.status===404&&O===""?(A=204,R="No Content"):g={message:O}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,A=200,R="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:b,count:E,status:A,statusText:R}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,d,p;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(d=u==null?void 0:u.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(p=u==null?void 0:u.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return fs.default=r,fs}var wi;function aa(){if(wi)return hs;wi=1;var e=hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});const t=e(oa());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const d=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return hs.default=s,hs}var Ai;function On(){if(Ai)return ds;Ai=1;var e=ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ds,"__esModule",{value:!0});const t=e(aa());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ds.default=s,ds}var ki;function la(){if(ki)return us;ki=1;var e=us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(us,"__esModule",{value:!0});const t=e(On());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const d=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return us.default=s,us}var ps={},gs={},Si;function Au(){return Si||(Si=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.version=void 0,gs.version="0.0.0-automated"),gs}var Ci;function ku(){if(Ci)return ps;Ci=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.DEFAULT_HEADERS=void 0;const e=Au();return ps.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ps}var Ei;function Su(){if(Ei)return cs;Ei=1;var e=cs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cs,"__esModule",{value:!0});const t=e(la()),s=e(On()),r=ku();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let d;const p=new URL(`${this.url}/rpc/${o}`);let g;l||u?(d=l?"HEAD":"GET",Object.entries(a).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{p.searchParams.append(E,A)})):(d="POST",g=a);const b=Object.assign({},this.headers);return c&&(b.Prefer=`count=${c}`),new s.default({method:d,url:p,headers:b,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return cs.default=n,cs}var Ti;function Cu(){if(Ti)return ve;Ti=1;var e=ve.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ve,"__esModule",{value:!0}),ve.PostgrestError=ve.PostgrestBuilder=ve.PostgrestTransformBuilder=ve.PostgrestFilterBuilder=ve.PostgrestQueryBuilder=ve.PostgrestClient=void 0;const t=e(Su());ve.PostgrestClient=t.default;const s=e(la());ve.PostgrestQueryBuilder=s.default;const r=e(On());ve.PostgrestFilterBuilder=r.default;const n=e(aa());ve.PostgrestTransformBuilder=n.default;const i=e(oa());ve.PostgrestBuilder=i.default;const o=e(ia());return ve.PostgrestError=o.default,ve.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ve}var Eu=Cu();const Tu=gu(Eu),{PostgrestClient:Ou,PostgrestQueryBuilder:Of,PostgrestFilterBuilder:xf,PostgrestTransformBuilder:Pf,PostgrestBuilder:Rf,PostgrestError:jf}=Tu,xu="2.11.2",Pu={"X-Client-Info":`realtime-js/${xu}`},Ru="1.0.0",ca=1e4,ju=1e3;var Xt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xt||(Xt={}));var Ie;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ie||(Ie={}));var Ne;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ne||(Ne={}));var en;(function(e){e.websocket="websocket"})(en||(en={}));var Rt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Rt||(Rt={}));class Iu{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class ua{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const Oi=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=$u(o,e,t,n),i),{})},$u=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?da(i,o):tn(o)},da=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Du(t,s)}switch(e){case ie.bool:return Uu(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Lu(t);case ie.json:case ie.jsonb:return Mu(t);case ie.timestamp:return Bu(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return tn(t);default:return tn(t)}},tn=e=>e,Uu=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lu=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mu=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Du=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>da(t,a))}return e},Bu=e=>typeof e=="string"?e.replace(" ","T"):e,ha=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ur{constructor(t,s,r={},n=ca){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xi;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xi||(xi={}));class Ts{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ts.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ts.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ts.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const p=c.map(A=>A.presence_ref),g=d.map(A=>A.presence_ref),b=c.filter(A=>g.indexOf(A.presence_ref)<0),E=d.filter(A=>p.indexOf(A.presence_ref)<0);b.length>0&&(a[u]=b),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(g=>g.presence_ref),p=c.filter(g=>d.indexOf(g.presence_ref)<0);t[a].unshift(...p)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pi;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pi||(Pi={}));var Ri;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ri||(Ri={}));var rt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class xn{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Ie.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ur(this,Ne.join,this.params,this.timeout),this.rejoinTimer=new ua(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ie.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ie.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ie.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ne.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ts(this),this.broadcastEndpointURL=ha(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(rt.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(rt.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var d;if(this.socket.setAuth(),c===void 0){t==null||t(rt.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,g=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,b=[];for(let E=0;E<g;E++){const A=p[E],{filter:{event:R,schema:j,table:O,filter:y}}=A,$=c&&c[E];if($&&$.event===R&&$.schema===j&&$.table===O&&$.filter===y)b.push(Object.assign(Object.assign({},A),{id:$.id}));else{this.unsubscribe(),t==null||t(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(rt.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ie.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ne.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Ur(this,Ne.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ur(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ne;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,s,r);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var b,E,A;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((A=(E=g.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(g=>g.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,E,A,R,j,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const y=g.id,$=(b=g.filter)===null||b===void 0?void 0:b.event;return y&&((E=s.ids)===null||E===void 0?void 0:E.includes(y))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const y=(j=(R=g==null?void 0:g.filter)===null||R===void 0?void 0:R.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return y==="*"||y===((O=s==null?void 0:s.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:E,table:A,commit_timestamp:R,type:j,errors:O}=b;p=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:R,eventType:j,new:{},old:{},errors:O}),this._getPayloadRecords(b))}g.callback(p,r)})}_isClosed(){return this.state===Ie.closed}_isJoined(){return this.state===Ie.joined}_isJoining(){return this.state===Ie.joining}_isLeaving(){return this.state===Ie.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&xn.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ne.close,{},t)}_onError(t){this._on(Ne.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ie.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Oi(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Oi(t.columns,t.old_record)),s}}const Fu=()=>{},Nu=typeof WebSocket<"u",Hu=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vu{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Pu,this.params={},this.timeout=ca,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Fu,this.conn=null,this.sendBuffer=[],this.serializer=new Iu,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>es(async()=>{const{default:l}=await Promise.resolve().then(()=>rs);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${en.websocket}`,this.httpEndpoint=ha(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ua(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Nu){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new qu(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),es(async()=>{const{default:t}=await import("./browser-D3Hbj4N9.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ru}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xt.connecting:return Rt.Connecting;case Xt.open:return Rt.Open;case Xt.closing:return Rt.Closing;default:return Rt.Closed}}isConnected(){return this.connectionState()===Rt.Open}channel(t,s={config:{}}){const r=new xn(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ne.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ju,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ne.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([Hu],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class qu{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Xt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Pn extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Wu extends Pn{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class sn extends Pn{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var Ku=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const fa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>rs);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Ju=()=>Ku(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield es(()=>Promise.resolve().then(()=>rs),void 0)).Response:Response}),rn=e=>{if(Array.isArray(e))return e.map(s=>rn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=rn(r)}),t};var Bt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gu=(e,t,s)=>Bt(void 0,void 0,void 0,function*(){const r=yield Ju();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new Wu(Lr(n),e.status||500))}).catch(n=>{t(new sn(Lr(n),n))}):t(new sn(Lr(e),e))}),zu=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Bs(e,t,s,r,n,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,zu(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Gu(l,a,r))})})}function lr(e,t,s,r){return Bt(this,void 0,void 0,function*(){return Bs(e,"GET",t,s,r)})}function pt(e,t,s,r,n){return Bt(this,void 0,void 0,function*(){return Bs(e,"POST",t,r,n,s)})}function Qu(e,t,s,r,n){return Bt(this,void 0,void 0,function*(){return Bs(e,"PUT",t,r,n,s)})}function Xu(e,t,s,r){return Bt(this,void 0,void 0,function*(){return Bs(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function pa(e,t,s,r,n){return Bt(this,void 0,void 0,function*(){return Bs(e,"DELETE",t,r,n,s)})}var Te=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Yu={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ji={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zu{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=fa(n)}uploadOrUpdate(t,s,r,n){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ji),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),p=yield d.json();return d.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(pe(i))return{data:null,error:i};throw i}})}upload(t,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ji.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Pn("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}update(t,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Te(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield pt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Te(this,void 0,void 0,function*(){try{const n=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}download(t,s){return Te(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield lr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}info(t){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield lr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:rn(r),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}exists(t){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield Xu(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pe(r)&&r instanceof sn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Te(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}list(t,s,r){return Te(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Yu),s),{prefix:t||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const ed="2.7.1",td={"X-Client-Info":`storage-js/${ed}`};var Vt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class sd{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},td),s),this.fetch=fa(r)}listBuckets(){return Vt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Vt(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return Vt(this,void 0,void 0,function*(){try{return{data:yield Qu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Vt(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}}class rd extends sd{constructor(t,s={},r){super(t,s,r)}from(t){return new Zu(this.url,this.headers,t,this.fetch)}}const nd="2.47.13";let _s="";typeof Deno<"u"?_s="deno":typeof document<"u"?_s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_s="react-native":_s="node";const id={"X-Client-Info":`supabase-js-${_s}/${nd}`},od={headers:id},ad={schema:"public"},ld={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cd={};var ud=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const dd=e=>{let t;return e?t=e:typeof fetch>"u"?t=ra:t=fetch,(...s)=>t(...s)},hd=()=>typeof Headers>"u"?na:Headers,fd=(e,t,s)=>{const r=dd(s),n=hd();return(i,o)=>ud(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var pd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function gd(e){return e.replace(/\/$/,"")}function vd(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>pd(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const ga="2.67.3",md="http://localhost:9999",_d="supabase.auth.token",yd={"X-Client-Info":`gotrue-js/${ga}`},Ii=10,nn="X-Supabase-Api-Version",va={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function bd(e){return Math.round(Date.now()/1e3)+e}function wd(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",Tt={tested:!1,writable:!1},Os=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Tt.tested)return Tt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Tt.tested=!0,Tt.writable=!0}catch{Tt.tested=!0,Tt.writable=!1}return Tt.writable};function Ad(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const ma=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>es(async()=>{const{default:r}=await Promise.resolve().then(()=>rs);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},kd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_a=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Ws=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ks=async(e,t)=>{await e.removeItem(t)};function Sd(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class wr{constructor(){this.promise=new wr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}wr.promiseConstructor=Promise;function $i(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Sd(r))}async function Cd(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ed(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Td(e){return("0"+e.toString(16)).substr(-2)}function Od(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Td).join("")}async function xd(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Pd(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rd(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await xd(e);return Pd(s)}async function qt(e,t,s=!1){const r=Od();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await _a(e,`${t}-code-verifier`,n);const i=await Rd(r);return[i,r===i?"plain":"s256"]}const jd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Id(e){const t=e.headers.get(nn);if(!t||!t.match(jd))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class Rn extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $d extends Rn{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Ud(e){return K(e)&&e.name==="AuthApiError"}class ya extends Rn{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Ft extends Rn{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class ut extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ld(e){return K(e)&&e.name==="AuthSessionMissingError"}class Mr extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Js extends Ft{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gs extends Ft{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Md(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ui extends Ft{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class on extends Ft{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Dr(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Li extends Ft{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var Dd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bd=[502,503,504];async function Mi(e){var t;if(!kd(e))throw new on(xt(e),0);if(Bd.includes(e.status))throw new on(xt(e),e.status);let s;try{s=await e.json()}catch(i){throw new ya(xt(i),i)}let r;const n=Id(e);if(n&&n.getTime()>=va["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Li(xt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ut}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Li(xt(s),e.status,s.weak_password.reasons);throw new $d(xt(s),e.status||500,r)}const Fd=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function z(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[nn]||(i[nn]=va["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Nd(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Nd(e,t,s,r,n,i){const o=Fd(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new on(xt(l),0)}if(a.ok||await Mi(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Mi(l)}}function dt(e){var t;let s=null;Wd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=bd(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Di(e){const t=dt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Hd(e){return{data:e,error:null}}function Vd(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=Dd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function qd(e){return e}function Wd(e){return e.access_token&&e.refresh_token&&e.expires_in}var Kd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class Jd{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=ma(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:gt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=Kd(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Vd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(K(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:qd});if(c.error)throw c.error;const d=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const E=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(b.split(";")[1].split("=")[1]);u[`${A}Page`]=E}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gt})}catch(s){if(K(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:gt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:gt})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(K(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}}const Gd={getItem:e=>Os()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Os()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Os()&&globalThis.localStorage.removeItem(e)}};function Bi(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function zd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Wt={debug:!!(globalThis&&Os()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ba extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Qd extends ba{}async function Xd(e,t,s){Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Wt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Qd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}zd();const Yd={url:md,storageKey:_d,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yd,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},vs=30*1e3,Fi=3;async function Ni(e,t,s){return await s()}class $s{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$s.nextInstanceID,$s.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Yd),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Jd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ma(n.fetch),this.lock=n.lock||Ni,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Je()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Xd:this.lock=Ni,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Os()?this.storage=Gd:(this.memoryStorage={},this.storage=Bi(this.memoryStorage)):(this.memoryStorage={},this.storage=Bi(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ga}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Ad(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Je()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Md(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return K(s)?{error:s}:{error:new ya("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:c,password:d,options:p}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await qt(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:b},xform:dt})}else if("phone"in t){const{phone:c,password:d,options:p}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(n=p==null?void 0:p.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dt})}else throw new Js("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(K(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Di})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Di})}else throw new Js("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Mr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Ws(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dt});if(await Ks(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Mr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(K(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:dt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Mr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qt(this.storage,this.storageKey));const{error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Js("You must provide either an email or phone number.")}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(K(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qt(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Hd})}catch(i){if(K(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new ut;const{error:n}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await z(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await z(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Js("You must provide either an email or phone number and a type")}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Ws(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ut}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:gt})})}catch(s){if(K(s))return Ld(s)&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new ut;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await qt(this.storage,this.storageKey));const{data:u,error:c}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:gt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return $i(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ut;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=$i(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(K(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ut;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Je())throw new Gs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ui("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ui("No code detected.");const{data:j,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Gs("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let p=c+d;l&&(p=parseInt(l));const g=p-c;g*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const b=p-d;c-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,c):c-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,c);const{data:E,error:A}=await this._getUser(i);if(A)throw A;const R={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:p,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(r){if(K(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Ws(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Ud(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ks(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=wd(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await qt(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(K(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:d,error:p}=i;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Je()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(K(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Ed(async n=>(n>0&&await Cd(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Dr(i)&&Date.now()+o-r<vs})}catch(r){if(this._debug(s,"error",r),K(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Je()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ws(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<n+Ii;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ii}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Dr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new wr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ut;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),K(i)){const o={session:null,error:i};return Dr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _a(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ks(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${vs}ms, refresh threshold is ${Fi} ticks`),n<=Fi&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ba)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(K(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(K(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}$s.nextInstanceID=0;const Zd=$s;class eh extends Zd{constructor(t){super(t)}}var th=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class sh{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=gd(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:ad,realtime:cd,auth:Object.assign(Object.assign({},ld),{storageKey:l}),global:od},c=vd(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=fd(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Ou(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new pu(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new rd(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return th(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var d;const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eh({url:this.authUrl,headers:Object.assign(Object.assign({},p),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(d="Authorization"in this.headers)!==null&&d!==void 0?d:!1})}_initRealtimeClient(t){return new Vu(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rh=(e,t,s)=>new sh(e,t,s),Qe=rh("https://bdgrzywumdfuxrlsyyxi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkZ3J6eXd1bWRmdXhybHN5eXhpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY4NTg4NjksImV4cCI6MjA1MjQzNDg2OX0.CfMRHLIqiyazh7Hkn9M9Zo4cVKJWTJSA5GwZaZxGfMc"),jn=En("user",()=>{const e=G(null),t=G(null);function s(r,n){e.value=r,t.value=n}return{currentUser:e,currentId:t,loadUser:s}}),In=En("binder",()=>{const e=G(null),t=G(null),s=G(null);function r(o){e.value=o}function n(o){t.value=o}function i(o){s.value=o}return{userBinders:e,currentBinder:t,lastBinderOrder:s,loadBinders:r,selectBinder:n,setLastOrder:i}}),Ar=En("data",()=>{const e=G([]),t=G(null);function s(n){e.value=n}function r(n){t.value=n}return{pokemons:e,editingCard:t,loadPokemons:s,setEditing:r}}),wa=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},nh={key:0,src:iu,alt:""},ih={key:1,src:ou,alt:""},oh={class:"userload baseline"},ah={class:"title"},lh={class:"userload"},ch={class:"title"},uh={class:"userload"},dh=["disabled"],hh={__name:"BinderEditor",emits:["select-binder"],setup(e,{emit:t}){const s=xe(()=>window.innerWidth<1024),r=jn(),n=In(),i=Ar(),o=t,a=G(null),l=G(null),u=G(!1),c=()=>{u.value=!u.value},d=async()=>{try{const{data:E,error:A}=await Qe.from("users").select().eq("username",a.value);if(r.loadUser(E[0].username,E[0].id),A)throw A}catch{}p(),localStorage.setItem("currentUser",r.currentUser),a.value=""},p=async()=>{try{const{data:E,error:A}=await Qe.from("binders").select().eq("user",r.currentId);if(n.loadBinders(E),n.selectBinder(E[0].id),o("select-binder"),A)throw A}catch{}},g=async()=>{if(!r.currentId)return alert("Prima carica un profilo!"),!1;try{const{data:E,error:A}=await Qe.from("binders").insert({title:l.value,user:r.currentId}).select();if(A)throw A}catch{}p(),l.value=""};kn(()=>{b(),localStorage.getItem("currentUser")&&(a.value=localStorage.getItem("currentUser"),d())});async function b(){const{data:E}=await Qe.from("pokemons").select();i.loadPokemons(E)}return(E,A)=>(L(),D("div",{class:le({loader:!0,mobile:s.value})},[m("button",{class:le({loaderbutton:!0,addbinder:!0,close:u.value}),onClick:c},[u.value?(L(),D("img",ih)):(L(),D("img",nh))],2),m("div",{class:le({interface:!0,open:u.value})},[m("div",oh,[A[4]||(A[4]=m("p",{class:"label"},"Current user:",-1)),m("p",ah,Ye(zt(r).currentUser),1)]),m("div",lh,[ge(m("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=R=>a.value=R),placeholder:"Username..."},null,512),[[yt,a.value]]),m("button",{class:"formbutton load",onClick:A[1]||(A[1]=R=>d())},"Load user")]),m("div",null,[m("p",ch,[Ms(Ye(zt(r).currentUser)+" ",1),A[5]||(A[5]=m("span",{class:"label"},"'s binders",-1))]),m("ul",null,[(L(!0),D(be,null,It(zt(n).userBinders,(R,j)=>(L(),D("li",{key:"binder"+j},Ye(R.title),1))),128))])]),m("div",uh,[ge(m("input",{type:"text","onUpdate:modelValue":A[2]||(A[2]=R=>l.value=R),placeholder:"Binder name..."},null,512),[[yt,l.value]]),m("button",{disabled:!l.value,class:"formbutton create",onClick:A[3]||(A[3]=R=>g())},"Add binder",8,dh)])],2)],2))}},fh=wa(hh,[["__scopeId","data-v-0a1a34a1"]]),ph="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAaRJREFUWIXt189qU0EUx/FPay3UUipBqd6kropP4UrBhW+g+BzduHHvVnDvQgqCuOpLdO1G3JRq4l9QMIrQqoszpWmatJk712TjD4Ywczn3fDNzzr2/y4w1NzSfxz20a9zrAC/xpgTgPjaxXQNgFbdwPSdoYWi+gRd4WAMA/uQGzNdM1JhmDjB8BJNoETfwA3v4gP1pAjxHJaq+g8v4jLfp+mP00ryLd2l8awJgDrdT0u9p7RzWROtexTVcwc0EWiXQBezgbgKsBdDCz4HkxE500zhNy3giWv3R4WJuEXbEdtZRX9RNf3AxF6AqACCO6Vh8LsCJG/wHyNB5XMTHEoCSGqhS8oMSgLaz2+202BPw0zyCYoBF8c7/NCuACu/xe1YAjbdgLkDjT8FRAL/EC2ccQN0OmDh+A6+Ftxs1NgsA+lgpiPdMWPY6auHrqAvTKsKxsdMqwkYAWo47oRyNLcAcS/YUr7DryGh2hfnsCYfcw5cRsWN3YPjT7CxdEqaz7ciErqffjvinFwbg9sTT8w4eiK+uIoBJtJRgDuHWEszWP8hVrr/CNWIEYI4MdwAAAABJRU5ErkJggg==",gh={class:"radios"},vh={class:"field"},mh=["disabled"],_h={class:"field"},yh=["disabled"],bh={class:"autocomplete field"},wh=["disabled"],Ah={key:0,class:"suggestions"},kh=["onMousedown"],Sh=["disabled"],Ch={__name:"CardLoader",props:["isOpen","pulse"],emits:["add-card","toggle-loader","close-loader"],setup(e,{emit:t}){const s=Ar();jn();const r=In(),n=t,i=e,o=xe(()=>window.innerWidth<1024),a=G(""),l=G(""),u=G("card"),c=()=>{n("toggle-loader")},d=G(""),p=G(null),g=G(!1),b=xe(()=>d.value?s.pokemons.filter(O=>O.name.toLowerCase().includes(d.value.toLowerCase())):[]),E=O=>{d.value=O.name,p.value=O.pokedex_number,g.value=!1},A=O=>{g.value=O},R=()=>{n("add-card",{maincard:a.value,altcard:l.value,type:u.value,pokemonName:d.value,pokemonNumber:p.value,binder:r.currentBinder}),a.value="",l.value="",d.value="",p.value=null},j=xe(()=>i.isOpen);return _t(j,async(O,y)=>{O||(a.value="",l.value="",d.value="",p.value=null)}),(O,y)=>(L(),D("div",{class:le({loader:!0,mobile:o.value})},[m("button",{class:le({loaderbutton:!0,addcard:!0,close:e.isOpen}),onClick:c},y[9]||(y[9]=[m("img",{src:ph,alt:""},null,-1)]),2),m("div",{class:le({interface:!0,open:e.isOpen,pulse:i.pulse})},[y[13]||(y[13]=m("div",null,"Select card or empty slot",-1)),m("div",gh,[m("div",{class:le(["radio",{active:u.value=="card"}])},[ge(m("input",{id:"card",type:"radio","onUpdate:modelValue":y[0]||(y[0]=$=>u.value=$),value:"card"},null,512),[[Pt,u.value]]),y[10]||(y[10]=m("label",{for:"card"},"Card",-1))],2),m("div",{class:le(["radio",{active:u.value=="empty"}])},[ge(m("input",{id:"empty",type:"radio","onUpdate:modelValue":y[1]||(y[1]=$=>u.value=$),value:"empty"},null,512),[[Pt,u.value]]),y[11]||(y[11]=m("label",{for:"empty"},"Empty slot",-1))],2)]),m("div",vh,[m("label",{class:le({disabled:u.value=="empty"}),for:"mainimage"},"Main card",2),ge(m("input",{disabled:u.value=="empty",type:"text",id:"mainimage","onUpdate:modelValue":y[2]||(y[2]=$=>a.value=$)},null,8,mh),[[yt,a.value]])]),m("div",_h,[m("label",{class:le({disabled:u.value=="empty"}),for:"altimage"},"Alternative card",2),ge(m("input",{disabled:u.value=="empty",type:"text",id:"altimage","onUpdate:modelValue":y[3]||(y[3]=$=>l.value=$)},null,8,yh),[[yt,l.value]])]),m("div",bh,[m("label",{class:le({disabled:u.value=="empty"}),for:"pokemon"},"Selected pokemon",2),ge(m("input",{disabled:u.value=="empty",id:"pokemon",type:"text","onUpdate:modelValue":y[4]||(y[4]=$=>d.value=$),onFocus:y[5]||(y[5]=$=>A(!0)),onBlur:y[6]||(y[6]=$=>A(!1)),onInput:y[7]||(y[7]=$=>A(!0)),placeholder:"Cerca Pokmon..."},null,40,wh),[[yt,d.value]]),g.value&&b.value.length?(L(),D("ul",Ah,[(L(!0),D(be,null,It(b.value,$=>(L(),D("li",{key:$.pokedex_number,onMousedown:Yo(Le=>E($),["prevent"])},Ye($.name),41,kh))),128))])):Y("",!0)]),m("div",{class:le({disabled:u.value=="empty",label:!0})},[y[12]||(y[12]=Ms("Pokedex number ")),m("span",null,Ye(p.value),1)],2),m("button",{class:le(["formbutton","add",{disabled:u.value=="card"&&!a.value}]),onClick:R,disabled:u.value=="card"&&!a.value},"Add card",10,Sh),m("button",{class:"formbutton cancel",onClick:y[8]||(y[8]=$=>n("close-loader"))},"Cancel")],2)],2))}},Eh={class:"field"},Th={class:"field"},Oh={class:"autocomplete field"},xh={key:0,class:"suggestions"},Ph=["onMousedown"],Rh={class:"label"},jh={__name:"CardEditor",props:["isOpen"],emits:["edit-card","close-editor"],setup(e,{emit:t}){const s=e,r=xe(()=>s.isOpen),n=Ar();xe(()=>window.innerWidth<1024);const i=G(""),o=G(""),a=t,l=G(""),u=G(null),c=G(!1),d=xe(()=>l.value?n.pokemons.filter(R=>R.name.toLowerCase().includes(l.value.toLowerCase())):[]),p=R=>{l.value=R.name,u.value=R.pokedex_number,c.value=!1},g=R=>{c.value=R},b=async()=>{try{const{data:R,error:j}=await Qe.from("cards").update({url:i.value,alturl:o.value,pokemon:u.value}).eq("id",n.editingCard.id).select();if(j)throw j}catch{}a("edit-card"),i.value="",o.value="",l.value="",u.value=null},E=xe(()=>n.editingCard);_t(r,async(R,j)=>{R?(i.value=n.editingCard.url,o.value=n.editingCard.alturl,n.editingCard.pokemon&&p(n.pokemons.find(O=>O.pokedex_number==n.editingCard.pokemon))):(i.value="",o.value="",l.value="",u.value=null)});const A=G(!1);return _t(E,async(R,j)=>{j&&R&&(A.value=!0,setTimeout(()=>{A.value=!1},500)),R?(i.value=n.editingCard.url,o.value=n.editingCard.alturl,n.editingCard.pokemon&&p(n.pokemons.find(O=>O.pokedex_number==n.editingCard.pokemon))):(i.value="",o.value="",l.value="",u.value=null)}),(R,j)=>(L(),D("div",{class:le({interface:!0,open:s.isOpen,pulse:A.value})},[j[11]||(j[11]=m("div",null,"Edit selected Card",-1)),m("div",Eh,[j[7]||(j[7]=m("label",{for:"mainimage"},"Main card",-1)),ge(m("input",{type:"text",id:"mainimage","onUpdate:modelValue":j[0]||(j[0]=O=>i.value=O)},null,512),[[yt,i.value]])]),m("div",Th,[j[8]||(j[8]=m("label",{for:"altimage"},"Alternative card",-1)),ge(m("input",{type:"text",id:"altimage","onUpdate:modelValue":j[1]||(j[1]=O=>o.value=O)},null,512),[[yt,o.value]])]),m("div",Oh,[j[9]||(j[9]=m("label",{for:"pokemon"},"Selected pokemon",-1)),ge(m("input",{id:"pokemon",type:"text","onUpdate:modelValue":j[2]||(j[2]=O=>l.value=O),onFocus:j[3]||(j[3]=O=>g(!0)),onBlur:j[4]||(j[4]=O=>g(!1)),onInput:j[5]||(j[5]=O=>g(!0)),placeholder:"Cerca Pokmon..."},null,544),[[yt,l.value]]),c.value&&d.value.length?(L(),D("ul",xh,[(L(!0),D(be,null,It(d.value,O=>(L(),D("li",{key:O.pokedex_number,onMousedown:Yo(y=>p(O),["prevent"])},Ye(O.name),41,Ph))),128))])):Y("",!0)]),m("div",Rh,[j[10]||(j[10]=Ms("Pokedex number ")),m("span",null,Ye(u.value),1)]),m("button",{class:"formbutton add",onClick:b},"Edit card"),m("button",{class:"formbutton cancel",onClick:j[6]||(j[6]=O=>a("close-editor"))},"Cancel")],2))}},Br="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhxJREFUWIXtlrtuE1EQhr9Z22lMbOEICdYSL0BJaAJIPAAoFaXd+iDRQEG4KAjCRVSuEHHoCHQ0SECLkAgUQMsLEHlDFXk3l8KxPRS20fqy9opdY4r81Z45c2a+szuzGjjUlCXDjF61tNgSuSbIPGg6Yoo9Qb+hWs7k196OBfC2Sk9UZSla0gAUeJyxK3cCAbxqaVFF3gB1UZYTzeSr9MmnTpSkez+v2geJZkFEV4AZsbiUOV55N9S55piPrmO0Vr0S+xuoOeam6xj1nNIHv93yLwROA6RmmutxA6RSrRcAiswHAgBHANLHnm/FDeCLOTsK4J9r6gDJUZv64/KMm5t7IEoBQQV9Obu9fVdOva4DuI75DNLK2qvnu2faNhZ6I8mG3yc0wE4utyLKjTYNKLK0c3ROgVsdlwXQvlPSGrRpvyEcgCIFAFHrLNKwFOuTCkUfwIC6N3Udo+11ZejfNhQAig2QyT/70gn6xxaXRgN01L3NJDT1LggFkLUrMu5bThRgkgpVA+PUWyPBPf8XALLR28ND1+d6z3T3+31DyHWMTrLih8Wfeg38dwC70B6j4k60v2nynUcvEEDgO8BBslGMG6Ce0CKAaDtHV71doFpG5ILA/ZpjSDWS61GH0v1Nk68ntCjIPQC1pOzfHxzLHfNI4XaUpMHSh1l7bXkkAID3y1ykpdcVOUNnToygXVG+qiXl7InV9xFjHSp+/QbXaMgwQVy3iAAAAABJRU5ErkJggg==",Fr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAyRJREFUWIXtlk9om2Ucxz/fJ5EJat9UZbRvGP4HvehluqK4KoLM6hjTgUjXbQfxbbqjgtftttMOgk0y1Fk3RTeR1SFTQQSV2VFP3sYEGW2S6qFJ2oHSpc/Pw5I0LnmTFb2t39Pz5P2+3+/nl7w8b2BDG7rZpfXeUPkjcz/etsoUYvTXU8omK6LabGrgvd//d4DqQmYIs1GMPcBAD3sJ6XO0+nEwcOzCfwJYLmWGV80OC4ZvBLQ93L4XHLojzP+wLoCl+YN3mfNHwfbF3Hde0hk8F71jE2YPyNiFGOrgNYwp/NU3gy3vL/YEqC68sQ1zX2CEHcIWgANBmPumE1W1GO0ATQGb2ykoSG53MDg5GwtQLUSvIX0A3Nqp3FztyV4PWWXh9fvkkzOdIIC/TexPDeZOtQFUi+NjwHEgEZO9o3Xycmn8GXkbkbQJ7FwQ5r9uZpWiEUxfxeSsgvYFYfaTJkC5GL3s0Kku5eeDMPdUY7NUio6Y6e1/OYzJIJ07uDZQZgZsWxyEzF7pS+enXXk+eszhPupSjqQzjfVyKTPcVn5tlIlKceL5NR4/HZcHJEw6uTiXedTJ6QTYbV3MYFxqonv/YiwofqRlcynOV9ftyaSdcE5YDyMea347ErfEcpquNtbOXK1XLoCr1TQGXOnhe6hZQuJcXH9C/mxj47GHe2ReqdU05u7ckv1VaAxYjXPK2NVYp8LJb4F3ri8XOtJ64gl2dylflWn0Wndd1eL4KDBF3MMojQSD2eb0lfnoOTleMmnFmT/bFx77qXFtqRDtNOnLuHKMvUE692kddE2VQvSqpA/pfBD9aa421Osgqs5NPEjC/wzcff01g7+Q9qcGs6cbn7lWQyqd/wy57QaFDtmb5ZMz1VLmhbjypUK0M64cmAM93VoOMS+jyuVMv5J2FHGgc5UuGH4aud+c9yteeqT+mz/RwWwmjrOit1L3ZMttSXHTACwXo+0Ghww9280XK/GdTIf7wuyP8ZYbULU08Tjm9yL2xLwlWxOLGKcNO5kK87/0ZlynyqXxe4VtlZHG1PhLtmiyollytj989/J6Mze0oZtb/wADUS0anuL7ZwAAAABJRU5ErkJggg==",Hi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAATpJREFUWIXtl0FKw0AUhr8Xs1AhERqEpuLGS3gQ7QFUBJd2qy7iAaR05yYXsD1WaVLEUBJQN81zYUFstCZDrRbylt/M/O8bGB6MYFCqgZ1F8a3CyYyErp8EIv1p1SzbRCCLxx2Fqw8iN1nsTYC7qlmWiYAqRwWWc2ySZSQA2iggwVuhwPKqFqgFaoH1FFDYnmcCWyZZohrYWTzuvI9X3f35BJsorW/WRiivJdo+iuQDp5l07TSKA+C6tLIuXPtarLjxQFUO08hzLeCsdPPl17nF4jv9ailMLdDwrwREJRTV9kYWe5eq0l7pIyR/cPykJ1WtASaji6HA3ufeDN3W/X7VLKM5IPA8zxReTLLWcxLWArVALfAPBCQpIOVpZQIi+aDItG+SZfQ7dppJN40aO4icAqCEjp/0TLLeAID5ZOIjYyYKAAAAAElFTkSuQmCC",Ih=["onClick"],$h={key:0,class:"empty"},Uh=["src"],Lh=["src"],Mh={key:3,class:"button alt"},Dh=["onClick"],Bh=["onClick"],Fh=["onClick"],Nh=["onClick"],Hh=["onClick"],Vh={key:1,class:"cards doublepage",style:{"grid-template-columns":"1fr 1fr 1fr"}},qh=["onClick"],Wh={key:0,class:"empty"},Kh=["src"],Jh=["src"],Gh={key:3,class:"button alt"},zh=["onClick"],Qh=["onClick"],Xh=["onClick"],Yh={key:2,class:"cards doublepage secondpage",style:{"grid-template-columns":"1fr 1fr 1fr"}},Zh=["onClick"],ef={key:0,class:"empty"},tf=["src"],sf=["src"],rf={key:3,class:"button alt"},nf=["onClick"],of=["onClick"],af=["onClick"],lf={__name:"CardPages",props:["cards","hidebuttons","computedcolumns","ncolumns","isMobile","page"],emits:["open-preview","delete-card","open-editor","add-card-position"],setup(e,{emit:t}){const s=t,r=e,n=i=>{i.alturl.length&&event.target.classList.toggle("fixed")};return(i,o)=>(L(),D("div",{class:le(["card-wrapper",{doublepage:r.ncolumns==5}])},[r.ncolumns<5||r.ncolumns==5&&r.page==0?(L(),D("div",{key:0,class:"cards",style:hr("grid-template-columns: "+(r.ncolumns<5?r.computedcolumns:"1fr 1fr 1fr")+";")},[(L(!0),D(be,null,It(r.cards.slice(0,r.ncolumns<5?r.cards.length:9),(a,l)=>(L(),D("div",{class:"card",onClick:u=>n(a)},[a.url.length?Y("",!0):(L(),D("div",$h)),a.url.length?(L(),D("img",{key:1,class:"maincard",src:a.url,alt:""},null,8,Uh)):Y("",!0),a.alturl.length?(L(),D("img",{key:2,class:"altcard",src:a.alturl,alt:""},null,8,Lh)):Y("",!0),a.alturl.length&&!r.hidebuttons?(L(),D("div",Mh,o[0]||(o[0]=[m("img",{src:Br,alt:"alternative"},null,-1)]))):Y("",!0),r.hidebuttons?Y("",!0):(L(),D("button",{key:4,class:"button edit",onClick:u=>s("open-editor",a)},o[1]||(o[1]=[m("img",{src:Ys,alt:"edit"},null,-1)]),8,Dh)),a.url.length&&!r.hidebuttons&&r.isMobile?(L(),D("button",{key:5,class:"button eye",onClick:u=>s("open-preview",a)},o[2]||(o[2]=[m("img",{src:Fr,alt:"preview"},null,-1)]),8,Bh)):Y("",!0),r.hidebuttons?Y("",!0):(L(),D("button",{key:6,class:"button delete",onClick:u=>s("delete-card",a)},o[3]||(o[3]=[m("img",{src:Zs,alt:"delete"},null,-1)]),8,Fh)),r.hidebuttons?Y("",!0):(L(),D("button",{key:7,class:"button addleft",onClick:u=>s("add-card-position",a.order)},o[4]||(o[4]=[m("img",{src:Hi,alt:"add left"},null,-1)]),8,Nh)),r.hidebuttons?Y("",!0):(L(),D("button",{key:8,class:"button addright",onClick:u=>s("add-card-position",a.order+1)},o[5]||(o[5]=[m("img",{src:Hi,alt:"add right"},null,-1)]),8,Hh))],8,Ih))),256))],4)):Y("",!0),r.ncolumns==5&&r.page>0?(L(),D("div",Vh,[(L(!0),D(be,null,It(r.cards.slice(0,9),(a,l)=>(L(),D("div",{class:"card",onClick:u=>n(a)},[a.url.length?Y("",!0):(L(),D("div",Wh)),a.url.length?(L(),D("img",{key:1,class:"maincard",src:a.url,alt:""},null,8,Kh)):Y("",!0),a.alturl.length?(L(),D("img",{key:2,class:"altcard",src:a.alturl,alt:""},null,8,Jh)):Y("",!0),a.alturl.length&&!r.hidebuttons?(L(),D("div",Gh,o[6]||(o[6]=[m("img",{src:Br,alt:"alternative"},null,-1)]))):Y("",!0),r.hidebuttons?Y("",!0):(L(),D("button",{key:4,class:"button edit",onClick:u=>s("open-editor",a)},o[7]||(o[7]=[m("img",{src:Ys,alt:"edit"},null,-1)]),8,zh)),a.url.length&&!r.hidebuttons&&r.isMobile?(L(),D("button",{key:5,class:"button eye",onClick:u=>s("open-preview",a)},o[8]||(o[8]=[m("img",{src:Fr,alt:"preview"},null,-1)]),8,Qh)):Y("",!0),r.hidebuttons?Y("",!0):(L(),D("button",{key:6,class:"button delete",onClick:u=>s("delete-card",a)},o[9]||(o[9]=[m("img",{src:Zs,alt:"delete"},null,-1)]),8,Xh))],8,qh))),256))])):Y("",!0),r.ncolumns==5&&r.page>0?(L(),D("div",Yh,[(L(!0),D(be,null,It(r.cards.slice(9,r.cards.length),(a,l)=>(L(),D("div",{class:"card",onClick:u=>n(a)},[a.url.length?Y("",!0):(L(),D("div",ef)),a.url.length?(L(),D("img",{key:1,class:"maincard",src:a.url,alt:""},null,8,tf)):Y("",!0),a.alturl.length?(L(),D("img",{key:2,class:"altcard",src:a.alturl,alt:""},null,8,sf)):Y("",!0),a.alturl.length&&!r.hidebuttons?(L(),D("div",rf,o[10]||(o[10]=[m("img",{src:Br,alt:"alternative"},null,-1)]))):Y("",!0),r.hidebuttons?Y("",!0):(L(),D("button",{key:4,class:"button edit",onClick:u=>s("open-editor",a)},o[11]||(o[11]=[m("img",{src:Ys,alt:"edit"},null,-1)]),8,nf)),a.url.length&&!r.hidebuttons&&r.isMobile?(L(),D("button",{key:5,class:"button eye",onClick:u=>s("open-preview",a)},o[12]||(o[12]=[m("img",{src:Fr,alt:"preview"},null,-1)]),8,of)):Y("",!0),r.hidebuttons?Y("",!0):(L(),D("button",{key:6,class:"button delete",onClick:u=>s("delete-card",a)},o[13]||(o[13]=[m("img",{src:Zs,alt:"delete"},null,-1)]),8,af))],8,Zh))),256))])):Y("",!0)],2))}},cf=wa(lf,[["__scopeId","data-v-ae97ba7e"]]),uf={class:"buttons"},df={key:0,class:"field columns"},hf={class:"radios"},ff=["disabled"],pf=["disabled"],gf={style:{color:"#fff"}},vf={class:"options"},mf={class:"field"},_f=["value"],yf={class:"field"},bf={class:"checkbox"},wf={class:"checkbox"},Af={key:0,class:"field columns"},kf={class:"radios"},Sf={key:0,class:"operations"},Cf={ref:"preview",src:"",alt:""},Ef={__name:"App",setup(e){const t=Ar(),s=In(),r=xe(()=>window.innerWidth<1024),n=G(!1),i=G(!1),o=G(3),a=xe(()=>o.value<5?o.value*3:9),l=xe(()=>{let U="";for(let C=0;C<o.value;C++)U+=" 1fr";return U}),u=G(1),c=G(0),d=async U=>{switch(U){case"left":o.value<5||c.value==1?c.value--:c.value-=2;break;case"right":o.value<5||c.value==0?c.value++:c.value+=2;break;case"first":c.value=0;break;case"last":let C=[];n.value?C=se.value.filter(F=>F.url.length):C=se.value,c.value=Math.ceil(C.length/a.value)-1;break}localStorage.setItem("currentPage",c.value),document.querySelectorAll(".fixed").forEach(C=>C.classList.remove("fixed"))},p=xe(()=>{let U=[];return n.value?U=se.value.filter(C=>C.url.length):U=se.value,o.value<5?U=U.slice(c.value*a.value,c.value*a.value+a.value):U=U.slice(c.value*a.value,c.value*a.value+a.value*2),U});kn(()=>{localStorage.getItem("currentPage")&&(c.value=localStorage.getItem("currentPage")),localStorage.getItem("currentGen")&&(u.value=localStorage.getItem("currentGen"))}),_t(u,async(U,C)=>{localStorage.setItem("currentGen",U),s.selectBinder(U),q(),c.value=0});const g=G(!1),b=jn(),E=G(!1),A=()=>{g.value=!g.value},R=()=>{g.value=!1},j=()=>{g.value=!0},O=G(null),y=U=>{j(),O.value&&$(),O.value=U,console.log("add card at "+O.value)},$=()=>{E.value=!0,setTimeout(()=>{E.value=!1},300)},Le=async U=>{if(!b.currentId)return alert("Prima carica un profilo!"),!1;if(!s.currentBinder)return alert("Prima scegli un binder!"),!1;let C=s.lastBinderOrder+1;if(O.value&&(C=O.value),O.value){console.log("update all cards from binder "+s.currentBinder+" from position "+C);try{const{data:F,error:he}=await Qe.rpc("increment_order",{binder_id:s.currentBinder,min_order:C});if(he)throw he}catch(F){console.log(F)}}if(U.type=="card")try{const{data:F,error:he}=await Qe.from("cards").insert({url:U.maincard,alturl:U.altcard,pokemon:U.pokemonNumber,binder:U.binder,order:C}).select();if(A(),he)throw he}catch(F){console.log(F)}else try{const{data:F,error:he}=await Qe.from("cards").insert({url:"",alturl:"",pokemon:null,binder:U.binder,order:C}).select();if(A(),he)throw he}catch(F){console.log(F)}O.value=null,q()},de=G(!1),J=G(null),V=bl("preview"),ce=U=>{de.value=!0,J.value=U,U.url&&!U.alturl?V.value.setAttribute("src",U.url):event.target.closest(".card").classList.contains("fixed")?V.value.setAttribute("src",U.alturl):V.value.setAttribute("src",U.url)},Ce=()=>{de.value=!1,J.value=null},Me=()=>{if(!r.value){let U=event.target;U.classList.contains("card")?(V.value.style.opacity=1,U.classList.contains("fixed")?V.value.setAttribute("src",U.querySelector(".altcard").getAttribute("src")):V.value.setAttribute("src",U.querySelector(".maincard").getAttribute("src"))):(V.value.setAttribute("src",""),V.value.style.opacity=0)}},De=G(!1),lt=U=>{De.value=!0,t.setEditing(U),console.log(U)},St=U=>{De.value=!1,t.setEditing(null),q()},se=G([]),q=async()=>{try{const{data:U,error:C}=await Qe.from("cards").select().eq("binder",s.currentBinder).order("order",{ascending:!0});if(se.value=U,s.setLastOrder(se.value[U.length-1].order),C)throw C}catch{}},ee=async U=>{try{const{data:C,error:F}=await Qe.from("cards").delete().eq("id",U.id).select();if(q(),F)throw F}catch{}};return(U,C)=>(L(),D("div",{class:"wrapper",onMousemove:Me},[Ue(cf,{cards:p.value,computedcolumns:l.value,ncolumns:o.value,page:c.value,hidebuttons:i.value,isMobile:r.value,onOpenEditor:lt,onOpenPreview:ce,onDeleteCard:ee,onAddCardPosition:y},null,8,["cards","computedcolumns","ncolumns","page","hidebuttons","isMobile"]),m("div",uf,[r.value?(L(),D("div",df,[C[19]||(C[19]=m("label",{for:"ncolumns"},"Columns",-1)),m("div",hf,[m("div",{class:le({radio:!0,active:o.value==3})},[ge(m("input",{name:"ncolumns",id:"pp3",type:"radio","onUpdate:modelValue":C[0]||(C[0]=F=>o.value=F),value:"3"},null,512),[[Pt,o.value]]),C[17]||(C[17]=m("label",{for:"pp3"},"3",-1))],2),m("div",{class:le({radio:!0,active:o.value==4})},[ge(m("input",{name:"ncolumns",id:"pp4",type:"radio","onUpdate:modelValue":C[1]||(C[1]=F=>o.value=F),value:"4"},null,512),[[Pt,o.value]]),C[18]||(C[18]=m("label",{for:"pp4"},"4",-1))],2)])])):Y("",!0),m("button",{disabled:c.value<=0,onClick:C[2]||(C[2]=F=>d("first"))}," <<",8,ff),m("button",{disabled:c.value<=0,onClick:C[3]||(C[3]=F=>d("left"))}," <",8,pf),m("div",null,[C[20]||(C[20]=Ms("Pag ")),m("span",gf,Ye(parseInt(c.value)+1),1)]),m("button",{onClick:C[4]||(C[4]=F=>d("right"))},">"),m("button",{onClick:C[5]||(C[5]=F=>d("last"))},">>")]),m("div",vf,[m("div",mf,[C[21]||(C[21]=m("label",{for:"generation"},"Binder",-1)),ge(m("select",{"onUpdate:modelValue":C[6]||(C[6]=F=>u.value=F),name:"genselect",id:"genselect"},[(L(!0),D(be,null,It(zt(s).userBinders,(F,he)=>(L(),D("option",{value:F.id},Ye(F.title),9,_f))),256))],512),[[qc,u.value]])]),m("div",yf,[m("div",bf,[ge(m("input",{type:"checkbox","onUpdate:modelValue":C[7]||(C[7]=F=>n.value=F),id:"fill",name:"fill"},null,512),[[hi,n.value]]),C[22]||(C[22]=m("label",{for:"fill"},"Fill pockets",-1))]),m("div",wf,[ge(m("input",{type:"checkbox","onUpdate:modelValue":C[8]||(C[8]=F=>i.value=F),id:"hide",name:"hide"},null,512),[[hi,i.value]]),C[23]||(C[23]=m("label",{for:"hide"},"Hide buttons",-1))])]),r.value?Y("",!0):(L(),D("div",Af,[C[27]||(C[27]=m("label",{for:"ncolumns"},"Columns",-1)),m("div",kf,[m("div",{class:le({radio:!0,active:o.value==3})},[C[24]||(C[24]=m("label",{for:"pp3"},"3",-1)),ge(m("input",{name:"ncolumns",id:"pp3",type:"radio","onUpdate:modelValue":C[9]||(C[9]=F=>o.value=F),value:"3"},null,512),[[Pt,o.value]])],2),m("div",{class:le({radio:!0,active:o.value==4})},[C[25]||(C[25]=m("label",{for:"pp4"},"4",-1)),ge(m("input",{name:"ncolumns",id:"pp4",type:"radio","onUpdate:modelValue":C[10]||(C[10]=F=>o.value=F),value:"4"},null,512),[[Pt,o.value]])],2),m("div",{class:le({radio:!0,active:o.value==5})},[C[26]||(C[26]=m("label",{for:"pp5"},"2P",-1)),ge(m("input",{name:"ncolumns",id:"pp5",type:"radio","onUpdate:modelValue":C[11]||(C[11]=F=>o.value=F),value:"5"},null,512),[[Pt,o.value]])],2)])])),Ue(Ch,{isOpen:g.value,pulse:E.value,onAddCard:Le,onToggleLoader:A,onCloseLoader:R},null,8,["isOpen","pulse"]),Ue(fh,{onSelectBinder:C[12]||(C[12]=F=>u.value=zt(s).currentBinder)})]),m("div",{class:le({preview:!0,open:de.value}),onClick:Ce},[r.value?(L(),D("div",Sf,[m("button",{class:"button edit",onClick:C[13]||(C[13]=F=>lt(J.value))},C[28]||(C[28]=[m("img",{src:Ys,alt:""},null,-1)])),m("button",{class:"button delete",onClick:C[14]||(C[14]=F=>ee(J.value))},C[29]||(C[29]=[m("img",{src:Zs,alt:""},null,-1)]))])):Y("",!0),m("img",Cf,null,512)],2),Ue(jh,{isOpen:De.value,onEditCard:C[15]||(C[15]=F=>St()),onCloseEditor:C[16]||(C[16]=F=>St())},null,8,["isOpen"])],32))}},Aa=zc(Ef);Aa.use(Zc());Aa.mount("#app");export{gu as g};
